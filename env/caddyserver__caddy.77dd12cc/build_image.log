#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 206B done
#1 DONE 0.0s

#2 [auth] library/golang:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/golang:1.24
#3 DONE 0.5s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/5] FROM docker.io/library/golang:1.24@sha256:14fd8a55e59a560704e5fc44970b301d00d344e45d6b914dda228e09f359a088
#5 CACHED

#6 [2/5] RUN git clone https://github.com/swesmith/caddyserver__caddy.77dd12cc /testbed
#6 0.149 Cloning into '/testbed'...
#6 DONE 0.6s

#7 [3/5] WORKDIR /testbed
#7 DONE 0.1s

#8 [4/5] RUN go mod tidy
#8 0.195 go: downloading github.com/aryann/difflib v0.0.0-20210328193216-ff5ff6dc229b
#8 0.199 go: downloading go.uber.org/zap v1.27.0
#8 0.201 go: downloading github.com/caddyserver/certmagic v0.23.0
#8 0.201 go: downloading github.com/dustin/go-humanize v1.0.1
#8 0.202 go: downloading github.com/libdns/libdns v1.0.0-beta.1
#8 0.204 go: downloading github.com/mholt/acmez/v3 v3.1.2
#8 0.269 go: downloading github.com/smallstep/certificates v0.26.1
#8 0.269 go: downloading go.uber.org/zap/exp v0.3.0
#8 0.270 go: downloading golang.org/x/net v0.38.0
#8 0.297 go: downloading github.com/KimMachineGun/automemlimit v0.7.1
#8 0.299 go: downloading github.com/spf13/cobra v1.9.1
#8 0.310 go: downloading github.com/klauspost/compress v1.18.0
#8 0.318 go: downloading github.com/spf13/pflag v1.0.6
#8 0.339 go: downloading golang.org/x/crypto v0.36.0
#8 0.339 go: downloading go.uber.org/automaxprocs v1.6.0
#8 0.350 go: downloading golang.org/x/sync v0.12.0
#8 0.369 go: downloading golang.org/x/crypto/x509roots/fallback v0.0.0-20250305170421-49bf5b80c810
#8 0.371 go: downloading golang.org/x/term v0.30.0
#8 0.409 go: downloading github.com/cespare/xxhash/v2 v2.3.0
#8 0.421 go: downloading github.com/cespare/xxhash v1.1.0
#8 0.427 go: downloading github.com/google/cel-go v0.24.1
#8 0.441 go: downloading github.com/pires/go-proxyproto v0.7.1-0.20240628150027-b718e7ce4964
#8 0.468 go: downloading github.com/google/uuid v1.6.0
#8 0.484 go: downloading github.com/prometheus/client_golang v1.19.1
#8 0.498 go: downloading github.com/quic-go/quic-go v0.53.0
#8 0.530 go: downloading golang.org/x/sys v0.31.0
#8 0.545 go: downloading golang.org/x/time v0.11.0
#8 0.569 go: downloading github.com/BurntSushi/toml v1.4.0
#8 0.640 go: downloading github.com/Masterminds/sprig/v3 v3.3.0
#8 0.640 go: downloading github.com/prometheus/client_model v0.5.0
#8 0.640 go: downloading github.com/alecthomas/chroma/v2 v2.15.0
#8 0.659 go: downloading github.com/yuin/goldmark v1.7.8
#8 0.665 go: downloading github.com/go-chi/chi/v5 v5.2.1
#8 0.672 go: downloading github.com/yuin/goldmark-highlighting/v2 v2.0.0-20230729083705-37449abec8cc
#8 0.700 go: downloading go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.56.0
#8 0.713 go: downloading go.opentelemetry.io/contrib/propagators/autoprop v0.42.0
#8 0.715 go: downloading go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc v1.31.0
#8 0.727 go: downloading gopkg.in/yaml.v3 v3.0.1
#8 0.731 go: downloading go.opentelemetry.io/otel/exporters/otlp/otlptrace v1.31.0
#8 0.732 go: downloading go.opentelemetry.io/otel v1.31.0
#8 0.735 go: downloading github.com/stretchr/testify v1.10.0
#8 0.736 go: downloading go.opentelemetry.io/otel/sdk v1.31.0
#8 0.775 go: downloading github.com/smallstep/nosql v0.6.1
#8 0.799 go: downloading github.com/smallstep/truststore v0.13.0
#8 0.822 go: downloading go.step.sm/crypto v0.45.0
#8 0.887 go: downloading go.opentelemetry.io/otel/trace v1.31.0
#8 0.888 go: downloading gopkg.in/natefinch/lumberjack.v2 v2.2.1
#8 0.889 go: downloading github.com/caddyserver/zerossl v0.1.3
#8 0.889 go: downloading github.com/cloudflare/circl v1.6.1
#8 0.913 go: downloading github.com/klauspost/cpuid/v2 v2.2.10
#8 0.914 go: downloading github.com/tailscale/tscert v0.0.0-20240608151842-d3f834017e53
#8 0.949 go: downloading github.com/zeebo/blake3 v0.2.4
#8 0.949 go: downloading github.com/miekg/dns v1.1.63
#8 0.950 go: downloading go.uber.org/multierr v1.11.0
#8 0.978 go: downloading github.com/pbnjay/memory v0.0.0-20210728143218-7b4eea64cf58
#8 0.992 go: downloading github.com/inconshreveable/mousetrap v1.1.0
#8 1.004 go: downloading github.com/cpuguy83/go-md2man/v2 v2.0.6
#8 1.007 go: downloading github.com/fxamacker/cbor/v2 v2.6.0
#8 1.009 go: downloading github.com/google/go-tpm v0.9.0
#8 1.015 go: downloading github.com/pkg/errors v0.9.1
#8 1.033 go: downloading github.com/smallstep/go-attestation v0.4.4-0.20240109183208-413678f90935
#8 1.036 go: downloading golang.org/x/exp v0.0.0-20240506185415-9bf2ced13842
#8 1.131 go: downloading cel.dev/expr v0.19.1
#8 1.153 go: downloading google.golang.org/protobuf v1.35.1
#8 1.153 go: downloading google.golang.org/genproto/googleapis/api v0.0.0-20241007155032-5fefd90f89a9
#8 1.337 go: downloading github.com/stoewer/go-strcase v1.2.0
#8 1.337 go: downloading github.com/beorn7/perks v1.0.1
#8 1.337 go: downloading github.com/prometheus/common v0.48.0
#8 1.342 go: downloading github.com/prometheus/procfs v0.12.0
#8 1.349 go: downloading github.com/antlr4-go/antlr/v4 v4.13.0
#8 1.351 go: downloading go.uber.org/mock v0.5.0
#8 1.374 go: downloading github.com/quic-go/qpack v0.5.1
#8 1.375 go: downloading github.com/francoispqt/gojay v1.2.13
#8 1.396 go: downloading golang.org/x/text v0.23.0
#8 1.402 go: downloading dario.cat/mergo v1.0.1
#8 1.406 go: downloading github.com/Masterminds/goutils v1.1.1
#8 1.420 go: downloading github.com/Masterminds/semver/v3 v3.3.0
#8 1.422 go: downloading github.com/huandu/xstrings v1.5.0
#8 1.423 go: downloading github.com/mitchellh/copystructure v1.2.0
#8 1.434 go: downloading github.com/shopspring/decimal v1.4.0
#8 1.438 go: downloading github.com/spf13/cast v1.7.0
#8 1.602 go: downloading go.uber.org/goleak v1.3.0
#8 1.602 go: downloading github.com/google/go-cmp v0.6.0
#8 1.602 go: downloading github.com/smallstep/assert v0.0.0-20200723003110-82e2b9b3b262
#8 1.624 go: downloading go.step.sm/cli-utils v0.9.0
#8 1.635 go: downloading go.step.sm/linkedca v0.20.1
#8 1.654 go: downloading google.golang.org/grpc v1.67.1
#8 1.666 go: downloading github.com/go-jose/go-jose/v3 v3.0.4
#8 1.694 go: downloading github.com/felixge/httpsnoop v1.0.4
#8 1.704 go: downloading go.opentelemetry.io/otel/metric v1.31.0
#8 1.718 go: downloading github.com/davecgh/go-spew v1.1.1
#8 1.731 go: downloading go.opentelemetry.io/contrib/propagators/aws v1.17.0
#8 1.741 go: downloading go.opentelemetry.io/contrib/propagators/b3 v1.17.0
#8 1.751 go: downloading go.opentelemetry.io/contrib/propagators/jaeger v1.17.0
#8 1.762 go: downloading go.opentelemetry.io/contrib/propagators/ot v1.17.0
#8 1.771 go: downloading github.com/slackhq/nebula v1.6.1
#8 1.856 go: downloading gopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c
#8 1.876 go: downloading github.com/pmezard/go-difflib v1.0.0
#8 1.886 go: downloading howett.net/plist v1.0.0
#8 1.900 go: downloading github.com/alecthomas/assert/v2 v2.11.0
#8 1.900 go: downloading go.opentelemetry.io/proto/otlp v1.3.1
#8 1.920 go: downloading google.golang.org/genproto/googleapis/rpc v0.0.0-20241007155032-5fefd90f89a9
#8 1.922 go: downloading github.com/go-logr/logr v1.4.2
#8 1.942 go: downloading github.com/zeebo/assert v1.1.0
#8 1.942 go: downloading golang.org/x/tools v0.31.0
#8 1.943 go: downloading github.com/prashantv/gostub v1.1.0
#8 1.962 go: downloading github.com/russross/blackfriday/v2 v2.1.0
#8 1.965 go: downloading github.com/x448/float16 v0.8.4
#8 1.977 go: downloading github.com/google/go-tspi v0.3.0
#8 1.990 go: downloading github.com/google/go-tpm-tools v0.4.4
#8 1.990 go: downloading github.com/peterbourgon/diskv/v3 v3.0.1
#8 1.990 go: downloading github.com/schollz/jsonstore v1.1.0
#8 1.995 go: downloading golang.org/x/mod v0.24.0
#8 1.995 go: downloading github.com/mitchellh/reflectwalk v1.0.2
#8 1.995 go: downloading github.com/dlclark/regexp2 v1.11.4
#8 2.008 go: downloading github.com/alecthomas/repr v0.4.0
#8 2.015 go: downloading github.com/sirupsen/logrus v1.9.3
#8 2.031 go: downloading github.com/frankban/quicktest v1.14.6
#8 2.034 go: downloading github.com/smallstep/pkcs7 v0.0.0-20231024181729-3b98ecc1ca81
#8 2.039 go: downloading github.com/smallstep/scep v0.0.0-20231024192529-aee96d7ad34d
#8 2.051 go: downloading github.com/urfave/cli v1.22.14
#8 2.052 go: downloading github.com/chzyer/readline v1.5.1
#8 2.057 go: downloading github.com/manifoldco/promptui v0.9.0
#8 2.057 go: downloading github.com/go-logr/stdr v1.2.2
#8 2.070 go: downloading github.com/rs/xid v1.5.0
#8 2.070 go: downloading filippo.io/edwards25519 v1.1.0
#8 2.080 go: downloading github.com/kr/pretty v0.3.1
#8 2.082 go: downloading github.com/dgraph-io/badger v1.6.2
#8 2.085 go: downloading github.com/dgraph-io/badger/v2 v2.2007.4
#8 2.127 go: downloading github.com/go-sql-driver/mysql v1.7.1
#8 2.127 go: downloading go.etcd.io/bbolt v1.3.9
#8 2.149 go: downloading github.com/jackc/pgx/v4 v4.18.3
#8 2.170 go: downloading github.com/cenkalti/backoff/v4 v4.3.0
#8 2.170 go: downloading github.com/hexops/gotextdiff v1.0.3
#8 2.174 go: downloading github.com/grpc-ecosystem/grpc-gateway/v2 v2.22.0
#8 2.181 go: downloading github.com/Microsoft/go-winio v0.6.0
#8 2.192 go: downloading github.com/mitchellh/go-ps v1.0.0
#8 2.195 go: downloading github.com/google/certificate-transparency-go v1.1.8-0.20240110162603-74a5dd331745
#8 2.196 go: downloading github.com/google/btree v1.1.2
#8 2.203 go: downloading github.com/aws/aws-sdk-go-v2/config v1.27.13
#8 2.206 go: downloading github.com/aws/aws-sdk-go-v2/service/kms v1.31.1
#8 2.223 go: downloading github.com/aws/aws-sdk-go-v2 v1.26.1
#8 2.297 go: downloading cloud.google.com/go/kms v1.16.0
#8 2.312 go: downloading github.com/googleapis/gax-go/v2 v2.12.4
#8 2.315 go: downloading google.golang.org/api v0.180.0
#8 2.315 go: downloading github.com/go-kit/kit v0.13.0
#8 2.330 go: downloading github.com/googleapis/gax-go v2.0.0+incompatible
#8 2.335 go: downloading cloud.google.com/go v0.112.1
#8 2.347 go: downloading github.com/chzyer/test v1.0.0
#8 2.355 go: downloading github.com/kr/text v0.2.0
#8 2.374 go: downloading github.com/rogpeppe/go-internal v1.13.1
#8 2.381 go: downloading github.com/dgraph-io/ristretto v0.2.0
#8 2.381 go: downloading github.com/golang/protobuf v1.5.4
#8 2.400 go: downloading github.com/dgryski/go-farm v0.0.0-20200201041132-a6ae2369ad13
#8 2.408 go: downloading github.com/jackc/pgconn v1.14.3
#8 2.414 go: downloading github.com/jackc/pgio v1.0.0
#8 2.414 go: downloading github.com/jackc/pgproto3/v2 v2.3.3
#8 2.420 go: downloading github.com/jackc/pgtype v1.14.0
#8 2.420 go: downloading github.com/cockroachdb/apd v1.1.0
#8 2.422 go: downloading github.com/gofrs/uuid v4.0.0+incompatible
#8 2.425 go: downloading github.com/aws/aws-sdk-go-v2/credentials v1.17.13
#8 2.452 go: downloading github.com/aws/aws-sdk-go-v2/feature/ec2/imds v1.16.1
#8 2.452 go: downloading github.com/aws/aws-sdk-go-v2/service/ssooidc v1.24.0
#8 2.453 go: downloading github.com/aws/aws-sdk-go-v2/service/sso v1.20.6
#8 2.453 go: downloading github.com/aws/aws-sdk-go-v2/service/sts v1.28.7
#8 2.453 go: downloading github.com/aws/aws-sdk-go-v2/internal/ini v1.8.0
#8 2.460 go: downloading github.com/aws/smithy-go v1.20.2
#8 2.481 go: downloading github.com/aws/aws-sdk-go-v2/internal/configsources v1.3.5
#8 2.513 go: downloading github.com/chzyer/logex v1.2.1
#8 2.513 go: downloading github.com/AndreasBriese/bbloom v0.0.0-20190825152654-46b345b51c96
#8 2.513 go: downloading github.com/go-kit/log v0.2.1
#8 2.513 go: downloading github.com/golang/snappy v0.0.4
#8 2.513 go: downloading cloud.google.com/go/iam v1.1.8
#8 2.523 go: downloading cloud.google.com/go/longrunning v0.5.7
#8 2.546 go: downloading google.golang.org/genproto v0.0.0-20240401170217-c3f982113cda
#8 2.547 go: downloading github.com/jackc/chunkreader/v2 v2.0.1
#8 2.556 go: downloading github.com/jackc/pgpassfile v1.0.0
#8 2.567 go: downloading github.com/jackc/pgservicefile v0.0.0-20221227161230-091c0ba34f0a
#8 2.576 go: downloading github.com/jackc/pgmock v0.0.0-20210724152146-4ad1a8207f65
#8 2.586 go: downloading github.com/zeebo/pcg v1.0.1
#8 2.605 go: downloading github.com/mgutz/ansi v0.0.0-20200706080929-d51e80ef957d
#8 2.617 go: downloading github.com/lib/pq v1.10.9
#8 2.647 go: downloading github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.11.2
#8 2.664 go: downloading github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.11.7
#8 2.681 go: downloading github.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.5
#8 2.699 go: downloading github.com/OneOfOne/xxhash v1.2.2
#8 2.711 go: downloading github.com/spaolacci/murmur3 v1.1.0
#8 2.722 go: downloading github.com/go-logfmt/logfmt v0.6.0
#8 3.118 go: downloading github.com/shurcooL/sanitized_anchor_name v1.0.0
#8 3.118 go: downloading github.com/mattn/go-colorable v0.1.13
#8 3.132 go: downloading github.com/mattn/go-isatty v0.0.20
#8 4.526 go: downloading golang.org/x/oauth2 v0.22.0
#8 4.527 go: downloading cloud.google.com/go/auth v0.4.1
#8 4.527 go: downloading cloud.google.com/go/auth/oauth2adapt v0.2.2
#8 4.529 go: downloading go.opencensus.io v0.24.0
#8 4.529 go: downloading cloud.google.com/go/compute/metadata v0.5.0
#8 4.546 go: downloading cloud.google.com/go/compute v1.23.3
#8 4.570 go: downloading go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc v0.49.0
#8 4.580 go: downloading github.com/google/s2a-go v0.1.7
#8 4.580 go: downloading github.com/googleapis/enterprise-certificate-proxy v0.3.2
#8 4.600 go: downloading github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da
#8 DONE 10.5s

#9 [5/5] RUN go test -v -count=1 ./... || true
#9 18.00 === RUN   TestUnsyncedConfigAccess
#9 18.00 --- PASS: TestUnsyncedConfigAccess (0.00s)
#9 18.00 === RUN   TestLoadConcurrent
#9 18.00 {"level":"info","ts":1752538246.810304,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8105803,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8106613,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8108108,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8110378,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8110666,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8113165,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8113105,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8114002,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.811605,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8118672,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8121667,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8124719,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8127234,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.812754,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.812797,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8128438,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8128679,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.812888,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.813043,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8131883,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.813331,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8136077,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8136394,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.813684,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.813891,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8141966,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.814453,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8147342,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8150058,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8152564,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8153534,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.815412,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8154325,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.815459,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8154695,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8154752,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8155167,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8156457,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8158092,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8159032,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8161297,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8162363,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8164346,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8165321,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.81676,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8169096,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8170815,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.817283,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8180916,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.81821,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8184671,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8185525,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8188043,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8189013,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8192668,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8193698,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.819595,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8198504,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8199873,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8200662,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.820425,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8206813,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8209224,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8210032,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8213,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8213966,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.821582,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8226464,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8229165,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8231833,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8247492,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8250864,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.825624,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8257856,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.827606,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8279042,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8280573,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8283718,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8284452,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8287497,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8288531,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8290553,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8294082,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8296611,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8300397,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.830196,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8306108,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8309302,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8310645,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8312094,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8315547,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.831901,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.832125,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.83215,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8321974,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8323064,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.832522,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.832847,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8329575,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8332627,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8333526,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8336356,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.833715,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8340335,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8341012,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8344452,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.834745,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.834822,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.835207,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8355165,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8358347,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8361604,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8348603,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8364515,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.836478,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8364966,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8365095,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.83654,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8365562,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8365707,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.836822,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8371973,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.837479,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.837777,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8381207,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8383927,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8386595,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8389697,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8392427,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8394983,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.839751,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.840002,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.840025,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8400369,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.840048,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8400602,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8400729,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8400786,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8400843,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8401139,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8401272,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.840317,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8405576,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8409138,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8410673,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8414109,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8415532,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8418946,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.842077,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8424113,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.842558,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8425686,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8428311,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8429813,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8431156,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8433955,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8436115,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8438654,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.844118,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8443537,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8445776,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.844782,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8450491,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8455355,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8455906,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8456097,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8456318,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.845664,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8456895,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8457122,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8457816,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8461304,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8463295,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.846547,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.846655,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.846753,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8469083,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8469756,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8472307,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.847336,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8475344,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.847612,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8477948,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.847838,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.848074,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.848145,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8483584,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.848448,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8486228,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.848712,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8488767,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//[::1]:2019","//127.0.0.1:2019","//localhost:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8489876,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8491766,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//127.0.0.1:2019","//localhost:2019","//[::1]:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8494296,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 {"level":"info","ts":1752538246.8496997,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.849722,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.849803,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 --- PASS: TestLoadConcurrent (0.04s)
#9 18.00 === RUN   TestETags
#9 18.00 {"level":"info","ts":1752538246.8499815,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.850358,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 18.00 {"level":"info","ts":1752538246.8504925,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 {"level":"info","ts":1752538246.8511207,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 18.00 {"level":"info","ts":1752538246.8515544,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 18.00 {"level":"info","ts":1752538246.8516967,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 18.00 {"level":"info","ts":1752538246.8517785,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 18.00 --- PASS: TestETags (0.00s)
#9 18.00 === RUN   TestAdminHandlerErrorHandling
#9 18.00 {"level":"info","ts":1752538246.851883,"logger":"admin.api","msg":"received request","method":"GET","host":"example.com","uri":"/error","remote_ip":"192.0.2.1","remote_port":"1234","headers":{}}
#9 18.00 {"level":"error","ts":1752538246.8518918,"logger":"admin.api","msg":"request error","error":"test error","status_code":500}
#9 18.00 --- PASS: TestAdminHandlerErrorHandling (0.00s)
#9 18.00 === RUN   TestAdminHandlerBuiltinRouteErrors
#9 18.00 {"level":"info","ts":1752538246.852118,"logger":"admin","msg":"admin endpoint started","address":"localhost:2019","enforce_origin":false,"origins":["//localhost:2019","//[::1]:2019","//127.0.0.1:2019"]}
#9 18.00 === RUN   TestAdminHandlerBuiltinRouteErrors/stop_endpoint_wrong_method
#9 18.00 {"level":"info","ts":1752538246.8521554,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2019","uri":"http://localhost:2019/stop","remote_ip":"192.0.2.1","remote_port":"1234","headers":{}}
#9 18.00 {"level":"error","ts":1752538246.8521762,"logger":"admin.api","msg":"request error","error":"method not allowed","status_code":405}
#9 18.00 === RUN   TestAdminHandlerBuiltinRouteErrors/config_endpoint_wrong_content-type
#9 18.00 {"level":"info","ts":1752538246.8522139,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2019","uri":"http://localhost:2019/config/","remote_ip":"192.0.2.1","remote_port":"1234","headers":{}}
#9 18.00 {"level":"error","ts":1752538246.852234,"logger":"admin.api","msg":"request error","error":"unacceptable content-type: ; 'application/json' required","status_code":400}
#9 18.00 === RUN   TestAdminHandlerBuiltinRouteErrors/config_ID_missing_ID
#9 18.00 {"level":"info","ts":1752538246.8522635,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2019","uri":"http://localhost:2019/id/","remote_ip":"192.0.2.1","remote_port":"1234","headers":{}}
#9 18.00 {"level":"error","ts":1752538246.852274,"logger":"admin.api","msg":"request error","error":"request path is missing object ID","status_code":400}
#9 18.00 {"level":"info","ts":1752538246.8522909,"logger":"admin","msg":"stopped previous server","address":"localhost:2019"}
#9 18.00 --- PASS: TestAdminHandlerBuiltinRouteErrors (0.00s)
#9 18.00     --- PASS: TestAdminHandlerBuiltinRouteErrors/stop_endpoint_wrong_method (0.00s)
#9 18.00     --- PASS: TestAdminHandlerBuiltinRouteErrors/config_endpoint_wrong_content-type (0.00s)
#9 18.00     --- PASS: TestAdminHandlerBuiltinRouteErrors/config_ID_missing_ID (0.00s)
#9 18.00 === RUN   TestNewAdminHandlerRouterRegistration
#9 18.00 {"level":"info","ts":1752538246.8523645,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2019","uri":"/mock","remote_ip":"192.0.2.1","remote_port":"1234","headers":{}}
#9 18.00 --- PASS: TestNewAdminHandlerRouterRegistration (0.00s)
#9 18.00 === RUN   TestAdminRouterProvisioning
#9 18.00 === RUN   TestAdminRouterProvisioning/successful_provisioning
#9 18.00 === RUN   TestAdminRouterProvisioning/provisioning_error
#9 18.00 --- PASS: TestAdminRouterProvisioning (0.00s)
#9 18.00     --- PASS: TestAdminRouterProvisioning/successful_provisioning (0.00s)
#9 18.00     --- PASS: TestAdminRouterProvisioning/provisioning_error (0.00s)
#9 18.00 === RUN   TestAllowedOriginsUnixSocket
#9 18.00 === RUN   TestAllowedOriginsUnixSocket/unix_socket_with_default_origins
#9 18.00 === RUN   TestAllowedOriginsUnixSocket/unix_socket_with_custom_origins
#9 18.00 === RUN   TestAllowedOriginsUnixSocket/tcp_socket_on_localhost_gets_all_loopback_addresses
#9 18.00 --- PASS: TestAllowedOriginsUnixSocket (0.00s)
#9 18.00     --- PASS: TestAllowedOriginsUnixSocket/unix_socket_with_default_origins (0.00s)
#9 18.00     --- PASS: TestAllowedOriginsUnixSocket/unix_socket_with_custom_origins (0.00s)
#9 18.00     --- PASS: TestAllowedOriginsUnixSocket/tcp_socket_on_localhost_gets_all_loopback_addresses (0.00s)
#9 18.00 === RUN   TestReplaceRemoteAdminServer
#9 18.00 === RUN   TestReplaceRemoteAdminServer/nil_config
#9 18.00 === RUN   TestReplaceRemoteAdminServer/nil_admin_config
#9 18.00 {"level":"info","ts":1752538246.852818,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 18.00 === RUN   TestReplaceRemoteAdminServer/nil_remote_config
#9 18.00 === RUN   TestReplaceRemoteAdminServer/invalid_listen_address
#9 18.00 === RUN   TestReplaceRemoteAdminServer/valid_config
#9 18.00 {"level":"info","ts":1752538246.8547137,"logger":"admin.remote","msg":"secure admin remote control endpoint started","address":"localhost:2021"}
#9 18.00 {"level":"info","ts":1752538246.8547306,"logger":"admin","msg":"stopped previous server","address":"localhost:2021"}
#9 18.00 === RUN   TestReplaceRemoteAdminServer/invalid_certificate
#9 18.00 {"level":"info","ts":1752538246.8552594,"logger":"admin","msg":"stopped previous server","address":"localhost:2021"}
#9 18.00 --- PASS: TestReplaceRemoteAdminServer (0.00s)
#9 18.00     --- PASS: TestReplaceRemoteAdminServer/nil_config (0.00s)
#9 18.00     --- PASS: TestReplaceRemoteAdminServer/nil_admin_config (0.00s)
#9 18.00     --- PASS: TestReplaceRemoteAdminServer/nil_remote_config (0.00s)
#9 18.00     --- PASS: TestReplaceRemoteAdminServer/invalid_listen_address (0.00s)
#9 18.00     --- PASS: TestReplaceRemoteAdminServer/valid_config (0.00s)
#9 18.00     --- PASS: TestReplaceRemoteAdminServer/invalid_certificate (0.00s)
#9 18.00 === RUN   TestManageIdentity
#9 18.00 1.7525382468558745e+09	info	maintenance	started background certificate maintenance	{"cache": "0xc0004dfa80"}
#9 18.00 1.7525382468558953e+09	info	maintenance	started background certificate maintenance	{"cache": "0xc000660000"}
#9 18.00 {"level":"info","ts":1752538246.855912,"logger":"admin","msg":"stopped previous server","address":"localhost:2021"}
#9 18.00 === RUN   TestManageIdentity/nil_config
#9 18.00 1.7525382468731096e+09	info	maintenance	stopped background certificate maintenance	{"cache": "0xc000660000"}
#9 18.00 === RUN   TestManageIdentity/nil_admin_config
#9 18.00 === RUN   TestManageIdentity/nil_identity_config
#9 18.00 === RUN   TestManageIdentity/default_issuer_when_none_specified
#9 18.00 === RUN   TestManageIdentity/custom_issuer
#9 18.00 {"level":"info","ts":1752538246.8733609,"logger":"admin.identity.cache.maintenance","msg":"started background certificate maintenance","cache":"0xc000660300"}
#9 18.00 {"level":"info","ts":1752538246.873369,"logger":"admin.identity.cache.maintenance","msg":"stopped background certificate maintenance","cache":"0xc000660300"}
#9 18.00 === RUN   TestManageIdentity/invalid_issuer_module
#9 18.00 {"level":"info","ts":1752538246.8736618,"logger":"admin.identity.cache.maintenance","msg":"started background certificate maintenance","cache":"0xc000660580"}
#9 18.00 {"level":"info","ts":1752538246.8736877,"logger":"admin.identity.cache.maintenance","msg":"stopped background certificate maintenance","cache":"0xc000660580"}
#9 18.00 --- PASS: TestManageIdentity (0.02s)
#9 18.00     --- PASS: TestManageIdentity/nil_config (0.00s)
#9 18.00     --- PASS: TestManageIdentity/nil_admin_config (0.00s)
#9 18.00     --- PASS: TestManageIdentity/nil_identity_config (0.00s)
#9 18.00     --- PASS: TestManageIdentity/default_issuer_when_none_specified (0.00s)
#9 18.00     --- PASS: TestManageIdentity/custom_issuer (0.00s)
#9 18.00     --- PASS: TestManageIdentity/invalid_issuer_module (0.00s)
#9 18.00 === RUN   TestParseDuration
#9 18.00 --- PASS: TestParseDuration (0.00s)
#9 18.00 === RUN   TestEvent_CloudEvent_NilOrigin
#9 18.00 --- PASS: TestEvent_CloudEvent_NilOrigin (0.00s)
#9 18.00 === RUN   TestSplitNetworkAddress
#9 18.00 --- PASS: TestSplitNetworkAddress (0.00s)
#9 18.00 === RUN   TestJoinNetworkAddress
#9 18.00 --- PASS: TestJoinNetworkAddress (0.00s)
#9 18.00 === RUN   TestParseNetworkAddress
#9 18.00 --- PASS: TestParseNetworkAddress (0.00s)
#9 18.00 === RUN   TestParseNetworkAddressWithDefaults
#9 18.00 --- PASS: TestParseNetworkAddressWithDefaults (0.00s)
#9 18.00 === RUN   TestJoinHostPort
#9 18.00 --- PASS: TestJoinHostPort (0.00s)
#9 18.00 === RUN   TestExpand
#9 18.00 --- PASS: TestExpand (0.00s)
#9 18.00 === RUN   TestSplitUnixSocketPermissionsBits
#9 18.00 --- PASS: TestSplitUnixSocketPermissionsBits (0.00s)
#9 18.00 === RUN   TestCustomLog_loggerAllowed
#9 18.00 === RUN   TestCustomLog_loggerAllowed/include
#9 18.00 === RUN   TestCustomLog_loggerAllowed/exclude
#9 18.00 === RUN   TestCustomLog_loggerAllowed/include_and_exclude
#9 18.00 === RUN   TestCustomLog_loggerAllowed/include_and_exclude_(longer_namespace)
#9 18.00 === RUN   TestCustomLog_loggerAllowed/excluded_module_is_not_printed
#9 18.00 --- PASS: TestCustomLog_loggerAllowed (0.00s)
#9 18.00     --- PASS: TestCustomLog_loggerAllowed/include (0.00s)
#9 18.00     --- PASS: TestCustomLog_loggerAllowed/exclude (0.00s)
#9 18.00     --- PASS: TestCustomLog_loggerAllowed/include_and_exclude (0.00s)
#9 18.00     --- PASS: TestCustomLog_loggerAllowed/include_and_exclude_(longer_namespace) (0.00s)
#9 18.00     --- PASS: TestCustomLog_loggerAllowed/excluded_module_is_not_printed (0.00s)
#9 18.00 === RUN   TestGetModules
#9 18.00 --- PASS: TestGetModules (0.00s)
#9 18.00 === RUN   TestModuleID
#9 18.00 --- PASS: TestModuleID (0.00s)
#9 18.00 === RUN   TestReplacer
#9 18.00 --- PASS: TestReplacer (0.00s)
#9 18.00 === RUN   TestReplacerSet
#9 18.00 --- PASS: TestReplacerSet (0.00s)
#9 18.00 === RUN   TestReplacerReplaceKnown
#9 18.00 --- PASS: TestReplacerReplaceKnown (0.00s)
#9 18.00 === RUN   TestReplacerDelete
#9 18.00 --- PASS: TestReplacerDelete (0.00s)
#9 18.00 === RUN   TestReplacerMap
#9 18.00 --- PASS: TestReplacerMap (0.00s)
#9 18.00 === RUN   TestReplacerNew
#9 18.00 {"level":"info","ts":1752538246.88057,"logger":"admin.identity.obtain","msg":"acquiring lock","identifier":"localhost"}
#9 18.00 {"level":"info","ts":1752538246.8823798,"logger":"admin.identity.obtain","msg":"acquiring lock","identifier":"localhost"}
#9 18.00 {"level":"info","ts":1752538246.8853152,"logger":"admin.identity.obtain","msg":"lock acquired","identifier":"localhost"}
#9 18.00 {"level":"info","ts":1752538246.8853824,"logger":"admin.identity.obtain","msg":"obtaining certificate","identifier":"localhost"}
#9 18.00 --- PASS: TestReplacerNew (0.01s)
#9 18.00 === RUN   TestReplacerNewWithoutFile
#9 18.00 --- PASS: TestReplacerNewWithoutFile (0.00s)
#9 18.00 PASS
#9 18.00 ok  	github.com/caddyserver/caddy/v2	0.089s
#9 18.00 ?   	github.com/caddyserver/caddy/v2/caddyconfig	[no test files]
#9 18.00 === RUN   TestDispenser_Val_Next
#9 18.00 --- PASS: TestDispenser_Val_Next (0.00s)
#9 18.00 === RUN   TestDispenser_NextArg
#9 18.00 --- PASS: TestDispenser_NextArg (0.00s)
#9 18.00 === RUN   TestDispenser_NextLine
#9 18.00 --- PASS: TestDispenser_NextLine (0.00s)
#9 18.00 === RUN   TestDispenser_NextBlock
#9 18.00 --- PASS: TestDispenser_NextBlock (0.00s)
#9 18.00 === RUN   TestDispenser_Args
#9 18.00 --- PASS: TestDispenser_Args (0.00s)
#9 18.00 === RUN   TestDispenser_RemainingArgs
#9 18.00 --- PASS: TestDispenser_RemainingArgs (0.00s)
#9 18.00 === RUN   TestDispenser_ArgErr_Err
#9 18.00 --- PASS: TestDispenser_ArgErr_Err (0.00s)
#9 18.00 === RUN   TestFormatter
#9 18.00 --- PASS: TestFormatter (0.00s)
#9 18.00 === RUN   TestLexer
#9 18.00 --- PASS: TestLexer (0.00s)
#9 18.00 === RUN   TestParseVariadic
#9 18.00 {"level":"warn","ts":1752538246.8106637,"logger":"caddyfile","msg":"Placeholder {args[]} cannot have an empty index","file":"test:1","import_chain":[]}
#9 18.00 {"level":"warn","ts":1752538246.8106828,"logger":"caddyfile","msg":"Variadic placeholder {args[-1:]} indices are out of bounds, only 10 argument(s) exist","file":"test:1","import_chain":[]}
#9 18.00 {"level":"warn","ts":1752538246.8106894,"logger":"caddyfile","msg":"Variadic placeholder {args[:11]} indices are out of bounds, only 10 argument(s) exist","file":"test:1","import_chain":[]}
#9 18.00 {"level":"warn","ts":1752538246.8106925,"logger":"caddyfile","msg":"Variadic placeholder {args[10:0]} indices are out of bounds, only 10 argument(s) exist","file":"test:1","import_chain":[]}
#9 18.00 --- PASS: TestParseVariadic (0.00s)
#9 18.00 === RUN   TestAllTokens
#9 18.00 --- PASS: TestAllTokens (0.00s)
#9 18.00 === RUN   TestParseOneAndImport
#9 18.00 {"level":"warn","ts":1752538246.8134124,"msg":"Import file is empty","file":"/testbed/caddyconfig/caddyfile/testdata/empty.txt"}
#9 18.00 {"level":"warn","ts":1752538246.8159294,"msg":"Import file is empty","file":"/testbed/caddyconfig/caddyfile/testdata/only_white_space.txt"}
#9 18.00 --- PASS: TestParseOneAndImport (0.01s)
#9 18.00 === RUN   TestRecursiveImport
#9 18.00 --- PASS: TestRecursiveImport (0.02s)
#9 18.00 === RUN   TestDirectiveImport
#9 18.00 --- PASS: TestDirectiveImport (0.00s)
#9 18.00 === RUN   TestParseAll
#9 18.00 {"level":"warn","ts":1752538246.846624,"msg":"No files matching import glob pattern","pattern":"notfound/*"}
#9 18.00 --- PASS: TestParseAll (0.00s)
#9 18.00 === RUN   TestEnvironmentReplacement
#9 18.00 --- PASS: TestEnvironmentReplacement (0.00s)
#9 18.00 === RUN   TestImportReplacementInJSONWithBrace
#9 18.00 --- PASS: TestImportReplacementInJSONWithBrace (0.00s)
#9 18.00 === RUN   TestSnippets
#9 18.00 --- PASS: TestSnippets (0.00s)
#9 18.00 === RUN   TestImportedFilesIgnoreNonDirectiveImportTokens
#9 18.00 --- PASS: TestImportedFilesIgnoreNonDirectiveImportTokens (0.00s)
#9 18.00 === RUN   TestSnippetAcrossMultipleFiles
#9 18.00 --- PASS: TestSnippetAcrossMultipleFiles (0.00s)
#9 18.00 === RUN   TestRejectsGlobalMatcher
#9 18.00 --- PASS: TestRejectsGlobalMatcher (0.00s)
#9 18.00 PASS
#9 18.00 ok  	github.com/caddyserver/caddy/v2/caddyconfig/caddyfile	0.049s
#9 29.02 === RUN   TestParseAddress
#9 29.02 --- PASS: TestParseAddress (0.00s)
#9 29.02 === RUN   TestAddressString
#9 29.02 --- PASS: TestAddressString (0.00s)
#9 29.02 === RUN   TestKeyNormalization
#9 29.02 --- PASS: TestKeyNormalization (0.00s)
#9 29.02 === RUN   TestLogDirectiveSyntax
#9 29.02 --- PASS: TestLogDirectiveSyntax (0.00s)
#9 29.02 === RUN   TestRedirDirectiveSyntax
#9 29.02 --- PASS: TestRedirDirectiveSyntax (0.00s)
#9 29.02 === RUN   TestImportErrorLine
#9 29.02 --- PASS: TestImportErrorLine (0.00s)
#9 29.02 === RUN   TestNestedImport
#9 29.02 --- PASS: TestNestedImport (0.00s)
#9 29.02 === RUN   TestHostsFromKeys
#9 29.02 --- PASS: TestHostsFromKeys (0.00s)
#9 29.02 === RUN   TestMatcherSyntax
#9 29.02 --- PASS: TestMatcherSyntax (0.00s)
#9 29.02 === RUN   TestSpecificity
#9 29.02 --- PASS: TestSpecificity (0.00s)
#9 29.02 === RUN   TestGlobalOptions
#9 29.02 --- PASS: TestGlobalOptions (0.00s)
#9 29.02 === RUN   TestGlobalLogOptionSyntax
#9 29.02 --- PASS: TestGlobalLogOptionSyntax (0.00s)
#9 29.02 === RUN   TestAutomationPolicyIsSubset
#9 29.02 --- PASS: TestAutomationPolicyIsSubset (0.00s)
#9 29.02 PASS
#9 29.02 ok  	github.com/caddyserver/caddy/v2/caddyconfig/httpcaddyfile	0.041s
#9 31.72 === RUN   TestReplaceCertificatePaths
#9 31.72 --- PASS: TestReplaceCertificatePaths (0.00s)
#9 31.72 === RUN   TestLoadUnorderedJSON
#9 31.72 {"level":"info","ts":1752538259.5984495,"msg":"maxprocs: Leaving GOMAXPROCS=8: CPU quota undefined"}
#9 31.72 {"level":"info","ts":1752538259.5985754,"msg":"GOMEMLIMIT is updated","package":"github.com/KimMachineGun/automemlimit/memlimit","GOMEMLIMIT":29780729856,"previous":9223372036854775807}
#9 31.72 {"level":"info","ts":1752538259.5986125,"msg":"using config from file","file":"/tmp/3319180383"}
#9 31.72 {"level":"info","ts":1752538259.598836,"msg":"adapted config to JSON","adapter":"caddyfile"}
#9 31.72 {"level":"info","ts":1752538259.5992854,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 31.72 {"level":"info","ts":1752538259.5994143,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 31.72 {"level":"info","ts":1752538259.5994189,"msg":"serving initial configuration"}
#9 31.72 {"level":"info","ts":1752538260.2647567,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"41144","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 31.72 {"level":"info","ts":1752538260.2654405,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"41148","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 31.72 {"level":"info","ts":1752538260.2659163,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"41162","headers":{"Accept-Encoding":["gzip"],"Content-Length":["144"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 31.72 {"level":"info","ts":1752538260.2918546,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 31.72 {"level":"info","ts":1752538260.2920923,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 31.72 {"level":"info","ts":1752538260.2921112,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 31.72 {"level":"info","ts":1752538260.292238,"logger":"tls.cache.maintenance","msg":"started background certificate maintenance","cache":"0xc000577100"}
#9 31.72 {"level":"info","ts":1752538260.3503535,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 31.72 {"level":"info","ts":1752538260.3505046,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 31.72 {"level":"info","ts":1752538260.3505867,"msg":"failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."}
#9 31.72 {"level":"info","ts":1752538260.350744,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 31.72 {"level":"warn","ts":1752538260.3507698,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 31.72 {"level":"warn","ts":1752538260.3507733,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 31.72 {"level":"info","ts":1752538260.350775,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 31.72 {"level":"info","ts":1752538260.3507783,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["acme.localhost"]}
#9 31.72 {"level":"info","ts":1752538260.351291,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 31.72 {"level":"info","ts":1752538260.3513086,"logger":"admin.api","msg":"load complete"}
#9 31.72 {"level":"info","ts":1752538260.353284,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51244","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 31.72 {"level":"info","ts":1752538260.3567944,"logger":"tls.obtain","msg":"acquiring lock","identifier":"acme.localhost"}
#9 31.72 {"level":"info","ts":1752538260.3576255,"logger":"tls","msg":"cleaning storage unit","storage":"FileStorage:/root/.local/share/caddy"}
#9 31.72 {"level":"info","ts":1752538260.3601236,"logger":"tls.obtain","msg":"lock acquired","identifier":"acme.localhost"}
#9 31.72 {"level":"info","ts":1752538260.3601801,"logger":"tls.obtain","msg":"obtaining certificate","identifier":"acme.localhost"}
#9 31.72 {"level":"info","ts":1752538260.3625193,"logger":"tls","msg":"finished cleaning storage units"}
#9 31.72 {"level":"info","ts":1752538260.3637166,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 31.72 {"level":"info","ts":1752538260.3724585,"logger":"tls.obtain","msg":"certificate obtained successfully","identifier":"acme.localhost","issuer":"local"}
#9 31.72 {"level":"info","ts":1752538260.3725467,"logger":"tls.obtain","msg":"releasing lock","identifier":"acme.localhost"}
#9 31.72 {"level":"info","ts":1752538260.5996804,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51246","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 31.72 {"level":"info","ts":1752538260.6002207,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51252","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 31.72     caddytest.go:162: Before: 
#9 31.72         	{
#9 31.72         		"logging": {
#9 31.72         			"logs": {
#9 31.72         				"default": {
#9 31.72         					"level": "DEBUG",
#9 31.72         					"writer": {
#9 31.72         						"output": "stdout"
#9 31.72         					}
#9 31.72         				},
#9 31.72         				"sStdOutLogs": {
#9 31.72         					"level": "DEBUG",
#9 31.72         					"writer": {
#9 31.72         						"output": "stdout"
#9 31.72         					},
#9 31.72         					"include": [
#9 31.72         						"http.*",
#9 31.72         						"admin.*"
#9 31.72         					]
#9 31.72         				},
#9 31.72         				"sFileLogs": {
#9 31.72         					"level": "DEBUG",
#9 31.72         					"writer": {
#9 31.72         						"output": "stdout"
#9 31.72         					},
#9 31.72         					"include": [
#9 31.72         						"http.*",
#9 31.72         						"admin.*"
#9 31.72         					]
#9 31.72         				}
#9 31.72         			}
#9 31.72         		},
#9 31.72         		"admin": {
#9 31.72         			"listen": "localhost:2999"
#9 31.72         		},
#9 31.72         		"apps": {
#9 31.72         			"pki": {
#9 31.72         				"certificate_authorities" : {
#9 31.72         				  "local" : {
#9 31.72         					"install_trust": false
#9 31.72         				  }
#9 31.72         				}
#9 31.72         			},
#9 31.72         			"http": {
#9 31.72         				"http_port": 9080,
#9 31.72         				"https_port": 9443,
#9 31.72         				"servers": {
#9 31.72         					"s_server": {
#9 31.72         						"listen": [
#9 31.72         							":9080"
#9 31.72         						],
#9 31.72         						"routes": [
#9 31.72         							{
#9 31.72         								"handle": [
#9 31.72         									{
#9 31.72         										"handler": "static_response",
#9 31.72         										"body": "Hello"
#9 31.72         									}
#9 31.72         								]
#9 31.72         							},
#9 31.72         							{
#9 31.72         								"match": [
#9 31.72         									{
#9 31.72         										"host": [
#9 31.72         											"localhost",
#9 31.72         											"127.0.0.1"
#9 31.72         										]
#9 31.72         									}
#9 31.72         								]
#9 31.72         							}
#9 31.72         						],
#9 31.72         						"logs": {
#9 31.72         							"default_logger_name": "sStdOutLogs",
#9 31.72         							"logger_names": {
#9 31.72         								"localhost": "sStdOutLogs",
#9 31.72         								"127.0.0.1": "sFileLogs"
#9 31.72         							}
#9 31.72         						}
#9 31.72         					}
#9 31.72         				}
#9 31.72         			}
#9 31.72         		}
#9 31.72         	}
#9 31.72           
#9 31.72     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"http_port":9080,"https_port":9443,"servers":{"s_server":{"listen":[":9080"],"logs":{"default_logger_name":"sStdOutLogs","logger_names":{"127.0.0.1":"sFileLogs","localhost":"sStdOutLogs"}},"routes":[{"handle":[{"body":"Hello","handler":"static_response"}]},{"match":[{"host":["localhost","127.0.0.1"]}]}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}}},"logging":{"logs":{"default":{"level":"DEBUG","writer":{"output":"stdout"}},"sFileLogs":{"include":["http.*","admin.*"],"level":"DEBUG","writer":{"output":"stdout"}},"sStdOutLogs":{"include":["http.*","admin.*"],"level":"DEBUG","writer":{"output":"stdout"}}}}}
#9 31.72 {"level":"info","ts":1752538260.6009526,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51268","headers":{"Accept-Encoding":["gzip"],"Content-Length":["690"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 31.72 {"level":"info","ts":1752538260.60125,"msg":"redirected default logger","from":"stderr","to":"stdout"}
#9 31.72 {"level":"info","ts":1752538260.6016803,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 31.72 {"level":"warn","ts":1752538260.6017668,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"s_server","http_port":9080}
#9 31.72 {"level":"debug","ts":1752538260.6017818,"logger":"http.auto_https","msg":"adjusted config","tls":{"automation":{"policies":[{}]}},"http":{"http_port":9080,"https_port":9443,"servers":{"s_server":{"listen":[":9080"],"routes":[{"handle":[{"body":"Hello","handler":"static_response"}]},{}],"automatic_https":{"disable":true},"logs":{"default_logger_name":"sStdOutLogs","logger_names":{"127.0.0.1":["sFileLogs"],"localhost":["sStdOutLogs"]}}}}}}
#9 31.72 {"level":"info","ts":1752538260.6018972,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 31.72 {"level":"debug","ts":1752538260.601962,"logger":"http","msg":"starting server loop","address":"[::]:9080","tls":false,"http3":false}
#9 31.72 {"level":"warn","ts":1752538260.6019711,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 31.72 {"level":"warn","ts":1752538260.6019754,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 31.72 {"level":"info","ts":1752538260.601978,"logger":"http.log","msg":"server running","name":"s_server","protocols":["h1","h2","h3"]}
#9 31.72 {"level":"debug","ts":1752538260.6020048,"logger":"events","msg":"event","name":"started","id":"53b92e80-e037-4dc9-a926-5b6e94ee0e82","origin":"","data":null}
#9 31.72 {"level":"info","ts":1752538260.6020153,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 31.72 {"level":"info","ts":1752538260.6022184,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 31.72 {"level":"info","ts":1752538260.6022236,"logger":"admin.api","msg":"load complete"}
#9 31.72 {"level":"info","ts":1752538260.6023319,"msg":"caddytest: config load time took 1.783156ms"}
#9 31.72 {"level":"info","ts":1752538260.6027262,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51272","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 31.72 {"level":"info","ts":1752538260.6029305,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 31.72 {"level":"info","ts":1752538260.6030037,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 31.72 {"level":"info","ts":1752538260.6031184,"logger":"http.log.access.sStdOutLogs","msg":"handled request","request":{"remote_ip":"127.0.0.1","remote_port":"58250","client_ip":"127.0.0.1","proto":"HTTP/1.1","method":"GET","host":"localhost:9080","uri":"/","headers":{"User-Agent":["Go-http-client/1.1"],"Accept-Encoding":["gzip"]}},"bytes_read":0,"user_id":"","duration":0.000007741,"size":5,"status":200,"resp_headers":{"Server":["Caddy"],"Content-Type":["text/plain; charset=utf-8"]}}
#9 31.72 --- PASS: TestLoadUnorderedJSON (1.01s)
#9 31.72 PASS
#9 31.72 ok  	github.com/caddyserver/caddy/v2/caddytest	1.039s
#9 40.29 === RUN   TestACMEServerWithDefaults
#9 40.29 {"level":"info","ts":1752538260.3517776,"msg":"caddytest: config load time took 86.142178ms"}
#9 40.29 {"level":"info","ts":1752538260.3536718,"msg":"caddytest: redirecting the dialer from acme.localhost:9443 to 127.0.0.1:9443"}
#9 40.29 2025-07-15T00:11:00.354Z	WARN	HTTP request failed; retrying	{"url": "https://acme.localhost:9443/acme/local/directory", "error": "performing request: Get \"https://acme.localhost:9443/acme/local/directory\": remote error: tls: internal error"}
#9 40.29 {"level":"info","ts":1752538260.605301,"msg":"caddytest: redirecting the dialer from acme.localhost:9443 to 127.0.0.1:9443"}
#9 40.29 2025-07-15T00:11:00.605Z	WARN	HTTP request failed; retrying	{"url": "https://acme.localhost:9443/acme/local/directory", "error": "performing request: Get \"https://acme.localhost:9443/acme/local/directory\": dial tcp 127.0.0.1:9443: connect: connection refused"}
#9 40.29 {"level":"info","ts":1752538260.856041,"msg":"caddytest: redirecting the dialer from acme.localhost:9443 to 127.0.0.1:9443"}
#9 40.29 2025-07-15T00:11:00.856Z	WARN	HTTP request failed; retrying	{"url": "https://acme.localhost:9443/acme/local/directory", "error": "performing request: Get \"https://acme.localhost:9443/acme/local/directory\": dial tcp 127.0.0.1:9443: connect: connection refused"}
#9 40.29     acme_test.go:72: new account: provisioning client: performing request: Get "https://acme.localhost:9443/acme/local/directory": dial tcp 127.0.0.1:9443: connect: connection refused
#9 40.29     caddytest.go:147: unable to read the current config
#9 40.29 --- FAIL: TestACMEServerWithDefaults (0.59s)
#9 40.29 === RUN   TestACMEServerWithMismatchedChallenges
#9 40.29 {"level":"info","ts":1752538260.8583317,"msg":"maxprocs: Leaving GOMAXPROCS=8: CPU quota undefined"}
#9 40.29 {"level":"info","ts":1752538260.8587568,"msg":"GOMEMLIMIT is updated","package":"github.com/KimMachineGun/automemlimit/memlimit","GOMEMLIMIT":29780729856,"previous":9223372036854775807}
#9 40.29 {"level":"info","ts":1752538260.858997,"msg":"using config from file","file":"/tmp/3277108254"}
#9 40.29 {"level":"info","ts":1752538260.859178,"msg":"adapted config to JSON","adapter":"caddyfile"}
#9 40.29 {"level":"info","ts":1752538260.859748,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538260.8600276,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538260.8600357,"msg":"serving initial configuration"}
#9 40.29 {"level":"info","ts":1752538261.859846,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51314","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538261.8604066,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51322","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538261.8608112,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51332","headers":{"Accept-Encoding":["gzip"],"Content-Length":["176"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538261.8620546,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//127.0.0.1:2999","//localhost:2999","//[::1]:2999"]}
#9 40.29 {"level":"info","ts":1752538261.8622112,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 40.29 {"level":"info","ts":1752538261.8622248,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538261.8622859,"logger":"tls.cache.maintenance","msg":"started background certificate maintenance","cache":"0xc00078f080"}
#9 40.29 {"level":"info","ts":1752538262.4280238,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538262.4281573,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"info","ts":1752538262.4282324,"msg":"failed to sufficiently increase receive buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details."}
#9 40.29 {"level":"info","ts":1752538262.4283526,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538262.4283805,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538262.428384,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538262.428387,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538262.42839,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["acme.localhost"]}
#9 40.29 {"level":"info","ts":1752538262.430466,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538262.4304752,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538262.4306376,"msg":"caddytest: config load time took 570.102648ms"}
#9 40.29 {"level":"info","ts":1752538262.431558,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51336","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538262.4318228,"msg":"caddytest: redirecting the dialer from acme.localhost:9443 to 127.0.0.1:9443"}
#9 40.29 {"level":"info","ts":1752538262.460169,"logger":"tls","msg":"storage cleaning happened too recently; skipping for now","storage":"FileStorage:/root/.local/share/caddy","instance":"5fa46008-c358-4e4e-ab1d-9bfb681ad097","try_again":1752624662.460165,"try_again_in":86399.999999328}
#9 40.29 {"level":"info","ts":1752538262.4603212,"logger":"tls","msg":"finished cleaning storage units"}
#9 40.29 {"level":"error","ts":1752538262.5577192,"msg":"deactivating authorization","identifier":"localhost","authz":"https://acme.localhost:9443/acme/local/authz/fBckKVoNI5pX5sj5Om0ptx5IeUlxwSNs","error":"attempt 1: https://acme.localhost:9443/acme/local/authz/fBckKVoNI5pX5sj5Om0ptx5IeUlxwSNs: HTTP 400 urn:ietf:params:acme:error:malformed - The request message was malformed","stacktrace":"github.com/mholt/acmez/v3.(*Client).solveChallenges.func1\n\t/go/pkg/mod/github.com/mholt/acmez/v3@v3.1.2/client.go:340\ngithub.com/mholt/acmez/v3.(*Client).solveChallenges\n\t/go/pkg/mod/github.com/mholt/acmez/v3@v3.1.2/client.go:363\ngithub.com/mholt/acmez/v3.(*Client).ObtainCertificate\n\t/go/pkg/mod/github.com/mholt/acmez/v3@v3.1.2/client.go:136\ngithub.com/mholt/acmez/v3.(*Client).ObtainCertificateForSANs\n\t/go/pkg/mod/github.com/mholt/acmez/v3@v3.1.2/client.go:72\ngithub.com/caddyserver/caddy/v2/caddytest/integration.TestACMEServerWithMismatchedChallenges\n\t/testbed/caddytest/integration/acme_test.go:152\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1792"}
#9 40.29 --- PASS: TestACMEServerWithMismatchedChallenges (1.70s)
#9 40.29 === RUN   TestACMEServerDirectory
#9 40.29 {"level":"info","ts":1752538262.5586839,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51336","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538262.5592895,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51338","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538262.5600834,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51340","headers":{"Accept-Encoding":["gzip"],"Content-Length":["213"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538262.5612729,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 40.29 {"level":"info","ts":1752538262.5614026,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 40.29 {"level":"info","ts":1752538262.5614176,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538262.6051614,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538262.605307,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"info","ts":1752538262.605333,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538262.6053617,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538262.6053646,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538262.605366,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538262.6053693,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["acme.localhost"]}
#9 40.29 {"level":"info","ts":1752538262.6054063,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538262.6063066,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538262.606316,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538262.606431,"msg":"caddytest: config load time took 46.816745ms"}
#9 40.29 {"level":"info","ts":1752538262.6072817,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51348","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538262.6075342,"msg":"caddytest: redirecting the dialer from acme.localhost:9443 to 127.0.0.1:9443"}
#9 40.29 --- PASS: TestACMEServerDirectory (0.05s)
#9 40.29 === RUN   TestACMEServerAllowPolicy
#9 40.29 {"level":"info","ts":1752538262.6091542,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51348","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538262.6095107,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51364","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538262.6099887,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51368","headers":{"Accept-Encoding":["gzip"],"Content-Length":["274"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538262.610958,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538262.6110463,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 40.29 {"level":"info","ts":1752538262.6110578,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538262.632894,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538262.9074075,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538263.0505986,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538263.0507565,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538263.0507696,"msg":"quic listener tls configs are more than 2","number of configs":3}
#9 40.29 {"level":"info","ts":1752538263.0507765,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538263.0508018,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538263.0508049,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538263.0508068,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538263.0508099,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["acme.localhost"]}
#9 40.29 {"level":"info","ts":1752538263.050848,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538263.058781,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538263.0588083,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538263.0589828,"msg":"caddytest: config load time took 449.316352ms"}
#9 40.29 {"level":"info","ts":1752538263.0607698,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51384","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538263.0611346,"msg":"caddytest: redirecting the dialer from acme.localhost:9443 to 127.0.0.1:9443"}
#9 40.29 2025-07-15T00:11:03.103Z	DEBUG	http request	{"method": "HEAD", "url": "https://acme.localhost:9443/acme/local/new-nonce", "headers": {"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Date":["Tue, 15 Jul 2025 00:11:03 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Replay-Nonce":["UThGV0xuNDhMZTJRaWVHNVBJVWN3aWhlN1pxeng5bDU"],"Server":["Caddy"]}, "status_code": 200}
#9 40.29 {"level":"info","ts":1752538263.1633844,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 2025-07-15T00:11:03.394Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/new-account", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["154"],"Content-Type":["application/json"],"Date":["Tue, 15 Jul 2025 00:11:03 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Location":["https://acme.localhost:9443/acme/local/account/q7bQRwlqjwYpq3zwU5hEaQWzstysaxHy"],"Replay-Nonce":["SG1xT3FTREFLdW16bGRoaVFrNUpmVmU3ZTc0aVFOZFk"],"Server":["Caddy"]}, "status_code": 201}
#9 40.29 2025-07-15T00:11:03.394Z	DEBUG	creating order	{"account": "https://acme.localhost:9443/acme/local/account/q7bQRwlqjwYpq3zwU5hEaQWzstysaxHy", "identifiers": ["localhost"]}
#9 40.29 2025-07-15T00:11:03.567Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/new-order", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["413"],"Content-Type":["application/json"],"Date":["Tue, 15 Jul 2025 00:11:03 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Location":["https://acme.localhost:9443/acme/local/order/Zjm2eo4Y2GxBSbYjQePgPWiMXbJJhQim"],"Replay-Nonce":["TThmVWN1M1owTFhwTmxQbHJKb3R1c1ZCU1ZodEpTUmU"],"Server":["Caddy"]}, "status_code": 201}
#9 40.29 2025-07-15T00:11:03.580Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/authz/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["338"],"Content-Type":["application/json"],"Date":["Tue, 15 Jul 2025 00:11:03 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Location":["https://acme.localhost:9443/acme/local/authz/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo"],"Replay-Nonce":["TG1RMEt5OHMzVmIyc0p3VlpsRmZOdU01NjdtQWhqQjE"],"Server":["Caddy"]}, "status_code": 200}
#9 40.29 2025-07-15T00:11:03.580Z	INFO	trying to solve challenge	{"identifier": "localhost", "challenge_type": "http-01", "ca": "https://acme.localhost:9443/acme/local/directory"}
#9 40.29 2025-07-15T00:11:03.580Z	INFO	integration/acme_test.go:197	present challenge	{"challenge": {"type":"http-01","url":"https://acme.localhost:9443/acme/local/challenge/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo/Eyvf34bDeXveTH7soO7vE1WAgpbYEa6F","status":"pending","token":"KhR35Ep0oeK9zj2PoUrXk0Sr7diwUlbY","keyAuthorization":"KhR35Ep0oeK9zj2PoUrXk0Sr7diwUlbY.kiKva9ReAfkdyzjTp1TJK0CZb14TP9gErxUVodWT5hE","identifier":{"type":"dns","value":"localhost"}}}
#9 40.29 2025-07-15T00:11:03.595Z	INFO	integration/acme_test.go:180	received request on challenge server	{"path": "/.well-known/acme-challenge/KhR35Ep0oeK9zj2PoUrXk0Sr7diwUlbY"}
#9 40.29 2025-07-15T00:11:03.595Z	INFO	integration/acme_test.go:185	served key authentication	{"identifier": "localhost", "challenge": "http-01", "remote": "[::1]:35574"}
#9 40.29 2025-07-15T00:11:03.605Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/challenge/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo/Eyvf34bDeXveTH7soO7vE1WAgpbYEa6F", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["237"],"Content-Type":["application/json"],"Date":["Tue, 15 Jul 2025 00:11:03 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\"","<https://acme.localhost:9443/acme/local/authz/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo>;rel=\"up\""],"Location":["https://acme.localhost:9443/acme/local/challenge/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo/Eyvf34bDeXveTH7soO7vE1WAgpbYEa6F"],"Replay-Nonce":["amtjUVJ2Zzl6a0x6WDlsTWJwbkk4OXNubjBYbEx1bXA"],"Server":["Caddy"]}, "status_code": 200}
#9 40.29 2025-07-15T00:11:03.605Z	DEBUG	challenge accepted	{"identifier": "localhost", "challenge_type": "http-01"}
#9 40.29 2025-07-15T00:11:03.903Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/authz/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["369"],"Content-Type":["application/json"],"Date":["Tue, 15 Jul 2025 00:11:03 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Location":["https://acme.localhost:9443/acme/local/authz/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo"],"Replay-Nonce":["cmpNblpJV3h0aTNZTXREdWx6Z3NDRm00OUh4cFhkUkM"],"Server":["Caddy"]}, "status_code": 200}
#9 40.29 2025-07-15T00:11:03.903Z	INFO	integration/acme_test.go:204	cleanup	{"challenge": {"type":"http-01","url":"https://acme.localhost:9443/acme/local/challenge/YhJiw9QDAOIsi142PVdWvmUegsNKMyEo/Eyvf34bDeXveTH7soO7vE1WAgpbYEa6F","status":"valid","validated":"2025-07-15T00:11:03Z","token":"KhR35Ep0oeK9zj2PoUrXk0Sr7diwUlbY","keyAuthorization":"KhR35Ep0oeK9zj2PoUrXk0Sr7diwUlbY.kiKva9ReAfkdyzjTp1TJK0CZb14TP9gErxUVodWT5hE","identifier":{"type":"dns","value":"localhost"}}}
#9 40.29 2025-07-15T00:11:03.903Z	INFO	authorization finalized	{"identifier": "localhost", "authz_status": "valid"}
#9 40.29 2025-07-15T00:11:03.903Z	INFO	validations succeeded; finalizing order	{"order": "https://acme.localhost:9443/acme/local/order/Zjm2eo4Y2GxBSbYjQePgPWiMXbJJhQim"}
#9 40.29 2025-07-15T00:11:04.039Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/order/Zjm2eo4Y2GxBSbYjQePgPWiMXbJJhQim/finalize", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["511"],"Content-Type":["application/json"],"Date":["Tue, 15 Jul 2025 00:11:04 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Location":["https://acme.localhost:9443/acme/local/order/Zjm2eo4Y2GxBSbYjQePgPWiMXbJJhQim"],"Replay-Nonce":["UVBxVDBwTENMUzRQcXIwS3lMOVVFWnBBWkM0QzZZTlY"],"Server":["Caddy"]}, "status_code": 200}
#9 40.29 2025-07-15T00:11:04.139Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/certificate/Kc5MZAPaPSdSbFViW9LGqsTzpDiBm8wv", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["1385"],"Content-Type":["application/pem-certificate-chain"],"Date":["Tue, 15 Jul 2025 00:11:04 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Replay-Nonce":["NlB4S1U3ajhqRnJSMUVKa2pvOG5weGFJaDdwQTFGYms"],"Server":["Caddy"]}, "status_code": 200}
#9 40.29 2025-07-15T00:11:04.140Z	INFO	successfully downloaded available certificate chains	{"count": 1, "first_url": "https://acme.localhost:9443/acme/local/certificate/Kc5MZAPaPSdSbFViW9LGqsTzpDiBm8wv"}
#9 40.29     acmeserver_test.go:123: Certificate "https://acme.localhost:9443/acme/local/certificate/Kc5MZAPaPSdSbFViW9LGqsTzpDiBm8wv":
#9 40.29         -----BEGIN CERTIFICATE-----
#9 40.29         MIIB3jCCAYSgAwIBAgIRANd3sCUDcqnrcp6dOS/F2dYwCgYIKoZIzj0EAwIwMzEx
#9 40.29         MC8GA1UEAxMoQ2FkZHkgTG9jYWwgQXV0aG9yaXR5IC0gRUNDIEludGVybWVkaWF0
#9 40.29         ZTAeFw0yNTA3MTUwMDEwMDNaFw0yNTA3MTUxMjExMDNaMAAwWTATBgcqhkjOPQIB
#9 40.29         BggqhkjOPQMBBwNCAARnyb1ZbCv9DdNoqgFN/BnjatF+/lzv8LMlilBqvd2Qgchd
#9 40.29         O16zRQqFPaHwnXtKbkyIBlPjhsE1bsF0sGm6ywk5o4GrMIGoMA4GA1UdDwEB/wQE
#9 40.29         AwIHgDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHQYDVR0OBBYEFBuD
#9 40.29         K5cufp5WdQvutQ1TtqpAeYT7MB8GA1UdIwQYMBaAFOUX9k+REgiEjcAPKppXHUrR
#9 40.29         HGcxMBcGA1UdEQEB/wQNMAuCCWxvY2FsaG9zdDAeBgwrBgEEAYKkZMYoQAEEDjAM
#9 40.29         AgEGBAVsb2NhbAQAMAoGCCqGSM49BAMCA0gAMEUCIBlcTbdJU3Z8KiUifMeSeZAj
#9 40.29         VCjn7QhWSoMj1rXJXZFcAiEA6PvAyHuPhezOyxJ+g8ke9RdPXcWtcn4VMkleNYeO
#9 40.29         CN0=
#9 40.29         -----END CERTIFICATE-----
#9 40.29         -----BEGIN CERTIFICATE-----
#9 40.29         MIIBxzCCAW6gAwIBAgIRAOH6r690fUZkGdqLqWD9Z14wCgYIKoZIzj0EAwIwMDEu
#9 40.29         MCwGA1UEAxMlQ2FkZHkgTG9jYWwgQXV0aG9yaXR5IC0gMjAyNSBFQ0MgUm9vdDAe
#9 40.29         Fw0yNTA3MTUwMDExMDBaFw0yNTA3MjIwMDExMDBaMDMxMTAvBgNVBAMTKENhZGR5
#9 40.29         IExvY2FsIEF1dGhvcml0eSAtIEVDQyBJbnRlcm1lZGlhdGUwWTATBgcqhkjOPQIB
#9 40.29         BggqhkjOPQMBBwNCAAR+lh3sYCUnwIOkQg9AW50bwDEePTyKXtvSkD21sU07TCA+
#9 40.29         GEZLVLM+LXCOWeVM9T0GEW04notrhnVQYbuHv8Ozo2YwZDAOBgNVHQ8BAf8EBAMC
#9 40.29         AQYwEgYDVR0TAQH/BAgwBgEB/wIBADAdBgNVHQ4EFgQU5Rf2T5ESCISNwA8qmlcd
#9 40.29         StEcZzEwHwYDVR0jBBgwFoAUUGc46UAywt/LZaOw2hker7Xm3l8wCgYIKoZIzj0E
#9 40.29         AwIDRwAwRAIgEKGTZUZ5Jdx5jgeJ1XbRA283MEnk3xX8KJEHSvdNkHYCIDROdPVF
#9 40.29         lJhlPEFqfF/jJIDA5/kW7nz86WoTEspgveQh
#9 40.29         -----END CERTIFICATE-----
#9 40.29         
#9 40.29         
#9 40.29 2025-07-15T00:11:04.140Z	DEBUG	creating order	{"account": "https://acme.localhost:9443/acme/local/account/q7bQRwlqjwYpq3zwU5hEaQWzstysaxHy", "identifiers": ["not-matching.localhost"]}
#9 40.29 2025-07-15T00:11:04.253Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/new-order", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["126"],"Content-Type":["application/problem+json"],"Date":["Tue, 15 Jul 2025 00:11:04 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Replay-Nonce":["eGtIZjJPRE1RelBGU2RkMVJhNmtuWnlad2dWQzlYWnI"],"Server":["Caddy"]}, "status_code": 400}
#9 40.29 --- PASS: TestACMEServerAllowPolicy (1.64s)
#9 40.29 === RUN   TestACMEServerDenyPolicy
#9 40.29 {"level":"info","ts":1752538264.253851,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51384","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.2544413,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51396","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.255062,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51402","headers":{"Accept-Encoding":["gzip"],"Content-Length":["256"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.2563376,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 40.29 {"level":"info","ts":1752538264.256481,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 40.29 {"level":"info","ts":1752538264.2564962,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538264.3961055,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538264.3962495,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538264.3962636,"msg":"quic listener tls configs are more than 2","number of configs":4}
#9 40.29 {"level":"info","ts":1752538264.396272,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538264.3963096,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538264.396314,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538264.3963156,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538264.3963192,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["acme.localhost"]}
#9 40.29 {"level":"info","ts":1752538264.3963666,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538264.3984845,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538264.398504,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538264.3986292,"msg":"caddytest: config load time took 143.962491ms"}
#9 40.29 {"level":"info","ts":1752538264.3996503,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51412","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.400065,"msg":"caddytest: redirecting the dialer from acme.localhost:9443 to 127.0.0.1:9443"}
#9 40.29 2025-07-15T00:11:04.418Z	DEBUG	http request	{"method": "HEAD", "url": "https://acme.localhost:9443/acme/local/new-nonce", "headers": {"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Date":["Tue, 15 Jul 2025 00:11:04 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Replay-Nonce":["U2w1MlZiYnN1cmx5WDBMdmhtQm9pU3JBNzZWYklvOTI"],"Server":["Caddy"]}, "status_code": 200}
#9 40.29 2025-07-15T00:11:04.512Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/new-account", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["154"],"Content-Type":["application/json"],"Date":["Tue, 15 Jul 2025 00:11:04 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Location":["https://acme.localhost:9443/acme/local/account/0bYTEKMggmggITlpgyzgOk2EJgJ9wrYJ"],"Replay-Nonce":["MGxjc1RONTNJUWhMOGdkR3ZIM1FpSXRqY1VhS21TUzI"],"Server":["Caddy"]}, "status_code": 201}
#9 40.29 2025-07-15T00:11:04.512Z	DEBUG	creating order	{"account": "https://acme.localhost:9443/acme/local/account/0bYTEKMggmggITlpgyzgOk2EJgJ9wrYJ", "identifiers": ["deny.localhost"]}
#9 40.29 {"level":"info","ts":1752538264.5318978,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 2025-07-15T00:11:04.535Z	DEBUG	http request	{"method": "POST", "url": "https://acme.localhost:9443/acme/local/new-order", "headers": {"Content-Type":["application/jose+json"],"User-Agent":["acmez (linux; amd64)"]}, "response_headers": {"Alt-Svc":["h3=\":9443\"; ma=2592000"],"Cache-Control":["no-store"],"Content-Length":["126"],"Content-Type":["application/problem+json"],"Date":["Tue, 15 Jul 2025 00:11:04 GMT"],"Link":["<https://acme.localhost:9443/acme/local/directory>;rel=\"index\""],"Replay-Nonce":["cWczRHF3TlVBbWhVWkVEQnR6R2Z0UldUazJaZnRlS0I"],"Server":["Caddy"]}, "status_code": 400}
#9 40.29 --- PASS: TestACMEServerDenyPolicy (0.28s)
#9 40.29 === RUN   TestAutoHTTPtoHTTPSRedirectsImplicitPort
#9 40.29 {"level":"info","ts":1752538264.5356238,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51412","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5380194,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51422","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5385227,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51432","headers":{"Accept-Encoding":["gzip"],"Content-Length":["139"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5394135,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538264.5395083,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 40.29 {"level":"info","ts":1752538264.5395238,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538264.539612,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538264.5396557,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538264.539662,"msg":"quic listener tls configs are more than 2","number of configs":5}
#9 40.29 {"level":"info","ts":1752538264.539667,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538264.5396893,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538264.5396938,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538264.5396955,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538264.5396981,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["localhost"]}
#9 40.29 {"level":"info","ts":1752538264.5397751,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538264.5427134,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538264.5427256,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538264.5427895,"msg":"caddytest: config load time took 4.584388ms"}
#9 40.29 {"level":"info","ts":1752538264.5431192,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538264.5434494,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51434","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.543623,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestAutoHTTPtoHTTPSRedirectsImplicitPort (0.01s)
#9 40.29 === RUN   TestAutoHTTPtoHTTPSRedirectsExplicitPortSameAsHTTPSPort
#9 40.29 {"level":"info","ts":1752538264.5440357,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51434","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5444086,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51440","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5447252,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51454","headers":{"Accept-Encoding":["gzip"],"Content-Length":["144"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.544978,"msg":"config is unchanged"}
#9 40.29 {"level":"info","ts":1752538264.5449836,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538264.5450306,"msg":"caddytest: config load time took 532.397s"}
#9 40.29 {"level":"info","ts":1752538264.545323,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51454","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5454915,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestAutoHTTPtoHTTPSRedirectsExplicitPortSameAsHTTPSPort (0.00s)
#9 40.29 === RUN   TestAutoHTTPtoHTTPSRedirectsExplicitPortDifferentFromHTTPSPort
#9 40.29 {"level":"info","ts":1752538264.5458345,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51454","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5462,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51458","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.546582,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51468","headers":{"Accept-Encoding":["gzip"],"Content-Length":["144"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5477688,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 40.29 {"level":"info","ts":1752538264.5478659,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538264.5479786,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538264.5480494,"logger":"http","msg":"enabling HTTP/3 listener","addr":":1234"}
#9 40.29 {"level":"info","ts":1752538264.548199,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538264.5482345,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538264.5482454,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538264.5482492,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538264.5482569,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["localhost"]}
#9 40.29 {"level":"info","ts":1752538264.5483162,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538264.5507176,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538264.550731,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538264.550792,"msg":"caddytest: config load time took 4.484525ms"}
#9 40.29 {"level":"info","ts":1752538264.5512624,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538264.5513835,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51482","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5515432,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestAutoHTTPtoHTTPSRedirectsExplicitPortDifferentFromHTTPSPort (0.01s)
#9 40.29 === RUN   TestAutoHTTPRedirectsWithHTTPListenerFirstInAddresses
#9 40.29 {"level":"info","ts":1752538264.5518897,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51482","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.552282,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51498","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29         {
#9 40.29           "admin": {
#9 40.29         	"listen": "localhost:2999"
#9 40.29           },
#9 40.29           "apps": {
#9 40.29             "http": {
#9 40.29               "http_port": 9080,
#9 40.29               "https_port": 9443,
#9 40.29               "servers": {
#9 40.29                 "ingress_server": {
#9 40.29                   "listen": [
#9 40.29                     ":9080",
#9 40.29                     ":9443"
#9 40.29                   ],
#9 40.29                   "routes": [
#9 40.29                     {
#9 40.29                       "match": [
#9 40.29                         {
#9 40.29         				  "host": ["localhost"]
#9 40.29                         }
#9 40.29                       ]
#9 40.29                     }
#9 40.29                   ]
#9 40.29                 }
#9 40.29               }
#9 40.29             },
#9 40.29         	"pki": {
#9 40.29         		"certificate_authorities": {
#9 40.29         			"local": {
#9 40.29         				"install_trust": false
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29           }
#9 40.29         }
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"http_port":9080,"https_port":9443,"servers":{"ingress_server":{"listen":[":9080",":9443"],"routes":[{"match":[{"host":["localhost"]}]}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}}}}
#9 40.29 {"level":"info","ts":1752538264.5528407,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51510","headers":{"Accept-Encoding":["gzip"],"Content-Length":["262"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5536082,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538264.5536878,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"ingress_server"}
#9 40.29 {"level":"info","ts":1752538264.5537765,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538264.5538185,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538264.5538228,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538264.5538418,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538264.5538533,"msg":"quic listener tls configs are more than 2","number of configs":6}
#9 40.29 {"level":"info","ts":1752538264.553858,"logger":"http.log","msg":"server running","name":"ingress_server","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538264.5538616,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["localhost"]}
#9 40.29 {"level":"info","ts":1752538264.5539114,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538264.5940077,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538264.594038,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538264.5942373,"msg":"caddytest: config load time took 41.742672ms"}
#9 40.29 {"level":"info","ts":1752538264.5948966,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51524","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5951347,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestAutoHTTPRedirectsWithHTTPListenerFirstInAddresses (0.04s)
#9 40.29 === RUN   TestAutoHTTPRedirectsInsertedBeforeUserDefinedCatchAll
#9 40.29 {"level":"info","ts":1752538264.5956964,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51524","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.5961869,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51540","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.596695,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51554","headers":{"Accept-Encoding":["gzip"],"Content-Length":["228"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.598008,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538264.5981328,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538264.598998,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv1","https_port":9443}
#9 40.29 {"level":"info","ts":1752538264.5990171,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv1"}
#9 40.29 {"level":"info","ts":1752538264.5991416,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538264.5992146,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538264.59922,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538264.599222,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538264.5992515,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538264.5992615,"msg":"quic listener tls configs are more than 2","number of configs":7}
#9 40.29 {"level":"info","ts":1752538264.599266,"logger":"http.log","msg":"server running","name":"srv1","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538264.5992687,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["bar.localhost"]}
#9 40.29 {"level":"info","ts":1752538264.59938,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538264.6003797,"logger":"tls.obtain","msg":"acquiring lock","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538264.600452,"msg":"[INFO][FileStorage:/root/.local/share/caddy] Lock for 'issue_cert_localhost' is stale (created: 2025-07-15 00:10:46.881009717 +0000 UTC, last update: 2025-07-15 00:10:46.881009717 +0000 UTC); removing then retrying: /root/.local/share/caddy/locks/issue_cert_localhost.lock"}
#9 40.29 {"level":"info","ts":1752538264.6042762,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538264.6042929,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538264.6044502,"msg":"caddytest: config load time took 8.109072ms"}
#9 40.29 {"level":"info","ts":1752538264.6061695,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51570","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.6065216,"msg":"caddytest: redirecting the dialer from bar.localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538264.6068816,"msg":"caddytest: redirecting the dialer from foo.localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538264.6074953,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538264.6080685,"msg":"caddytest: redirecting the dialer from baz.localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestAutoHTTPRedirectsInsertedBeforeUserDefinedCatchAll (0.01s)
#9 40.29 === RUN   TestAutoHTTPRedirectsInsertedBeforeUserDefinedCatchAllWithNoExplicitHTTPSite
#9 40.29 {"level":"info","ts":1752538264.6084886,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51570","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.6089296,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51584","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.609397,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51594","headers":{"Accept-Encoding":["gzip"],"Content-Length":["180"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.6105404,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538264.6106348,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538264.6106555,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv1","https_port":9443}
#9 40.29 {"level":"info","ts":1752538264.6106672,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv1"}
#9 40.29 {"level":"info","ts":1752538264.6107376,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538264.6108174,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538264.6108253,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538264.6108274,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538264.610848,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538264.610854,"msg":"quic listener tls configs are more than 2","number of configs":8}
#9 40.29 {"level":"info","ts":1752538264.6108632,"logger":"http.log","msg":"server running","name":"srv1","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538264.6108668,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["bar.localhost"]}
#9 40.29 {"level":"info","ts":1752538264.6109257,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538264.624567,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538264.6364574,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538264.6364872,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538264.6366613,"msg":"caddytest: config load time took 27.557701ms"}
#9 40.29 {"level":"info","ts":1752538264.6378274,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51604","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538264.6380613,"msg":"caddytest: redirecting the dialer from bar.localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538264.6383457,"msg":"caddytest: redirecting the dialer from foo.localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538264.6385927,"msg":"caddytest: redirecting the dialer from baz.localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestAutoHTTPRedirectsInsertedBeforeUserDefinedCatchAllWithNoExplicitHTTPSite (0.03s)
#9 40.29 === RUN   TestCaddyfileAdaptToJSON
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/acme_server_custom_challenges.caddyfiletest
#9 40.29 {"level":"info","ts":1752538264.6458647,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/acme_server_default_challenges.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/acme_server_lifetime.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/acme_server_multi_custom_challenges.caddyfiletest
#9 40.29 {"level":"info","ts":1752538264.6716974,"logger":"tls.obtain","msg":"acquiring lock","identifier":"localhost"}
#9 40.29 {"level":"error","ts":1752538264.6718013,"logger":"tls","msg":"job failed","error":"localhost: obtaining certificate: unable to acquire lock 'issue_cert_localhost': context canceled"}
#9 40.29 {"level":"info","ts":1752538264.6718535,"logger":"tls.obtain","msg":"acquiring lock","identifier":"localhost"}
#9 40.29 {"level":"error","ts":1752538264.6718788,"logger":"tls","msg":"job failed","error":"localhost: obtaining certificate: unable to acquire lock 'issue_cert_localhost': context canceled"}
#9 40.29 {"level":"info","ts":1752538264.6721256,"logger":"tls.obtain","msg":"lock acquired","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538264.6721523,"logger":"tls.obtain","msg":"releasing lock","identifier":"localhost"}
#9 40.29 {"level":"error","ts":1752538264.6722343,"logger":"tls","msg":"job failed","error":"localhost: obtaining certificate: context canceled"}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/acme_server_policy-allow.caddyfiletest
#9 40.29 {"level":"info","ts":1752538264.6724458,"logger":"tls.obtain","msg":"acquiring lock","identifier":"bar.localhost"}
#9 40.29 {"level":"info","ts":1752538264.6726375,"logger":"tls.obtain","msg":"acquiring lock","identifier":"bar.localhost"}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/acme_server_policy-both.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/acme_server_policy-deny.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/acme_server_sign_with_root.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/ambiguous_site_definition.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/ambiguous_site_definition_duplicate_key.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/auto_https_disable_redirects.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/auto_https_ignore_loaded_certs.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/auto_https_off.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/bind_fd_fdgram_h123.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/bind_ipv6.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/directive_as_site_address.caddyfiletest
#9 40.29 {"level":"info","ts":1752538264.733898,"logger":"tls.obtain","msg":"lock acquired","identifier":"bar.localhost"}
#9 40.29 {"level":"info","ts":1752538264.7339883,"logger":"tls.obtain","msg":"obtaining certificate","identifier":"bar.localhost"}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/duplicate_listener_address_global.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/enable_tls_for_catch_all_site.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/encode_options.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/error_example.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/error_multi_site_blocks.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/error_range_codes.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/error_range_simple_codes.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/error_simple_codes.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/error_sort.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/error_subhandlers.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/expression_quotes.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/file_server_disable_canonical_uris.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/file_server_etag_file_extensions.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/file_server_file_limit.caddyfiletest
#9 40.29 {"level":"info","ts":1752538264.8429518,"logger":"tls.obtain","msg":"certificate obtained successfully","identifier":"bar.localhost","issuer":"local"}
#9 40.29 {"level":"info","ts":1752538264.843063,"logger":"tls.obtain","msg":"releasing lock","identifier":"bar.localhost"}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/file_server_pass_thru.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/file_server_precompressed.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/file_server_sort.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/file_server_status.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/forward_auth_authelia.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/forward_auth_rename_headers.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_acme.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_admin.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_admin_with_persist_config_off.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_debug_with_access_log.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_default_bind.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_log_and_site.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_log_basic.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_log_custom.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_log_multi.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_log_sampling.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_persist_config.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_preferred_chains.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_options_skip_install_trust.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_server_options_multi.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/global_server_options_single.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/handle_nested_in_route.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/handle_path.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/handle_path_sorting.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/header.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/heredoc.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/heredoc_extra_indentation.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/heredoc_incomplete.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/heredoc_invalid_marker.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/heredoc_mismatched_whitespace.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/heredoc_missing_marker.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/heredoc_too_many_angle_brackets.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/http_only_hostnames.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/http_only_on_any_address.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/http_only_on_domain.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/http_only_on_hostless_block.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/http_only_on_localhost.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/http_only_on_non_standard_port.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/http_valid_directive_like_site_address.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/https_on_domain.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/import_args_file.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/import_args_snippet.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/import_args_snippet_env_placeholder.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/import_block_snippet.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/import_block_snippet_args.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/import_blocks_snippet.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/import_blocks_snippet_nested.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/import_cycle.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/intercept_response.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/invoke_named_routes.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/invoke_undefined_named_route.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_add.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_append_encoder.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_except_catchall_blocks.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_filter_no_wrap.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_filter_with_header.txt
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_filters.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_multi_logger_name.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_override_hostname.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_override_name_multiaccess.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_override_name_multiaccess_debug.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_roll_days.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_sampling.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/log_skip_hosts.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/map_and_vars_with_raw_types.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/matcher_outside_site_block.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/matcher_syntax.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/matchers_in_route.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/method_directive.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/metrics_disable_om.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/metrics_merge_options.caddyfiletest
#9 40.29 {"level":"warn","ts":1752538265.280164,"msg":"The nested 'metrics' option inside `servers` is deprecated and will be removed in the next major version. Use the global 'metrics' option instead."}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/metrics_perhost.caddyfiletest
#9 40.29 {"level":"warn","ts":1752538265.281583,"msg":"The nested 'metrics' option inside `servers` is deprecated and will be removed in the next major version. Use the global 'metrics' option instead."}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/metrics_syntax.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/not_block_merging.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/php_fastcgi_expanded_form.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/php_fastcgi_handle_response.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/php_fastcgi_index_off.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/php_fastcgi_matcher.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/php_fastcgi_subdirectives.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/php_fastcgi_try_files_override.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/php_fastcgi_try_files_override_no_dir_index.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/portless_upstream.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/push.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/replaceable_upstream.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/replaceable_upstream_partial_port.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/replaceable_upstream_port.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/request_body.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/request_header.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_buffers.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_dynamic_upstreams.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_dynamic_upstreams_grace_period.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_empty_non_http_transport.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_h2c_shorthand.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_handle_response.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_health_headers.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_health_method.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_health_path_query.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_health_reqbody.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_forward_proxy_url.txt
#9 40.29 {"level":"warn","ts":1752538265.4161727,"msg":"The 'forward_proxy_url' field is deprecated. Use 'network_proxy <url>' instead."}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_none_proxy.txt
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_tls_file_cert.txt
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_tls_inline_cert.txt
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_url_proxy.txt
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_load_balance.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_load_balance_wrr.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_localaddr.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_options.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_port_range.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_trusted_proxies.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/reverse_proxy_upstream_placeholder.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/rewrite_directive_permutations.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/root_directive_permutations.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/server_names.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/shorthand_parameterized_placeholders.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/site_address_invalid_port.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/site_address_negative_port.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/site_address_unsupported_scheme.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/site_address_wss_invalid_port.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/site_address_wss_scheme.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/site_block_sorting.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/sort_directives_with_any_matcher_first.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/sort_directives_within_handle.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/sort_vars_in_reverse.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_acme_preferred_chains.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_1.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_10.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_11.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_2.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_3.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_4.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_5.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_6.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_7.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_8.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_9.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_policies_global_email_localhost.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_wildcard_force_automate.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_automation_wildcard_shadowing.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_cert_file-legacy-with-verifier.caddyfiletest
#9 40.29 {"level":"warn","ts":1752538265.682393,"msg":"The 'trusted_ca_cert_file' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_cert_file-legacy.caddyfiletest
#9 40.29 {"level":"warn","ts":1752538265.705047,"msg":"The 'trusted_ca_cert_file' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_cert_file.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_inline_cert-legacy.caddyfiletest
#9 40.29 {"level":"info","ts":1752538265.7115436,"logger":"tls.obtain","msg":"lock acquired","identifier":"bar.localhost"}
#9 40.29 {"level":"info","ts":1752538265.711621,"logger":"tls.obtain","msg":"certificate already exists in storage","identifier":"bar.localhost"}
#9 40.29 {"level":"info","ts":1752538265.7116246,"logger":"tls.obtain","msg":"releasing lock","identifier":"bar.localhost"}
#9 40.29 {"level":"warn","ts":1752538265.7146678,"msg":"The 'trusted_ca_cert' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_inline_cert.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_inline_cert_with_leaf_trust.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_file_loader_block.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_file_loader_inline.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_file_loader_multi-in-block.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_folder_loader_block.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_folder_loader_inline.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_folder_loader_multi-in-block.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_conn_policy_consolidate.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_dns_multiple_options_without_provider.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_dns_propagation_timeout_without_provider.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_dns_propagation_without_provider.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_dns_ttl.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_explicit_issuer_dns_ttl.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_explicit_issuer_propagation_options.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_internal_options.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tls_propagation_options.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/tracing.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/uri_query_operations.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/uri_replace_brace_escape.caddyfiletest
#9 40.29 === RUN   TestCaddyfileAdaptToJSON/wildcard_pattern.caddyfiletest
#9 40.29 --- PASS: TestCaddyfileAdaptToJSON (1.17s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/acme_server_custom_challenges.caddyfiletest (0.02s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/acme_server_default_challenges.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/acme_server_lifetime.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/acme_server_multi_custom_challenges.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/acme_server_policy-allow.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/acme_server_policy-both.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/acme_server_policy-deny.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/acme_server_sign_with_root.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/ambiguous_site_definition.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/ambiguous_site_definition_duplicate_key.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/auto_https_disable_redirects.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/auto_https_ignore_loaded_certs.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/auto_https_off.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/bind_fd_fdgram_h123.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/bind_ipv6.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/directive_as_site_address.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/duplicate_listener_address_global.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/enable_tls_for_catch_all_site.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/encode_options.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/error_example.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/error_multi_site_blocks.caddyfiletest (0.02s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/error_range_codes.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/error_range_simple_codes.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/error_simple_codes.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/error_sort.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/error_subhandlers.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/expression_quotes.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/file_server_disable_canonical_uris.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/file_server_etag_file_extensions.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/file_server_file_limit.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/file_server_pass_thru.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/file_server_precompressed.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/file_server_sort.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/file_server_status.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/forward_auth_authelia.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/forward_auth_rename_headers.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_acme.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_admin.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_admin_with_persist_config_off.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_debug_with_access_log.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_default_bind.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_log_and_site.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_log_basic.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_log_custom.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_log_multi.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_log_sampling.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_persist_config.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_preferred_chains.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_options_skip_install_trust.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_server_options_multi.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/global_server_options_single.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/handle_nested_in_route.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/handle_path.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/handle_path_sorting.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/header.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/heredoc.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/heredoc_extra_indentation.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/heredoc_incomplete.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/heredoc_invalid_marker.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/heredoc_mismatched_whitespace.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/heredoc_missing_marker.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/heredoc_too_many_angle_brackets.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/http_only_hostnames.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/http_only_on_any_address.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/http_only_on_domain.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/http_only_on_hostless_block.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/http_only_on_localhost.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/http_only_on_non_standard_port.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/http_valid_directive_like_site_address.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/https_on_domain.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/import_args_file.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/import_args_snippet.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/import_args_snippet_env_placeholder.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/import_block_snippet.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/import_block_snippet_args.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/import_blocks_snippet.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/import_blocks_snippet_nested.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/import_cycle.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/intercept_response.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/invoke_named_routes.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/invoke_undefined_named_route.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_add.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_append_encoder.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_except_catchall_blocks.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_filter_no_wrap.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_filter_with_header.txt (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_filters.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_multi_logger_name.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_override_hostname.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_override_name_multiaccess.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_override_name_multiaccess_debug.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_roll_days.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_sampling.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/log_skip_hosts.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/map_and_vars_with_raw_types.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/matcher_outside_site_block.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/matcher_syntax.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/matchers_in_route.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/method_directive.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/metrics_disable_om.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/metrics_merge_options.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/metrics_perhost.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/metrics_syntax.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/not_block_merging.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/php_fastcgi_expanded_form.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/php_fastcgi_handle_response.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/php_fastcgi_index_off.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/php_fastcgi_matcher.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/php_fastcgi_subdirectives.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/php_fastcgi_try_files_override.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/php_fastcgi_try_files_override_no_dir_index.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/portless_upstream.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/push.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/replaceable_upstream.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/replaceable_upstream_partial_port.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/replaceable_upstream_port.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/request_body.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/request_header.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_buffers.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_dynamic_upstreams.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_dynamic_upstreams_grace_period.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_empty_non_http_transport.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_h2c_shorthand.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_handle_response.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_health_headers.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_health_method.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_health_path_query.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_health_reqbody.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_forward_proxy_url.txt (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_none_proxy.txt (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_tls_file_cert.txt (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_tls_inline_cert.txt (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_http_transport_url_proxy.txt (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_load_balance.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_load_balance_wrr.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_localaddr.caddyfiletest (0.02s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_options.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_port_range.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_trusted_proxies.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/reverse_proxy_upstream_placeholder.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/rewrite_directive_permutations.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/root_directive_permutations.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/server_names.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/shorthand_parameterized_placeholders.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/site_address_invalid_port.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/site_address_negative_port.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/site_address_unsupported_scheme.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/site_address_wss_invalid_port.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/site_address_wss_scheme.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/site_block_sorting.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/sort_directives_with_any_matcher_first.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/sort_directives_within_handle.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/sort_vars_in_reverse.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_acme_preferred_chains.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_1.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_10.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_11.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_2.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_3.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_4.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_5.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_6.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_7.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_8.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_9.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_policies_global_email_localhost.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_wildcard_force_automate.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_automation_wildcard_shadowing.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_cert_file-legacy-with-verifier.caddyfiletest (0.02s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_cert_file-legacy.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_cert_file.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_inline_cert-legacy.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_inline_cert.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_inline_cert_with_leaf_trust.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_file_loader_block.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_file_loader_inline.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_file_loader_multi-in-block.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_folder_loader_block.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_folder_loader_inline.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_client_auth_leaf_verifier_folder_loader_multi-in-block.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_conn_policy_consolidate.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_dns_multiple_options_without_provider.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_dns_propagation_timeout_without_provider.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_dns_propagation_without_provider.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_dns_ttl.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_explicit_issuer_dns_ttl.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_explicit_issuer_propagation_options.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_internal_options.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tls_propagation_options.caddyfiletest (0.00s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/tracing.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/uri_query_operations.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/uri_replace_brace_escape.caddyfiletest (0.01s)
#9 40.29     --- PASS: TestCaddyfileAdaptToJSON/wildcard_pattern.caddyfiletest (0.01s)
#9 40.29 === RUN   TestRespond
#9 40.29 {"level":"info","ts":1752538265.813145,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51604","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8138418,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51616","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.814288,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51626","headers":{"Accept-Encoding":["gzip"],"Content-Length":["201"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8151262,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.8152266,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.8153617,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.815366,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.815369,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.8153987,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.8203664,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.8203804,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.8204927,"msg":"caddytest: config load time took 6.477968ms"}
#9 40.29 {"level":"info","ts":1752538265.821396,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51642","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.821637,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestRespond (0.01s)
#9 40.29 === RUN   TestRedirect
#9 40.29 {"level":"info","ts":1752538265.8220847,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51642","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8225603,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51656","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8230033,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51668","headers":{"Accept-Encoding":["gzip"],"Content-Length":["252"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8230336,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.823821,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.8239176,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.824115,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.8241193,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.8241217,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.8241484,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538265.8285284,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.8285453,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.8286397,"msg":"caddytest: config load time took 5.937111ms"}
#9 40.29 {"level":"info","ts":1752538265.8293421,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51684","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8296077,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestRedirect (0.01s)
#9 40.29 === RUN   TestDuplicateHosts
#9 40.29 {"level":"info","ts":1752538265.8302574,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51684","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8307052,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51698","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8311546,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51706","headers":{"Accept-Encoding":["gzip"],"Content-Length":["63"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538265.8313046,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: ambiguous site definition: localhost:9080","status_code":400}
#9 40.29 {"level":"info","ts":1752538265.83139,"msg":"caddytest: config load time took 544.79s"}
#9 40.29 --- PASS: TestDuplicateHosts (0.00s)
#9 40.29 === RUN   TestReadCookie
#9 40.29 {"level":"info","ts":1752538265.831921,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51706","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8330772,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.8333063,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51710","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.833834,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51718","headers":{"Accept-Encoding":["gzip"],"Content-Length":["240"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8349829,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.8350787,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538265.8351614,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538265.835212,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.8352172,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.8352194,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.8352458,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538265.835401,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.835417,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.835485,"msg":"caddytest: config load time took 2.022757ms"}
#9 40.29 {"level":"info","ts":1752538265.8361719,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51734","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8362718,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.8363893,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestReadCookie (0.04s)
#9 40.29 === RUN   TestReplIndex
#9 40.29 {"level":"info","ts":1752538265.8720863,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51734","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8727064,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51750","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.87313,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51762","headers":{"Accept-Encoding":["gzip"],"Content-Length":["269"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8743105,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.8744056,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538265.8744853,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538265.8745275,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.8745306,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.8745327,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.874564,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538265.877199,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.8772225,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.8773355,"msg":"caddytest: config load time took 4.492061ms"}
#9 40.29 {"level":"info","ts":1752538265.878327,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51768","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.878546,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538265.8787284,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestReplIndex (0.01s)
#9 40.29 === RUN   TestInvalidPrefix
#9 40.29 {"level":"info","ts":1752538265.8794367,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51768","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8801355,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51784","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8808265,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51794","headers":{"Accept-Encoding":["gzip"],"Content-Length":["15"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538265.8809748,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: server block 0, key 0 (wss://localhost): determining listener address: the scheme wss:// is only supported in browsers; use https:// instead","status_code":400}
#9 40.29 {"level":"info","ts":1752538265.881059,"msg":"caddytest: config load time took 737.06s"}
#9 40.29 {"level":"info","ts":1752538265.8811796,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51794","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8818076,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51806","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8825436,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51810","headers":{"Accept-Encoding":["gzip"],"Content-Length":["14"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538265.8826792,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: server block 0, key 0 (ws://localhost): determining listener address: the scheme ws:// is only supported in browsers; use http:// instead","status_code":400}
#9 40.29 {"level":"info","ts":1752538265.8827894,"msg":"caddytest: config load time took 744.812s"}
#9 40.29 {"level":"info","ts":1752538265.8829296,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51810","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8836095,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51824","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.884215,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51830","headers":{"Accept-Encoding":["gzip"],"Content-Length":["29"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538265.8843148,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: server block 0, key 0 (someInvalidPrefix://localhost): determining listener address: unsupported URL scheme someinvalidprefix://","status_code":400}
#9 40.29 {"level":"info","ts":1752538265.884775,"msg":"caddytest: config load time took 939.935s"}
#9 40.29 {"level":"info","ts":1752538265.884857,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51830","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8851905,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51834","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8855634,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51846","headers":{"Accept-Encoding":["gzip"],"Content-Length":["15"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538265.885653,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: server block 0, key 0 (h2c://localhost): determining listener address: unsupported URL scheme h2c://","status_code":400}
#9 40.29 {"level":"info","ts":1752538265.8856974,"msg":"caddytest: config load time took 370.437s"}
#9 40.29 {"level":"info","ts":1752538265.8857815,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51846","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.886883,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51856","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8873222,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51858","headers":{"Accept-Encoding":["gzip"],"Content-Length":["26"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538265.8874352,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: server block 0, key 1 (wss://localhost): determining listener address: the scheme wss:// is only supported in browsers; use https:// instead","status_code":400}
#9 40.29 {"level":"info","ts":1752538265.8874702,"msg":"caddytest: config load time took 442.559s"}
#9 40.29 {"level":"info","ts":1752538265.8875625,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51858","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8878891,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51864","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.888228,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51876","headers":{"Accept-Encoding":["gzip"],"Content-Length":["61"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538265.8883574,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: parsing caddyfile tokens for 'reverse_proxy': parsing upstream 'ws://localhost\"': the scheme ws:// is only supported in browsers; use http:// instead, at Caddyfile:2","status_code":400}
#9 40.29 {"level":"info","ts":1752538265.8884072,"msg":"caddytest: config load time took 404.627s"}
#9 40.29 {"level":"info","ts":1752538265.8884916,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51876","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8887842,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51888","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.8957798,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51896","headers":{"Accept-Encoding":["gzip"],"Content-Length":["67"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538265.895956,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: parsing caddyfile tokens for 'reverse_proxy': parsing upstream 'someInvalidPrefix://localhost\"': unsupported URL scheme someinvalidprefix://, at Caddyfile:2","status_code":400}
#9 40.29 {"level":"info","ts":1752538265.89608,"msg":"caddytest: config load time took 7.201857ms"}
#9 40.29 --- PASS: TestInvalidPrefix (0.02s)
#9 40.29 === RUN   TestValidPrefix
#9 40.29     caddytest.go:436: warning: Caddyfile:1: : Caddyfile input is not formatted; run 'caddy fmt --overwrite' to fix inconsistencies
#9 40.29     caddytest.go:436: warning: Caddyfile:1: : Caddyfile input is not formatted; run 'caddy fmt --overwrite' to fix inconsistencies
#9 40.29     caddytest.go:436: warning: Caddyfile:1: : Caddyfile input is not formatted; run 'caddy fmt --overwrite' to fix inconsistencies
#9 40.29     caddytest.go:436: warning: Caddyfile:2: : Caddyfile input is not formatted; run 'caddy fmt --overwrite' to fix inconsistencies
#9 40.29     caddytest.go:436: warning: Caddyfile:2: : Caddyfile input is not formatted; run 'caddy fmt --overwrite' to fix inconsistencies
#9 40.29     caddytest.go:436: warning: Caddyfile:2: : Caddyfile input is not formatted; run 'caddy fmt --overwrite' to fix inconsistencies
#9 40.29     caddytest.go:436: warning: Caddyfile:2: : Caddyfile input is not formatted; run 'caddy fmt --overwrite' to fix inconsistencies
#9 40.29 --- PASS: TestValidPrefix (0.00s)
#9 40.29 === RUN   TestUriReplace
#9 40.29 {"level":"info","ts":1752538265.9004362,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51896","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9014213,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51910","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9021747,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51924","headers":{"Accept-Encoding":["gzip"],"Content-Length":["122"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9030476,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9031954,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9033577,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9033923,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9034038,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.9034417,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538265.9089751,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9089963,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9090903,"msg":"caddytest: config load time took 7.433187ms"}
#9 40.29 {"level":"info","ts":1752538265.9098392,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51934","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9100933,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestUriReplace (0.01s)
#9 40.29 === RUN   TestUriOps
#9 40.29 {"level":"info","ts":1752538265.9106169,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51934","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.910974,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.9112527,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51946","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9117458,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51956","headers":{"Accept-Encoding":["gzip"],"Content-Length":["193"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9126542,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9127657,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.912924,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9129677,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.91298,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.9130154,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9147437,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9147584,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9148452,"msg":"caddytest: config load time took 3.432474ms"}
#9 40.29 {"level":"info","ts":1752538265.9156227,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51970","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.915868,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestUriOps (0.01s)
#9 40.29 {"level":"info","ts":1752538265.9162297,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 === RUN   TestHttpRequestLocalPortPlaceholder
#9 40.29 {"level":"info","ts":1752538265.9163988,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51970","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9169812,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51980","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9174228,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"51984","headers":{"Accept-Encoding":["gzip"],"Content-Length":["94"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9182673,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9183822,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9185705,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9185786,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9186077,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.918633,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9201186,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9201343,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9202268,"msg":"caddytest: config load time took 3.101337ms"}
#9 40.29 {"level":"info","ts":1752538265.9209526,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51996","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9212105,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestHttpRequestLocalPortPlaceholder (0.01s)
#9 40.29 === RUN   TestSetThenAddQueryParams
#9 40.29 {"level":"info","ts":1752538265.9216065,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"51996","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9220326,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52004","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9224308,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52008","headers":{"Accept-Encoding":["gzip"],"Content-Length":["117"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9226904,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.923286,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9234262,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9235597,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9235725,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.923575,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.923599,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9263864,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.926404,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.926532,"msg":"caddytest: config load time took 4.400931ms"}
#9 40.29 {"level":"info","ts":1752538265.9270012,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.9272797,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52018","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.927495,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestSetThenAddQueryParams (0.01s)
#9 40.29 === RUN   TestSetThenDeleteParams
#9 40.29 {"level":"info","ts":1752538265.9279103,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52018","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9283116,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52034","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.928814,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52036","headers":{"Accept-Encoding":["gzip"],"Content-Length":["124"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9295104,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9295785,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.929663,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.929672,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.929674,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.929697,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9326813,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9326959,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9327743,"msg":"caddytest: config load time took 4.309375ms"}
#9 40.29 {"level":"info","ts":1752538265.9335296,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52052","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9337769,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestSetThenDeleteParams (0.01s)
#9 40.29 === RUN   TestRenameAndOtherOps
#9 40.29 {"level":"info","ts":1752538265.9343393,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52052","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9348469,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52066","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9354458,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52078","headers":{"Accept-Encoding":["gzip"],"Content-Length":["136"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.936256,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.936331,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9364524,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9364638,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9364667,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.9364932,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9377956,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.9393868,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9394004,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.939505,"msg":"caddytest: config load time took 4.469465ms"}
#9 40.29 {"level":"info","ts":1752538265.9400113,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.9406729,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52080","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9409935,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestRenameAndOtherOps (0.01s)
#9 40.29 === RUN   TestReplaceOps
#9 40.29 {"level":"info","ts":1752538265.9414372,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52080","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9420269,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52084","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9425278,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52088","headers":{"Accept-Encoding":["gzip"],"Content-Length":["100"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.943267,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//127.0.0.1:2999","//localhost:2999","//[::1]:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9433377,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9434278,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9434342,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9434364,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.9434571,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9447498,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9447672,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9448547,"msg":"caddytest: config load time took 2.657057ms"}
#9 40.29 {"level":"info","ts":1752538265.9455626,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52094","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9457936,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestReplaceOps (0.00s)
#9 40.29 === RUN   TestReplaceWithReplacementPlaceholder
#9 40.29 {"level":"info","ts":1752538265.946285,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52094","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9467177,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52104","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.946988,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.9471917,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52108","headers":{"Accept-Encoding":["gzip"],"Content-Length":["116"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9480178,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9481232,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9482443,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9482489,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9482508,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.948278,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9535527,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9535701,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9536543,"msg":"caddytest: config load time took 6.813962ms"}
#9 40.29 {"level":"info","ts":1752538265.9543788,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52124","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9546156,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestReplaceWithReplacementPlaceholder (0.01s)
#9 40.29 === RUN   TestReplaceWithKeyPlaceholder
#9 40.29 {"level":"info","ts":1752538265.9550767,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52124","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9555287,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52126","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9558969,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.9560533,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52140","headers":{"Accept-Encoding":["gzip"],"Content-Length":["116"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9568617,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.956958,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9570615,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9570696,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9570718,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.957094,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9589913,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9590104,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9596086,"msg":"caddytest: config load time took 3.944919ms"}
#9 40.29 {"level":"info","ts":1752538265.960321,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52150","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9605138,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestReplaceWithKeyPlaceholder (0.01s)
#9 40.29 === RUN   TestPartialReplacement
#9 40.29 {"level":"info","ts":1752538265.960978,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52150","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9611175,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.9616292,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52164","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9623263,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52172","headers":{"Accept-Encoding":["gzip"],"Content-Length":["98"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9630592,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.963156,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9632542,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.963257,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9632592,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.9632823,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9696734,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9696941,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9698584,"msg":"caddytest: config load time took 8.0025ms"}
#9 40.29 {"level":"info","ts":1752538265.9707134,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52182","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.971266,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538265.9713268,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestPartialReplacement (0.01s)
#9 40.29 === RUN   TestNonExistingSearch
#9 40.29 {"level":"info","ts":1752538265.97174,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52182","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.972281,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52192","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.972806,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52204","headers":{"Accept-Encoding":["gzip"],"Content-Length":["100"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9736197,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9738257,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9739597,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.973964,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9739664,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.973987,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9766748,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9766903,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.976834,"msg":"caddytest: config load time took 4.379028ms"}
#9 40.29 {"level":"info","ts":1752538265.977326,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.977675,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52218","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9779174,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestNonExistingSearch (0.01s)
#9 40.29 === RUN   TestReplaceAllOps
#9 40.29 {"level":"info","ts":1752538265.9783747,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52218","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9796114,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52234","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9802723,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52236","headers":{"Accept-Encoding":["gzip"],"Content-Length":["98"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9814816,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9815779,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.981973,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.9819782,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9819803,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.9820073,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9878716,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9878912,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.988028,"msg":"caddytest: config load time took 8.243219ms"}
#9 40.29 {"level":"info","ts":1752538265.988723,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52244","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.988893,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestReplaceAllOps (0.01s)
#9 40.29 === RUN   TestUriOpsBlock
#9 40.29 {"level":"info","ts":1752538265.989251,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52244","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9895642,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52248","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9899523,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52250","headers":{"Accept-Encoding":["gzip"],"Content-Length":["122"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9905956,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538265.9907281,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//127.0.0.1:2999","//localhost:2999","//[::1]:2999"]}
#9 40.29 {"level":"warn","ts":1752538265.9907966,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538265.9908938,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538265.990898,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538265.9909005,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538265.9909256,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538265.9952743,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538265.9952872,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538265.9953606,"msg":"caddytest: config load time took 5.692532ms"}
#9 40.29 {"level":"info","ts":1752538265.995953,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52266","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.996139,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestUriOpsBlock (0.01s)
#9 40.29 === RUN   TestHandleErrorSimpleCodes
#9 40.29 {"level":"info","ts":1752538265.9964805,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52266","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538265.9967818,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52278","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.005636,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.0058405,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52288","headers":{"Accept-Encoding":["gzip"],"Content-Length":["215"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0069788,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.007086,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538266.0096977,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.0097098,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.0097125,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.0097458,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.0150383,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.0150592,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.0151763,"msg":"caddytest: config load time took 18.26302ms"}
#9 40.29 {"level":"info","ts":1752538266.015642,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.0159838,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52298","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0162468,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestHandleErrorSimpleCodes (0.02s)
#9 40.29 === RUN   TestHandleErrorRange
#9 40.29 {"level":"info","ts":1752538266.0166957,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52298","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0170548,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52308","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0174456,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52322","headers":{"Accept-Encoding":["gzip"],"Content-Length":["225"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0182583,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.018348,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538266.019204,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.0192165,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.0192194,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.0192475,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.0318196,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.0318487,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.032082,"msg":"caddytest: config load time took 14.866618ms"}
#9 40.29 {"level":"info","ts":1752538266.0332055,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52328","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0335257,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestHandleErrorRange (0.02s)
#9 40.29 === RUN   TestHandleErrorSort
#9 40.29 {"level":"info","ts":1752538266.0342505,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52328","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0353236,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52330","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0357864,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52338","headers":{"Accept-Encoding":["gzip"],"Content-Length":["360"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0367258,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.036832,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538266.037725,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"warn","ts":1752538266.0379071,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.0379193,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.0379221,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.037972,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.0449743,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.0449953,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.045177,"msg":"caddytest: config load time took 9.678786ms"}
#9 40.29 {"level":"info","ts":1752538266.0466132,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52348","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0467656,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.0470912,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestHandleErrorSort (0.01s)
#9 40.29 === RUN   TestHandleErrorRangeAndCodes
#9 40.29 {"level":"info","ts":1752538266.0478497,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52348","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0485523,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52364","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0492415,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52368","headers":{"Accept-Encoding":["gzip"],"Content-Length":["386"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.054141,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.0542674,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538266.056219,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.0562334,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.0562365,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.056261,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.064446,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.0644655,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.06464,"msg":"caddytest: config load time took 15.827858ms"}
#9 40.29 {"level":"info","ts":1752538266.066022,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52372","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0664256,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestHandleErrorRangeAndCodes (0.02s)
#9 40.29 === RUN   TestHandleErrorSubHandlers
#9 40.29 {"level":"info","ts":1752538266.0673385,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52372","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.067924,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52380","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0684464,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52386","headers":{"Accept-Encoding":["gzip"],"Content-Length":["451"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0700834,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.0702114,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538266.0714648,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.0714738,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.0714762,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.0715215,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.0728104,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.0859911,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.086023,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.0861957,"msg":"caddytest: config load time took 18.052367ms"}
#9 40.29 {"level":"info","ts":1752538266.0882378,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52396","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.0887697,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538266.092411,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestHandleErrorSubHandlers (0.05s)
#9 40.29 === RUN   TestInvalidSiteAddressesAsDirectives
#9 40.29 {"level":"info","ts":1752538266.1140141,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52396","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1147854,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52398","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1154013,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52402","headers":{"Accept-Encoding":["gzip"],"Content-Length":["33"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538266.1154654,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: Caddyfile:2: parsed 'handle' as a site address, but it is a known directive; directives must appear in a site block","status_code":400}
#9 40.29 {"level":"info","ts":1752538266.1155646,"msg":"caddytest: config load time took 517.619s"}
#9 40.29 {"level":"info","ts":1752538266.1156638,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52402","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1161036,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52404","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.116644,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52406","headers":{"Accept-Encoding":["gzip"],"Content-Length":["70"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"error","ts":1752538266.11672,"logger":"admin.api","msg":"request error","error":"adapting config using caddyfile adapter: Caddyfile:2: parsed 'reverse_proxy' as a site address, but it is a known directive; directives must appear in a site block","status_code":400}
#9 40.29 {"level":"info","ts":1752538266.1168203,"msg":"caddytest: config load time took 532.173s"}
#9 40.29 --- PASS: TestInvalidSiteAddressesAsDirectives (0.00s)
#9 40.29 === RUN   TestBrowse
#9 40.29 {"level":"info","ts":1752538266.1170526,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52406","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1175356,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52414","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1181638,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52422","headers":{"Accept-Encoding":["gzip"],"Content-Length":["164"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1193604,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.1194606,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538266.1195288,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538266.119579,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.119583,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.1195853,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.1196105,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.1234202,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.1234353,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.1235304,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.123536,"msg":"caddytest: config load time took 5.717762ms"}
#9 40.29 {"level":"info","ts":1752538266.1243448,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52438","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1245844,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestBrowse (0.01s)
#9 40.29 === RUN   TestRespondWithJSON
#9 40.29 {"level":"info","ts":1752538266.1279771,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52438","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1285827,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52448","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1291852,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52456","headers":{"Accept-Encoding":["gzip"],"Content-Length":["161"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1303146,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538266.1304083,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 40.29 {"level":"info","ts":1752538266.1304228,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538266.1305175,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538266.1306129,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538266.1306248,"msg":"quic listener tls configs are more than 2","number of configs":9}
#9 40.29 {"level":"info","ts":1752538266.1306295,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538266.1306553,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.1306586,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.1306605,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.1306634,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["localhost"]}
#9 40.29 {"level":"info","ts":1752538266.130726,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538266.1356006,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.1356173,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.135708,"msg":"caddytest: config load time took 6.97795ms"}
#9 40.29 {"level":"info","ts":1752538266.1364539,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52462","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:493: Content-Type header not provided
#9 40.29 {"level":"info","ts":1752538266.1367102,"msg":"caddytest: redirecting the dialer from localhost:9443 to 127.0.0.1:9443"}
#9 40.29     caddytest.go:501: failed to call server Post "https://localhost:9443/": remote error: tls: internal error
#9 40.29 {"level":"info","ts":1752538266.1376526,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52462","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:155: ----------- failed with config -----------
#9 40.29         {
#9 40.29           "admin": {
#9 40.29             "listen": "localhost:2999"
#9 40.29           },
#9 40.29           "apps": {
#9 40.29             "http": {
#9 40.29               "grace_period": 1,
#9 40.29               "http_port": 9080,
#9 40.29               "https_port": 9443,
#9 40.29               "servers": {
#9 40.29                 "srv0": {
#9 40.29                   "listen": [
#9 40.29                     ":9443"
#9 40.29                   ],
#9 40.29                   "routes": [
#9 40.29                     {
#9 40.29                       "handle": [
#9 40.29                         {
#9 40.29                           "handler": "subroute",
#9 40.29                           "routes": [
#9 40.29                             {
#9 40.29                               "handle": [
#9 40.29                                 {
#9 40.29                                   "body": "{http.request.body}",
#9 40.29                                   "handler": "static_response"
#9 40.29                                 }
#9 40.29                               ]
#9 40.29                             }
#9 40.29                           ]
#9 40.29                         }
#9 40.29                       ],
#9 40.29                       "match": [
#9 40.29                         {
#9 40.29                           "host": [
#9 40.29                             "localhost"
#9 40.29                           ]
#9 40.29                         }
#9 40.29                       ],
#9 40.29                       "terminal": true
#9 40.29                     }
#9 40.29                   ]
#9 40.29                 }
#9 40.29               }
#9 40.29             },
#9 40.29             "pki": {
#9 40.29               "certificate_authorities": {
#9 40.29                 "local": {
#9 40.29                   "install_trust": false
#9 40.29                 }
#9 40.29               }
#9 40.29             }
#9 40.29           }
#9 40.29         }
#9 40.29 --- FAIL: TestRespondWithJSON (0.01s)
#9 40.29 === RUN   TestIntercept
#9 40.29 {"level":"info","ts":1752538266.1379623,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52462","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1384645,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52464","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1390684,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52478","headers":{"Accept-Encoding":["gzip"],"Content-Length":["503"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.1397662,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.1455889,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.14573,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538266.1460555,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538266.1461475,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.1461637,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.1461735,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.1462038,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538266.1553032,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.1553187,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.1554492,"msg":"caddytest: config load time took 16.857499ms"}
#9 40.29 {"level":"info","ts":1752538266.1563208,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52488","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.156592,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestIntercept (0.02s)
#9 40.29 === RUN   TestLeafCertLoaders
#9 40.29 {"level":"info","ts":1752538266.1569602,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52488","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.157303,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52502","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29         	{
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"http": {
#9 40.29         				"http_port": 9080,
#9 40.29                			"https_port": 9443,
#9 40.29         				"grace_period": 1,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":9443"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"host": [
#9 40.29         											"localhost"
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"terminal": true
#9 40.29         							}
#9 40.29         						],
#9 40.29         						"tls_connection_policies": [
#9 40.29         							{
#9 40.29         								"client_authentication": {
#9 40.29         									"verifiers": [
#9 40.29         										{
#9 40.29         											"verifier": "leaf",
#9 40.29         											"leaf_certs_loaders": [
#9 40.29         												{
#9 40.29         													"loader": "file",
#9 40.29         													"files": ["../leafcert.pem"]
#9 40.29         												}, 
#9 40.29         												{
#9 40.29         													"loader": "folder", 
#9 40.29         													"folders": ["../"]
#9 40.29         												},
#9 40.29         												{
#9 40.29         													"loader": "storage"
#9 40.29         												},
#9 40.29         												{
#9 40.29         													"loader": "pem"
#9 40.29         												}
#9 40.29         											]
#9 40.29         										}
#9 40.29         									]
#9 40.29         								}
#9 40.29         							}
#9 40.29         						]
#9 40.29         					}
#9 40.29         				}
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"http_port":9080,"https_port":9443,"servers":{"srv0":{"listen":[":9443"],"routes":[{"match":[{"host":["localhost"]}],"terminal":true}],"tls_connection_policies":[{"client_authentication":{"verifiers":[{"leaf_certs_loaders":[{"files":["../leafcert.pem"],"loader":"file"},{"folders":["../"],"loader":"folder"},{"loader":"storage"},{"loader":"pem"}],"verifier":"leaf"}]}}]}}}}}
#9 40.29 {"level":"info","ts":1752538266.1578524,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52516","headers":{"Accept-Encoding":["gzip"],"Content-Length":["444"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.158346,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538266.1584463,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"warn","ts":1752538266.1587598,"logger":"http","msg":"enabling strict SNI-Host enforcement because TLS client auth is configured","server_id":"srv0"}
#9 40.29 {"level":"info","ts":1752538266.1597679,"logger":"tls.obtain","msg":"acquiring lock","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538266.161186,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538266.1612015,"msg":"quic listener tls configs are more than 2","number of configs":10}
#9 40.29 {"level":"info","ts":1752538266.1612074,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538266.1612327,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.161236,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.161238,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.1612415,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["localhost"]}
#9 40.29 {"level":"warn","ts":1752538266.1612895,"logger":"pki.ca.local","msg":"installing root certificate (you might be prompted for password)","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538266.1646423,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.1727564,"logger":"tls.obtain","msg":"lock acquired","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538266.1727915,"logger":"tls.obtain","msg":"releasing lock","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538266.189446,"msg":"warning: \"certutil\" is not available, install \"certutil\" with \"apt install libnss3-tools\" or \"yum install nss-tools\" and try again"}
#9 40.29 {"level":"info","ts":1752538266.189474,"msg":"define JAVA_HOME environment variable to use the Java trust"}
#9 40.29 {"level":"error","ts":1752538266.1897914,"logger":"tls","msg":"job failed","error":"localhost: obtaining certificate: context canceled"}
#9 40.29 {"level":"info","ts":1752538266.190006,"logger":"tls.obtain","msg":"acquiring lock","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538266.2152555,"logger":"tls.obtain","msg":"lock acquired","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538266.2153718,"logger":"tls.obtain","msg":"obtaining certificate","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538266.3257408,"logger":"tls.obtain","msg":"certificate obtained successfully","identifier":"localhost","issuer":"local"}
#9 40.29 {"level":"info","ts":1752538266.3258305,"logger":"tls.obtain","msg":"releasing lock","identifier":"localhost"}
#9 40.29 {"level":"info","ts":1752538266.9507475,"msg":"certificate installed properly in linux trusts"}
#9 40.29 {"level":"info","ts":1752538266.9508822,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538266.9510524,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.9510603,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.9512029,"msg":"caddytest: config load time took 793.612502ms"}
#9 40.29 {"level":"info","ts":1752538266.951676,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52524","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 --- PASS: TestLeafCertLoaders (0.79s)
#9 40.29 === RUN   TestHTTPRedirectWrapperWithLargeUpload
#9 40.29 {"level":"info","ts":1752538266.953686,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52524","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9542487,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52526","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9546514,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52540","headers":{"Accept-Encoding":["gzip"],"Content-Length":["233"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.955556,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//127.0.0.1:2999","//localhost:2999","//[::1]:2999"]}
#9 40.29 {"level":"info","ts":1752538266.955654,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 40.29 {"level":"info","ts":1752538266.9556677,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538266.9558165,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538266.955857,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538266.955865,"msg":"quic listener tls configs are more than 2","number of configs":11}
#9 40.29 {"level":"info","ts":1752538266.9558764,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538266.9558964,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.9558988,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.955901,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.9559038,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["localhost"]}
#9 40.29 {"level":"info","ts":1752538266.9559271,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538266.9561167,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.956124,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.956196,"msg":"caddytest: config load time took 1.809453ms"}
#9 40.29 {"level":"info","ts":1752538266.9568338,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.9569087,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52552","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9571466,"msg":"caddytest: redirecting the dialer from localhost:9443 to 127.0.0.1:9443"}
#9 40.29 --- PASS: TestHTTPRedirectWrapperWithLargeUpload (0.01s)
#9 40.29 === RUN   TestLargeHttpRequest
#9 40.29 {"level":"info","ts":1752538266.964841,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52552","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.965332,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52568","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9657629,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52574","headers":{"Accept-Encoding":["gzip"],"Content-Length":["233"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9668372,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538266.9669693,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":9443}
#9 40.29 {"level":"info","ts":1752538266.9669967,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538266.967143,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538266.9671931,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538266.9672003,"msg":"quic listener tls configs are more than 2","number of configs":12}
#9 40.29 {"level":"info","ts":1752538266.967206,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538266.9672277,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.9672308,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.9672325,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.9672356,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["localhost"]}
#9 40.29 {"level":"info","ts":1752538266.9672601,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.9674184,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.9674284,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.9674885,"msg":"caddytest: config load time took 2.034567ms"}
#9 40.29 {"level":"info","ts":1752538266.968148,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.9682312,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52586","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.969719,"msg":"caddytest: redirecting the dialer from localhost:9443 to 127.0.0.1:9443"}
#9 40.29 --- PASS: TestLargeHttpRequest (0.01s)
#9 40.29 === RUN   TestMap
#9 40.29 {"level":"info","ts":1752538266.9784718,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52586","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.97908,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52600","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9795825,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52612","headers":{"Accept-Encoding":["gzip"],"Content-Length":["361"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9808488,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.980963,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538266.981096,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538266.9811494,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.981155,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.9811573,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.9811835,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.9813304,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.9813387,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.9813917,"msg":"caddytest: config load time took 2.167248ms"}
#9 40.29 {"level":"info","ts":1752538266.9820755,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538266.9822278,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52628","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9824996,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29     caddytest.go:493: Content-Type header not provided
#9 40.29 --- PASS: TestMap (0.00s)
#9 40.29 === RUN   TestMapRespondWithDefault
#9 40.29 {"level":"info","ts":1752538266.9830184,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52628","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9834054,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52640","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9838269,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52642","headers":{"Accept-Encoding":["gzip"],"Content-Length":["291"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9846766,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.984745,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538266.9848359,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538266.98487,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.9848735,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.984875,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.984894,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538266.985047,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.9850588,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.9851243,"msg":"caddytest: config load time took 1.557599ms"}
#9 40.29 {"level":"info","ts":1752538266.9856508,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52648","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9858525,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538266.9859023,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29     caddytest.go:493: Content-Type header not provided
#9 40.29 --- PASS: TestMapRespondWithDefault (0.00s)
#9 40.29 === RUN   TestMapAsJSON
#9 40.29 {"level":"info","ts":1752538266.9862916,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52648","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9866936,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52662","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29         	{
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"pki": {
#9 40.29         				"certificate_authorities" : {
#9 40.29         				  "local" : {
#9 40.29         					"install_trust": false
#9 40.29         				  }
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"http": {
#9 40.29         				"http_port": 9080,
#9 40.29         				"https_port": 9443,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":9080"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         										"handler": "subroute",
#9 40.29         										"routes": [
#9 40.29         											{
#9 40.29         												"handle": [
#9 40.29         													{
#9 40.29         														"handler": "map",
#9 40.29         														"source": "{http.request.method}",
#9 40.29         														"destinations": ["{dest-name}"],
#9 40.29         														"defaults": ["unknown"],
#9 40.29         														"mappings": [
#9 40.29         															{
#9 40.29         																"input": "GET",
#9 40.29         																"outputs": ["get-called"]
#9 40.29         															},
#9 40.29         															{
#9 40.29         																"input": "POST",
#9 40.29         																"outputs": ["post-called"]
#9 40.29         															}
#9 40.29         														]
#9 40.29         													}
#9 40.29         												]
#9 40.29         											},
#9 40.29         											{
#9 40.29         												"handle": [
#9 40.29         													{
#9 40.29         														"body": "hello from localhost {dest-name}",
#9 40.29         														"handler": "static_response",
#9 40.29         														"status_code": 200
#9 40.29         													}
#9 40.29         												],
#9 40.29         												"match": [
#9 40.29         													{
#9 40.29         														"path": ["/version"]
#9 40.29         													}
#9 40.29         												]
#9 40.29         											}
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"host": ["localhost"]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"terminal": true
#9 40.29         							}
#9 40.29         						]
#9 40.29         					}
#9 40.29         				}
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"http_port":9080,"https_port":9443,"servers":{"srv0":{"listen":[":9080"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"defaults":["unknown"],"destinations":["{dest-name}"],"handler":"map","mappings":[{"input":"GET","outputs":["get-called"]},{"input":"POST","outputs":["post-called"]}],"source":"{http.request.method}"}]},{"handle":[{"body":"hello from localhost {dest-name}","handler":"static_response","status_code":200}],"match":[{"path":["/version"]}]}]}],"match":[{"host":["localhost"]}],"terminal":true}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}}}}
#9 40.29 {"level":"info","ts":1752538266.9872365,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52670","headers":{"Accept-Encoding":["gzip"],"Content-Length":["655"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.988054,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538266.9881284,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538266.9882793,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538266.9882827,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538266.9882848,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538266.9882913,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538266.9883134,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538266.9884565,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538266.9884646,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538266.9885435,"msg":"caddytest: config load time took 1.627034ms"}
#9 40.29 {"level":"info","ts":1752538266.9888763,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52678","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9891255,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538266.9892359,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29     caddytest.go:493: Content-Type header not provided
#9 40.29 --- PASS: TestMapAsJSON (0.00s)
#9 40.29 === RUN   TestLeafCertLifetimeLessThanIntermediate
#9 40.29 {"level":"info","ts":1752538266.9895868,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52678","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538266.9899507,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52684","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29             {
#9 40.29               "admin": {
#9 40.29                 "disabled": true
#9 40.29               },
#9 40.29               "apps": {
#9 40.29                 "http": {
#9 40.29                   "servers": {
#9 40.29                     "srv0": {
#9 40.29                       "listen": [
#9 40.29                         ":443"
#9 40.29                       ],
#9 40.29                       "routes": [
#9 40.29                         {
#9 40.29                           "handle": [
#9 40.29                             {
#9 40.29                               "handler": "subroute",
#9 40.29                               "routes": [
#9 40.29                                 {
#9 40.29                                   "handle": [
#9 40.29                                     {
#9 40.29                                       "ca": "internal",
#9 40.29                                       "handler": "acme_server",
#9 40.29                                       "lifetime": 604800000000000
#9 40.29                                     }
#9 40.29                                   ]
#9 40.29                                 }
#9 40.29                               ]
#9 40.29                             }
#9 40.29                           ]
#9 40.29                         }
#9 40.29                       ]
#9 40.29                     }
#9 40.29                   }
#9 40.29                 },
#9 40.29                 "pki": {
#9 40.29                   "certificate_authorities": {
#9 40.29                     "internal": {
#9 40.29                       "install_trust": false,
#9 40.29                       "intermediate_lifetime": 604800000000000,
#9 40.29                       "name": "Internal CA"
#9 40.29                     }
#9 40.29                   }
#9 40.29                 }
#9 40.29               }
#9 40.29             }
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"disabled":true},"apps":{"http":{"servers":{"srv0":{"listen":[":443"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"ca":"internal","handler":"acme_server","lifetime":604800000000000}]}]}]}]}}},"pki":{"certificate_authorities":{"internal":{"install_trust":false,"intermediate_lifetime":604800000000000,"name":"Internal CA"}}}}}
#9 40.29 {"level":"info","ts":1752538266.990373,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52688","headers":{"Accept-Encoding":["gzip"],"Content-Length":["356"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"warn","ts":1752538266.9906545,"logger":"admin","msg":"admin endpoint disabled"}
#9 40.29 {"level":"info","ts":1752538266.990705,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":443}
#9 40.29 {"level":"info","ts":1752538266.9907122,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"error","ts":1752538267.0097182,"logger":"admin.api","msg":"request error","error":"loading config: loading new config: loading http app module: provision http: server srv0: setting up route handlers: route 0: loading handler modules: position 0: loading module 'subroute': provision http.handlers.subroute: setting up subroutes: route 0: loading handler modules: position 0: loading module 'acme_server': provision http.handlers.acme_server: certificate lifetime (168h0m0s) should be less than intermediate certificate lifetime (168h0m0s)","status_code":400}
#9 40.29 {"level":"info","ts":1752538267.0098827,"msg":"caddytest: config load time took 19.722821ms"}
#9 40.29 --- PASS: TestLeafCertLifetimeLessThanIntermediate (0.02s)
#9 40.29 === RUN   TestIntermediateLifetimeLessThanRoot
#9 40.29 {"level":"info","ts":1752538267.0108745,"msg":"maxprocs: Leaving GOMAXPROCS=8: CPU quota undefined"}
#9 40.29 {"level":"info","ts":1752538267.011071,"msg":"using config from file","file":"/tmp/397750084"}
#9 40.29 {"level":"info","ts":1752538267.0112212,"msg":"adapted config to JSON","adapter":"caddyfile"}
#9 40.29 {"level":"info","ts":1752538267.0117092,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//127.0.0.1:2999","//localhost:2999","//[::1]:2999"]}
#9 40.29 {"level":"info","ts":1752538267.0117414,"logger":"http","msg":"servers shutting down with eternal grace period"}
#9 40.29 {"level":"info","ts":1752538267.0117989,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538267.0118055,"logger":"tls.cache.maintenance","msg":"stopped background certificate maintenance","cache":"0xc00078f080"}
#9 40.29 {"level":"info","ts":1752538267.0119083,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538267.0119157,"msg":"serving initial configuration"}
#9 40.29 {"level":"info","ts":1752538267.0259702,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538267.2215428,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538268.0115554,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52708","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538268.0120625,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52718","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29             {
#9 40.29               "admin": {
#9 40.29                 "disabled": true
#9 40.29               },
#9 40.29               "apps": {
#9 40.29                 "http": {
#9 40.29                   "servers": {
#9 40.29                     "srv0": {
#9 40.29                       "listen": [
#9 40.29                         ":443"
#9 40.29                       ],
#9 40.29                       "routes": [
#9 40.29                         {
#9 40.29                           "handle": [
#9 40.29                             {
#9 40.29                               "handler": "subroute",
#9 40.29                               "routes": [
#9 40.29                                 {
#9 40.29                                   "handle": [
#9 40.29                                     {
#9 40.29                                       "ca": "internal",
#9 40.29                                       "handler": "acme_server",
#9 40.29                                       "lifetime": 2592000000000000
#9 40.29                                     }
#9 40.29                                   ]
#9 40.29                                 }
#9 40.29                               ]
#9 40.29                             }
#9 40.29                           ]
#9 40.29                         }
#9 40.29                       ]
#9 40.29                     }
#9 40.29                   }
#9 40.29                 },
#9 40.29                 "pki": {
#9 40.29                   "certificate_authorities": {
#9 40.29                     "internal": {
#9 40.29                       "install_trust": false,
#9 40.29                       "intermediate_lifetime": 311040000000000000,
#9 40.29                       "name": "Internal CA"
#9 40.29                     }
#9 40.29                   }
#9 40.29                 }
#9 40.29               }
#9 40.29             }
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"disabled":true},"apps":{"http":{"servers":{"srv0":{"listen":[":443"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"ca":"internal","handler":"acme_server","lifetime":2592000000000000}]}]}]}]}}},"pki":{"certificate_authorities":{"internal":{"install_trust":false,"intermediate_lifetime":311040000000000000,"name":"Internal CA"}}}}}
#9 40.29 {"level":"info","ts":1752538268.0125935,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52720","headers":{"Accept-Encoding":["gzip"],"Content-Length":["360"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"warn","ts":1752538268.0128272,"logger":"admin","msg":"admin endpoint disabled"}
#9 40.29 {"level":"info","ts":1752538268.0128968,"logger":"http.auto_https","msg":"server is listening only on the HTTPS port but has no TLS connection policies; adding one to enable TLS","server_name":"srv0","https_port":443}
#9 40.29 {"level":"info","ts":1752538268.0129051,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538268.012967,"logger":"tls.cache.maintenance","msg":"started background certificate maintenance","cache":"0xc000802600"}
#9 40.29 {"level":"info","ts":1752538268.013054,"logger":"tls.cache.maintenance","msg":"stopped background certificate maintenance","cache":"0xc000802600"}
#9 40.29 {"level":"error","ts":1752538268.01307,"logger":"admin.api","msg":"request error","error":"loading config: loading new config: loading http app module: provision http: server srv0: setting up route handlers: route 0: loading handler modules: position 0: loading module 'subroute': provision http.handlers.subroute: setting up subroutes: route 0: loading handler modules: position 0: loading module 'acme_server': provision http.handlers.acme_server: loading pki app module: provision pki: provisioning CA 'internal': intermediate certificate lifetime must be less than root certificate lifetime (86400h0m0s)","status_code":400}
#9 40.29 {"level":"info","ts":1752538268.0131254,"msg":"caddytest: config load time took 841.651s"}
#9 40.29 --- PASS: TestIntermediateLifetimeLessThanRoot (1.00s)
#9 40.29 === RUN   TestSRVReverseProxy
#9 40.29 {"level":"info","ts":1752538268.013875,"msg":"maxprocs: Leaving GOMAXPROCS=8: CPU quota undefined"}
#9 40.29 {"level":"info","ts":1752538268.0139728,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538268.0140042,"msg":"using config from file","file":"/tmp/319874936"}
#9 40.29 {"level":"info","ts":1752538268.0141113,"msg":"adapted config to JSON","adapter":"caddyfile"}
#9 40.29 {"level":"info","ts":1752538268.0144343,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 40.29 {"level":"info","ts":1752538268.0145183,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538268.0145323,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538268.014536,"msg":"serving initial configuration"}
#9 40.29 {"level":"info","ts":1752538269.015609,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52744","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0160325,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52748","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29         	{
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"pki": {
#9 40.29         				"certificate_authorities": {
#9 40.29         					"local": {
#9 40.29         						"install_trust": false
#9 40.29         					}
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"http": {
#9 40.29         				"grace_period": 1,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":18080"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         										"handler": "reverse_proxy",
#9 40.29         										"dynamic_upstreams": {
#9 40.29         											"source": "srv",
#9 40.29         											"name": "srv.host.service.consul"
#9 40.29         										}
#9 40.29         									}
#9 40.29         								]
#9 40.29         							}
#9 40.29         						]
#9 40.29         					}
#9 40.29         				}
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"servers":{"srv0":{"listen":[":18080"],"routes":[{"handle":[{"dynamic_upstreams":{"name":"srv.host.service.consul","source":"srv"},"handler":"reverse_proxy"}]}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}}}}
#9 40.29 {"level":"info","ts":1752538269.016527,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52750","headers":{"Accept-Encoding":["gzip"],"Content-Length":["303"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0172389,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 40.29 {"level":"info","ts":1752538269.0173619,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538269.0173647,"logger":"tls.cache.maintenance","msg":"started background certificate maintenance","cache":"0xc000db6680"}
#9 40.29 {"level":"warn","ts":1752538269.0174074,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":18080"}
#9 40.29 {"level":"warn","ts":1752538269.0174127,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":18080"}
#9 40.29 {"level":"info","ts":1752538269.0174143,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.0175586,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.0175638,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.0176287,"msg":"caddytest: config load time took 1.430382ms"}
#9 40.29 {"level":"info","ts":1752538269.017979,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52766","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 --- PASS: TestSRVReverseProxy (1.00s)
#9 40.29 === RUN   TestDialWithPlaceholderUnix
#9 40.29 {"level":"info","ts":1752538269.0183918,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538269.0184197,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52766","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0187714,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52780","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29         	{
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"pki": {
#9 40.29         				"certificate_authorities": {
#9 40.29         					"local": {
#9 40.29         						"install_trust": false
#9 40.29         					}
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"http": {
#9 40.29         				"grace_period": 1,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":18080"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         										"handler": "reverse_proxy",
#9 40.29         										"upstreams": [
#9 40.29         											{
#9 40.29         												"dial": "unix/{http.request.header.X-Caddy-Upstream-Dial}"
#9 40.29         											}
#9 40.29         										]
#9 40.29         									}
#9 40.29         								]
#9 40.29         							}
#9 40.29         						]
#9 40.29         					}
#9 40.29         				}
#9 40.29         		  	}
#9 40.29         		}
#9 40.29         	}
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"servers":{"srv0":{"listen":[":18080"],"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"unix/{http.request.header.X-Caddy-Upstream-Dial}"}]}]}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}}}}
#9 40.29 {"level":"info","ts":1752538269.019284,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52790","headers":{"Accept-Encoding":["gzip"],"Content-Length":["307"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0198395,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538269.0199761,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538269.0200148,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":18080"}
#9 40.29 {"level":"warn","ts":1752538269.0200195,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":18080"}
#9 40.29 {"level":"info","ts":1752538269.0200212,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.0200403,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538269.0202026,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.0202134,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.020264,"msg":"caddytest: config load time took 1.328453ms"}
#9 40.29 {"level":"info","ts":1752538269.0205553,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52802","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0206842,"msg":"caddytest: redirecting the dialer from localhost:18080 to 127.0.0.1:18080"}
#9 40.29 {"level":"info","ts":1752538269.0210388,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestDialWithPlaceholderUnix (0.00s)
#9 40.29 === RUN   TestReverseProxyWithPlaceholderDialAddress
#9 40.29 {"level":"info","ts":1752538269.021243,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52802","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0215561,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52818","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29         	{
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"pki": {
#9 40.29         				"certificate_authorities": {
#9 40.29         					"local": {
#9 40.29         						"install_trust": false
#9 40.29         					}
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"http": {
#9 40.29         				"grace_period": 1,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":18080"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"host": [
#9 40.29         											"localhost"
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         										"handler": "static_response",
#9 40.29         										"body": "Hello, World!"
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"terminal": true
#9 40.29         							}
#9 40.29         						],
#9 40.29         						"automatic_https": {
#9 40.29         							"skip": [
#9 40.29         								"localhost"
#9 40.29         							]
#9 40.29         						}
#9 40.29         					},
#9 40.29         					"srv1": {
#9 40.29         						"listen": [
#9 40.29         							":9080"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"host": [
#9 40.29         											"localhost"
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         	
#9 40.29         										"handler": "reverse_proxy",
#9 40.29         										"upstreams": [
#9 40.29         											{
#9 40.29         												"dial": "{http.request.header.X-Caddy-Upstream-Dial}"
#9 40.29         											}
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"terminal": true
#9 40.29         							}
#9 40.29         						],
#9 40.29         						"automatic_https": {
#9 40.29         							"skip": [
#9 40.29         								"localhost"
#9 40.29         							]
#9 40.29         						}
#9 40.29         					}
#9 40.29         				}
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"servers":{"srv0":{"automatic_https":{"skip":["localhost"]},"listen":[":18080"],"routes":[{"handle":[{"body":"Hello, World!","handler":"static_response"}],"match":[{"host":["localhost"]}],"terminal":true}]},"srv1":{"automatic_https":{"skip":["localhost"]},"listen":[":9080"],"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"{http.request.header.X-Caddy-Upstream-Dial}"}]}],"match":[{"host":["localhost"]}],"terminal":true}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}}}}
#9 40.29 {"level":"info","ts":1752538269.0219674,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52828","headers":{"Accept-Encoding":["gzip"],"Content-Length":["587"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0225086,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538269.0226276,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538269.022661,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":18080"}
#9 40.29 {"level":"warn","ts":1752538269.0226674,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":18080"}
#9 40.29 {"level":"info","ts":1752538269.0226698,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538269.0226896,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.0226917,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.022693,"logger":"http.log","msg":"server running","name":"srv1","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.022721,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538269.0228395,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.0228474,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.0229115,"msg":"caddytest: config load time took 1.164528ms"}
#9 40.29 {"level":"info","ts":1752538269.0232673,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52840","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0234525,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538269.0237463,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestReverseProxyWithPlaceholderDialAddress (0.00s)
#9 40.29 === RUN   TestReverseProxyWithPlaceholderTCPDialAddress
#9 40.29 {"level":"info","ts":1752538269.0240533,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52840","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0244005,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52844","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: 
#9 40.29         	{
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"pki": {
#9 40.29         				"certificate_authorities": {
#9 40.29         					"local": {
#9 40.29         						"install_trust": false
#9 40.29         					}
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"http": {
#9 40.29         				"grace_period": 1,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":18080"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"host": [
#9 40.29         											"localhost"
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         										"handler": "static_response",
#9 40.29         										"body": "Hello, World!"
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"terminal": true
#9 40.29         							}
#9 40.29         						],
#9 40.29         						"automatic_https": {
#9 40.29         							"skip": [
#9 40.29         								"localhost"
#9 40.29         							]
#9 40.29         						}
#9 40.29         					},
#9 40.29         					"srv1": {
#9 40.29         						"listen": [
#9 40.29         							":9080"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"host": [
#9 40.29         											"localhost"
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         	
#9 40.29         										"handler": "reverse_proxy",
#9 40.29         										"upstreams": [
#9 40.29         											{
#9 40.29         												"dial": "tcp/{http.request.header.X-Caddy-Upstream-Dial}:18080"
#9 40.29         											}
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"terminal": true
#9 40.29         							}
#9 40.29         						],
#9 40.29         						"automatic_https": {
#9 40.29         							"skip": [
#9 40.29         								"localhost"
#9 40.29         							]
#9 40.29         						}
#9 40.29         					}
#9 40.29         				}
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"servers":{"srv0":{"automatic_https":{"skip":["localhost"]},"listen":[":18080"],"routes":[{"handle":[{"body":"Hello, World!","handler":"static_response"}],"match":[{"host":["localhost"]}],"terminal":true}]},"srv1":{"automatic_https":{"skip":["localhost"]},"listen":[":9080"],"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"tcp/{http.request.header.X-Caddy-Upstream-Dial}:18080"}]}],"match":[{"host":["localhost"]}],"terminal":true}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}}}}
#9 40.29 {"level":"info","ts":1752538269.0263457,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52846","headers":{"Accept-Encoding":["gzip"],"Content-Length":["597"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0269077,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"info","ts":1752538269.0270548,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538269.0270875,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":18080"}
#9 40.29 {"level":"warn","ts":1752538269.0270913,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":18080"}
#9 40.29 {"level":"info","ts":1752538269.0270927,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538269.027106,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.0271094,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.0271106,"logger":"http.log","msg":"server running","name":"srv1","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.0271244,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538269.0272617,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.0272746,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.0273383,"msg":"caddytest: config load time took 2.454814ms"}
#9 40.29 {"level":"info","ts":1752538269.0276792,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52858","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.027857,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538269.028074,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestReverseProxyWithPlaceholderTCPDialAddress (0.00s)
#9 40.29 === RUN   TestReverseProxyHealthCheck
#9 40.29 {"level":"info","ts":1752538269.0285273,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52858","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0288186,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52872","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0291843,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52878","headers":{"Accept-Encoding":["gzip"],"Content-Length":["410"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.0301225,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538269.0302057,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv2","http_port":9080}
#9 40.29 {"level":"info","ts":1752538269.0303652,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538269.0304017,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":2020"}
#9 40.29 {"level":"warn","ts":1752538269.0304055,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":2020"}
#9 40.29 {"level":"info","ts":1752538269.0304072,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538269.0304253,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":2021"}
#9 40.29 {"level":"warn","ts":1752538269.0304286,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":2021"}
#9 40.29 {"level":"info","ts":1752538269.0304308,"logger":"http.log","msg":"server running","name":"srv1","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538269.0304482,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.0304556,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.0304573,"logger":"http.log","msg":"server running","name":"srv2","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.0304768,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538269.0306213,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.0306277,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.0306792,"msg":"caddytest: config load time took 1.765884ms"}
#9 40.29 {"level":"info","ts":1752538269.031333,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538269.031361,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52886","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.132118,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestReverseProxyHealthCheck (0.10s)
#9 40.29 === RUN   TestReverseProxyHealthCheckUnixSocket
#9 40.29 {"level":"info","ts":1752538269.1332686,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52886","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1336246,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52894","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1343837,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52896","headers":{"Accept-Encoding":["gzip"],"Content-Length":["282"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.135276,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538269.135344,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"warn","ts":1752538269.1355011,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.1355052,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.1355066,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.1355124,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"error","ts":1752538269.13551,"logger":"http.handlers.reverse_proxy.health_checker.active","msg":"active health check failed","address":"/tmp/1555632108.sock:2021","error":"making request: parse \"http://%2Ftmp%2F1555632108.sock:2021/health\": invalid URL escape \"%2F\""}
#9 40.29 {"level":"info","ts":1752538269.1355448,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538269.1357617,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.1357746,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.1358364,"msg":"caddytest: config load time took 2.056108ms"}
#9 40.29 {"level":"info","ts":1752538269.1365209,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538269.1365778,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52910","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1368225,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 --- PASS: TestReverseProxyHealthCheckUnixSocket (0.00s)
#9 40.29 === RUN   TestReverseProxyHealthCheckUnixSocketWithoutPort
#9 40.29 {"level":"info","ts":1752538269.1375096,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52910","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.13789,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52916","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1383297,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52932","headers":{"Accept-Encoding":["gzip"],"Content-Length":["262"],"Content-Type":["text/caddyfile"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1391156,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 40.29 {"level":"warn","ts":1752538269.1391704,"logger":"http.auto_https","msg":"server is listening only on the HTTP port, so no automatic HTTPS will be applied to this server","server_name":"srv0","http_port":9080}
#9 40.29 {"level":"info","ts":1752538269.1392734,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538269.1393137,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.139318,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.13932,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.1393373,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538269.1394544,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.1394644,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.139509,"msg":"caddytest: config load time took 1.458254ms"}
#9 40.29 {"level":"info","ts":1752538269.1400723,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52948","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1402853,"msg":"caddytest: redirecting the dialer from localhost:9080 to 127.0.0.1:9080"}
#9 40.29 {"level":"info","ts":1752538269.1403613,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestReverseProxyHealthCheckUnixSocketWithoutPort (0.00s)
#9 40.29 === RUN   TestDefaultSNI
#9 40.29 {"level":"info","ts":1752538269.1408107,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52948","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1412053,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52962","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before: {
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"http": {
#9 40.29         				"http_port": 9080,
#9 40.29         				"https_port": 9443,
#9 40.29         				"grace_period": 1,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":9443"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         										"handler": "subroute",
#9 40.29         										"routes": [
#9 40.29         											{
#9 40.29         												"handle": [
#9 40.29         													{
#9 40.29         														"body": "hello from a.caddy.localhost",
#9 40.29         														"handler": "static_response",
#9 40.29         														"status_code": 200
#9 40.29         													}
#9 40.29         												],
#9 40.29         												"match": [
#9 40.29         													{
#9 40.29         														"path": [
#9 40.29         															"/version"
#9 40.29         														]
#9 40.29         													}
#9 40.29         												]
#9 40.29         											}
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"host": [
#9 40.29         											"127.0.0.1"
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"terminal": true
#9 40.29         							}
#9 40.29         						],
#9 40.29         						"tls_connection_policies": [
#9 40.29         							{
#9 40.29         								"certificate_selection": {
#9 40.29         									"any_tag": ["cert0"]
#9 40.29         								},
#9 40.29         								"match": {
#9 40.29         									"sni": [
#9 40.29         										"127.0.0.1"
#9 40.29         									]
#9 40.29         								}
#9 40.29         							},
#9 40.29         							{
#9 40.29         								"default_sni": "*.caddy.localhost"
#9 40.29         							}
#9 40.29         						]
#9 40.29         					}
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"tls": {
#9 40.29         				"certificates": {
#9 40.29         					"load_files": [
#9 40.29         						{
#9 40.29         							"certificate": "/testbed/caddytest/caddy.localhost.crt",
#9 40.29         							"key": "/testbed/caddytest/caddy.localhost.key",
#9 40.29         							"tags": [
#9 40.29         								"cert0"
#9 40.29         							]
#9 40.29         						}
#9 40.29         					]
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"pki": {
#9 40.29         				"certificate_authorities" : {
#9 40.29         					"local" : {
#9 40.29         						"install_trust": false
#9 40.29         					}
#9 40.29         				}
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"http_port":9080,"https_port":9443,"servers":{"srv0":{"listen":[":9443"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"body":"hello from a.caddy.localhost","handler":"static_response","status_code":200}],"match":[{"path":["/version"]}]}]}],"match":[{"host":["127.0.0.1"]}],"terminal":true}],"tls_connection_policies":[{"certificate_selection":{"any_tag":["cert0"]},"match":{"sni":["127.0.0.1"]}},{"default_sni":"*.caddy.localhost"}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}},"tls":{"certificates":{"load_files":[{"certificate":"/testbed/caddytest/caddy.localhost.crt","key":"/testbed/caddytest/caddy.localhost.key","tags":["cert0"]}]}}}}
#9 40.29 {"level":"info","ts":1752538269.141681,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"52976","headers":{"Accept-Encoding":["gzip"],"Content-Length":["756"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1422498,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538269.1438608,"logger":"tls","msg":"stapling OCSP","error":"no OCSP stapling for [*.caddy.localhost]: no OCSP server specified in certificate"}
#9 40.29 {"level":"info","ts":1752538269.143902,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538269.1439989,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538269.144042,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538269.1440494,"msg":"quic listener tls configs are more than 2","number of configs":13}
#9 40.29 {"level":"info","ts":1752538269.1440532,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538269.1440678,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.144071,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.1440725,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.144074,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["127.0.0.1"]}
#9 40.29 {"level":"info","ts":1752538269.1441286,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"info","ts":1752538269.14428,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.144289,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.1443386,"msg":"caddytest: config load time took 2.905883ms"}
#9 40.29 {"level":"info","ts":1752538269.1446493,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52986","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1448278,"msg":"caddytest: redirecting the dialer from 127.0.0.1:9443 to 127.0.0.1:9443"}
#9 40.29 {"level":"info","ts":1752538269.1467328,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestDefaultSNI (0.01s)
#9 40.29 === RUN   TestDefaultSNIWithNamedHostAndExplicitIP
#9 40.29 {"level":"info","ts":1752538269.14711,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52986","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.147478,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"52990","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before:  
#9 40.29         	{
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"http": {
#9 40.29         				"http_port": 9080,
#9 40.29         				"https_port": 9443,
#9 40.29         				"grace_period": 1,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":9443"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         										"handler": "subroute",
#9 40.29         										"routes": [
#9 40.29         											{
#9 40.29         												"handle": [
#9 40.29         													{
#9 40.29         														"body": "hello from a",
#9 40.29         														"handler": "static_response",
#9 40.29         														"status_code": 200
#9 40.29         													}
#9 40.29         												],
#9 40.29         												"match": [
#9 40.29         													{
#9 40.29         														"path": [
#9 40.29         															"/version"
#9 40.29         														]
#9 40.29         													}
#9 40.29         												]
#9 40.29         											}
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"host": [
#9 40.29         											"a.caddy.localhost",
#9 40.29         											"127.0.0.1"
#9 40.29         										]
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"terminal": true
#9 40.29         							}
#9 40.29         						],
#9 40.29         						"tls_connection_policies": [
#9 40.29         							{
#9 40.29         								"certificate_selection": {
#9 40.29         									"any_tag": ["cert0"]
#9 40.29         								},
#9 40.29         								"default_sni": "a.caddy.localhost",
#9 40.29         								"match": {
#9 40.29         									"sni": [
#9 40.29         										"a.caddy.localhost",
#9 40.29         										"127.0.0.1",
#9 40.29         										""
#9 40.29         									]
#9 40.29         								}
#9 40.29         							},
#9 40.29         							{
#9 40.29         								"default_sni": "a.caddy.localhost"
#9 40.29         							}
#9 40.29         						]
#9 40.29         					}
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"tls": {
#9 40.29         				"certificates": {
#9 40.29         					"load_files": [
#9 40.29         						{
#9 40.29         							"certificate": "/testbed/caddytest/a.caddy.localhost.crt",
#9 40.29         							"key": "/testbed/caddytest/a.caddy.localhost.key",
#9 40.29         							"tags": [
#9 40.29         								"cert0"
#9 40.29         							]
#9 40.29         						}
#9 40.29         					]
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"pki": {
#9 40.29         				"certificate_authorities" : {
#9 40.29         					"local" : {
#9 40.29         						"install_trust": false
#9 40.29         					}
#9 40.29         				}
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"http_port":9080,"https_port":9443,"servers":{"srv0":{"listen":[":9443"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"body":"hello from a","handler":"static_response","status_code":200}],"match":[{"path":["/version"]}]}]}],"match":[{"host":["a.caddy.localhost","127.0.0.1"]}],"terminal":true}],"tls_connection_policies":[{"certificate_selection":{"any_tag":["cert0"]},"default_sni":"a.caddy.localhost","match":{"sni":["a.caddy.localhost","127.0.0.1",""]}},{"default_sni":"a.caddy.localhost"}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}},"tls":{"certificates":{"load_files":[{"certificate":"/testbed/caddytest/a.caddy.localhost.crt","key":"/testbed/caddytest/a.caddy.localhost.key","tags":["cert0"]}]}}}}
#9 40.29 {"level":"info","ts":1752538269.1479564,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"53004","headers":{"Accept-Encoding":["gzip"],"Content-Length":["821"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1485693,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//127.0.0.1:2999","//localhost:2999","//[::1]:2999"]}
#9 40.29 {"level":"info","ts":1752538269.1492455,"logger":"tls.obtain","msg":"acquiring lock","identifier":"127.0.0.1"}
#9 40.29 {"level":"warn","ts":1752538269.149828,"logger":"tls","msg":"stapling OCSP","error":"no OCSP stapling for [a.caddy.localhost]: no OCSP server specified in certificate"}
#9 40.29 {"level":"info","ts":1752538269.1498997,"logger":"http.auto_https","msg":"skipping automatic certificate management because one or more matching certificates are already loaded","domain":"a.caddy.localhost","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538269.1499054,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538269.1499894,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538269.1500356,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538269.1500423,"msg":"quic listener tls configs are more than 2","number of configs":14}
#9 40.29 {"level":"info","ts":1752538269.1500456,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538269.1500614,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.150065,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.1500669,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.1500695,"logger":"http","msg":"enabling automatic TLS certificate management","domains":["127.0.0.1"]}
#9 40.29 {"level":"info","ts":1752538269.1501076,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"error","ts":1752538269.1501682,"logger":"http","msg":"server shutdown","error":"context deadline exceeded","addresses":[":9443"]}
#9 40.29 {"level":"info","ts":1752538269.150265,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.1502745,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.1503513,"msg":"caddytest: config load time took 2.676208ms"}
#9 40.29 {"level":"info","ts":1752538269.1506894,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53014","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.150875,"msg":"caddytest: redirecting the dialer from 127.0.0.1:9443 to 127.0.0.1:9443"}
#9 40.29 {"level":"info","ts":1752538269.1522276,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"info","ts":1752538269.152398,"logger":"tls.obtain","msg":"lock acquired","identifier":"127.0.0.1"}
#9 40.29 {"level":"info","ts":1752538269.1524441,"logger":"tls.obtain","msg":"obtaining certificate","identifier":"127.0.0.1"}
#9 40.29 --- PASS: TestDefaultSNIWithNamedHostAndExplicitIP (0.01s)
#9 40.29 === RUN   TestDefaultSNIWithPortMappingOnly
#9 40.29 {"level":"info","ts":1752538269.1534429,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53014","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1541238,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53026","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before:  
#9 40.29         	{
#9 40.29         		"admin": {
#9 40.29         			"listen": "localhost:2999"
#9 40.29         		},
#9 40.29         		"apps": {
#9 40.29         			"http": {
#9 40.29         				"http_port": 9080,
#9 40.29         				"https_port": 9443,
#9 40.29         				"grace_period": 1,
#9 40.29         				"servers": {
#9 40.29         					"srv0": {
#9 40.29         						"listen": [
#9 40.29         							":9443"
#9 40.29         						],
#9 40.29         						"routes": [
#9 40.29         							{
#9 40.29         								"handle": [
#9 40.29         									{
#9 40.29         										"body": "hello from a.caddy.localhost",
#9 40.29         										"handler": "static_response",
#9 40.29         										"status_code": 200
#9 40.29         									}
#9 40.29         								],
#9 40.29         								"match": [
#9 40.29         									{
#9 40.29         										"path": [
#9 40.29         											"/version"
#9 40.29         										]
#9 40.29         									}
#9 40.29         								]
#9 40.29         							}
#9 40.29         						],
#9 40.29         						"tls_connection_policies": [
#9 40.29         							{
#9 40.29         								"certificate_selection": {
#9 40.29         									"any_tag": ["cert0"]
#9 40.29         								},
#9 40.29         								"default_sni": "a.caddy.localhost"
#9 40.29         							}
#9 40.29         						]
#9 40.29         					}
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"tls": {
#9 40.29         				"certificates": {
#9 40.29         					"load_files": [
#9 40.29         						{
#9 40.29         							"certificate": "/testbed/caddytest/a.caddy.localhost.crt",
#9 40.29         							"key": "/testbed/caddytest/a.caddy.localhost.key",
#9 40.29         							"tags": [
#9 40.29         								"cert0"
#9 40.29         							]
#9 40.29         						}
#9 40.29         					]
#9 40.29         				}
#9 40.29         			},
#9 40.29         			"pki": {
#9 40.29         				"certificate_authorities" : {
#9 40.29         					"local" : {
#9 40.29         						"install_trust": false
#9 40.29         					}
#9 40.29         				}
#9 40.29         			}
#9 40.29         		}
#9 40.29         	}
#9 40.29         	
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"http_port":9080,"https_port":9443,"servers":{"srv0":{"listen":[":9443"],"routes":[{"handle":[{"body":"hello from a.caddy.localhost","handler":"static_response","status_code":200}],"match":[{"path":["/version"]}]}],"tls_connection_policies":[{"certificate_selection":{"any_tag":["cert0"]},"default_sni":"a.caddy.localhost"}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}},"tls":{"certificates":{"load_files":[{"certificate":"/testbed/caddytest/a.caddy.localhost.crt","key":"/testbed/caddytest/a.caddy.localhost.key","tags":["cert0"]}]}}}}
#9 40.29 {"level":"info","ts":1752538269.1545706,"logger":"tls.obtain","msg":"acquiring lock","identifier":"127.0.0.1"}
#9 40.29 {"level":"info","ts":1752538269.1552348,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"53038","headers":{"Accept-Encoding":["gzip"],"Content-Length":["632"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1558342,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//[::1]:2999","//127.0.0.1:2999","//localhost:2999"]}
#9 40.29 {"level":"warn","ts":1752538269.1560938,"logger":"tls","msg":"stapling OCSP","error":"no OCSP stapling for [a.caddy.localhost]: no OCSP server specified in certificate"}
#9 40.29 {"level":"info","ts":1752538269.1561258,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538269.156171,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"info","ts":1752538269.156205,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538269.1562111,"msg":"quic listener tls configs are more than 2","number of configs":15}
#9 40.29 {"level":"info","ts":1752538269.1562145,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"warn","ts":1752538269.1562285,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.1562316,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.156233,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.1562436,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"error","ts":1752538269.1562898,"logger":"http","msg":"server shutdown","error":"context deadline exceeded","addresses":[":9443"]}
#9 40.29 {"level":"error","ts":1752538269.1562917,"logger":"tls","msg":"job failed","error":"127.0.0.1: obtaining certificate: unable to acquire lock 'issue_cert_127.0.0.1': context canceled"}
#9 40.29 {"level":"info","ts":1752538269.1570225,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.1570299,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.1570988,"msg":"caddytest: config load time took 2.559064ms"}
#9 40.29 {"level":"info","ts":1752538269.1574297,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53042","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1576047,"msg":"caddytest: redirecting the dialer from 127.0.0.1:9443 to 127.0.0.1:9443"}
#9 40.29 {"level":"info","ts":1752538269.1593633,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 --- PASS: TestDefaultSNIWithPortMappingOnly (0.01s)
#9 40.29 === RUN   TestHttpOnlyOnDomainWithSNI
#9 40.29     caddytest.go:436: warning: Caddyfile:1: : Caddyfile input is not formatted; run 'caddy fmt --overwrite' to fix inconsistencies
#9 40.29 --- PASS: TestHttpOnlyOnDomainWithSNI (0.00s)
#9 40.29 === RUN   TestH2ToH2CStream
#9 40.29 {"level":"info","ts":1752538269.1600053,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53042","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1603546,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53054","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before:  
#9 40.29           {
#9 40.29         	"admin": {
#9 40.29         		"listen": "localhost:2999"
#9 40.29         	},
#9 40.29             "apps": {
#9 40.29               "http": {
#9 40.29                 "http_port": 9080,
#9 40.29                 "https_port": 9443,
#9 40.29         		"grace_period": 1,
#9 40.29                 "servers": {
#9 40.29                   "srv0": {
#9 40.29                     "listen": [
#9 40.29                       ":9443"
#9 40.29                     ],
#9 40.29                     "routes": [
#9 40.29                       {
#9 40.29                         "handle": [
#9 40.29                           {
#9 40.29                             "handler": "reverse_proxy",
#9 40.29                             "transport": {
#9 40.29                               "protocol": "http",
#9 40.29                               "compression": false,
#9 40.29                               "versions": [
#9 40.29                                 "h2c",
#9 40.29                                 "2"
#9 40.29                               ]
#9 40.29                             },
#9 40.29                             "upstreams": [
#9 40.29                               {
#9 40.29                                 "dial": "localhost:54321"
#9 40.29                               }
#9 40.29                             ]
#9 40.29                           }
#9 40.29                         ],
#9 40.29                         "match": [
#9 40.29                           {
#9 40.29                             "path": [
#9 40.29                               "/tov2ray"
#9 40.29                             ]
#9 40.29                           }
#9 40.29                         ]
#9 40.29                       }
#9 40.29                     ],
#9 40.29                     "tls_connection_policies": [
#9 40.29                       {
#9 40.29                         "certificate_selection": {
#9 40.29                           "any_tag": ["cert0"]
#9 40.29                         },
#9 40.29                         "default_sni": "a.caddy.localhost"
#9 40.29                       }
#9 40.29                     ]
#9 40.29                   }
#9 40.29                 }
#9 40.29               },
#9 40.29               "tls": {
#9 40.29                 "certificates": {
#9 40.29                   "load_files": [
#9 40.29                     {
#9 40.29                       "certificate": "/testbed/caddytest/a.caddy.localhost.crt",
#9 40.29                       "key": "/testbed/caddytest/a.caddy.localhost.key",
#9 40.29                       "tags": [
#9 40.29                         "cert0"
#9 40.29                       ]
#9 40.29                     }
#9 40.29                   ]
#9 40.29                 }
#9 40.29               },
#9 40.29               "pki": {
#9 40.29                 "certificate_authorities" : {
#9 40.29                   "local" : {
#9 40.29                     "install_trust": false
#9 40.29                   }
#9 40.29                 }
#9 40.29               }
#9 40.29             }
#9 40.29           }
#9 40.29           
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"http_port":9080,"https_port":9443,"servers":{"srv0":{"listen":[":9443"],"routes":[{"handle":[{"handler":"reverse_proxy","transport":{"compression":false,"protocol":"http","versions":["h2c","2"]},"upstreams":[{"dial":"localhost:54321"}]}],"match":[{"path":["/tov2ray"]}]}],"tls_connection_policies":[{"certificate_selection":{"any_tag":["cert0"]},"default_sni":"a.caddy.localhost"}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}},"tls":{"certificates":{"load_files":[{"certificate":"/testbed/caddytest/a.caddy.localhost.crt","key":"/testbed/caddytest/a.caddy.localhost.key","tags":["cert0"]}]}}}}
#9 40.29 {"level":"info","ts":1752538269.1608,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"53058","headers":{"Accept-Encoding":["gzip"],"Content-Length":["690"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1613631,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538269.1615725,"logger":"tls","msg":"stapling OCSP","error":"no OCSP stapling for [a.caddy.localhost]: no OCSP server specified in certificate"}
#9 40.29 {"level":"info","ts":1752538269.1616251,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"info","ts":1752538269.161702,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"warn","ts":1752538269.1617386,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.1617413,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.1617434,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.161783,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538269.1617892,"msg":"quic listener tls configs are more than 2","number of configs":16}
#9 40.29 {"level":"info","ts":1752538269.1618142,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.16183,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"error","ts":1752538269.1618657,"logger":"http","msg":"server shutdown","error":"context deadline exceeded","addresses":[":9443"]}
#9 40.29 {"level":"info","ts":1752538269.1632645,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.1632748,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.1633503,"msg":"caddytest: config load time took 2.811359ms"}
#9 40.29 {"level":"info","ts":1752538269.1636732,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53066","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1638532,"msg":"caddytest: redirecting the dialer from 127.0.0.1:9443 to 127.0.0.1:9443"}
#9 40.29 {"level":"info","ts":1752538269.1640713,"logger":"tls.obtain","msg":"certificate obtained successfully","identifier":"127.0.0.1","issuer":"local"}
#9 40.29 {"level":"info","ts":1752538269.1641283,"logger":"tls.obtain","msg":"releasing lock","identifier":"127.0.0.1"}
#9 40.29 {"level":"info","ts":1752538269.1651819,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29     stream_test.go:158: h2c server received req: PUT /tov2ray HTTP/2.0
#9 40.29         Host: 127.0.0.1:9443
#9 40.29         Accept-Encoding: identity
#9 40.29         User-Agent: Go-http-client/2.0
#9 40.29         Via: 2.0 Caddy
#9 40.29         X-Forwarded-For: 127.0.0.1
#9 40.29         X-Forwarded-Host: 127.0.0.1:9443
#9 40.29         X-Forwarded-Proto: https
#9 40.29         
#9 40.29 --- PASS: TestH2ToH2CStream (0.01s)
#9 40.29 === RUN   TestH2ToH1ChunkedResponse
#9 40.29 {"level":"info","ts":1752538269.1668098,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53066","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1671677,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53078","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29     caddytest.go:162: Before:  
#9 40.29         {
#9 40.29         	"admin": {
#9 40.29         		"listen": "localhost:2999"
#9 40.29         	},
#9 40.29           "logging": {
#9 40.29             "logs": {
#9 40.29               "default": {
#9 40.29                 "level": "DEBUG"
#9 40.29               }
#9 40.29             }
#9 40.29           },
#9 40.29           "apps": {
#9 40.29             "http": {
#9 40.29               "http_port": 9080,
#9 40.29               "https_port": 9443,
#9 40.29         	  "grace_period": 1,
#9 40.29               "servers": {
#9 40.29                 "srv0": {
#9 40.29                   "listen": [
#9 40.29                     ":9443"
#9 40.29                   ],
#9 40.29                   "routes": [
#9 40.29                     {
#9 40.29                       "handle": [
#9 40.29                         {
#9 40.29                           "handler": "subroute",
#9 40.29                           "routes": [
#9 40.29                             {
#9 40.29                               "handle": [
#9 40.29                                 {
#9 40.29                                   "encodings": {
#9 40.29                                     "gzip": {}
#9 40.29                                   },
#9 40.29                                   "handler": "encode"
#9 40.29                                 }
#9 40.29                               ]
#9 40.29                             },
#9 40.29                             {
#9 40.29                               "handle": [
#9 40.29                                 {
#9 40.29                                   "handler": "reverse_proxy",
#9 40.29                                   "upstreams": [
#9 40.29                                     {
#9 40.29                                       "dial": "localhost:54321"
#9 40.29                                     }
#9 40.29                                   ]
#9 40.29                                 }
#9 40.29                               ],
#9 40.29                               "match": [
#9 40.29                                 {
#9 40.29                                   "path": [
#9 40.29                                     "/tov2ray"
#9 40.29                                   ]
#9 40.29                                 }
#9 40.29                               ]
#9 40.29                             }
#9 40.29                           ]
#9 40.29                         }
#9 40.29                       ],
#9 40.29                       "terminal": true
#9 40.29                     }
#9 40.29                   ],
#9 40.29                   "tls_connection_policies": [
#9 40.29                     {
#9 40.29                       "certificate_selection": {
#9 40.29                         "any_tag": [
#9 40.29                           "cert0"
#9 40.29                         ]
#9 40.29                       },
#9 40.29                       "default_sni": "a.caddy.localhost"
#9 40.29                     }
#9 40.29                   ]
#9 40.29                 }
#9 40.29               }
#9 40.29             },
#9 40.29             "tls": {
#9 40.29               "certificates": {
#9 40.29                 "load_files": [
#9 40.29                   {
#9 40.29                     "certificate": "/testbed/caddytest/a.caddy.localhost.crt",
#9 40.29                     "key": "/testbed/caddytest/a.caddy.localhost.key",
#9 40.29                     "tags": [
#9 40.29                       "cert0"
#9 40.29                     ]
#9 40.29                   }
#9 40.29                 ]
#9 40.29               }
#9 40.29             },
#9 40.29             "pki": {
#9 40.29               "certificate_authorities": {
#9 40.29                 "local": {
#9 40.29                   "install_trust": false
#9 40.29                 }
#9 40.29               }
#9 40.29             }
#9 40.29           }
#9 40.29         }
#9 40.29           
#9 40.29     caddytest.go:172: After: {"admin":{"listen":"localhost:2999"},"apps":{"http":{"grace_period":1,"http_port":9080,"https_port":9443,"servers":{"srv0":{"listen":[":9443"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"encodings":{"gzip":{}},"handler":"encode"}]},{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"localhost:54321"}]}],"match":[{"path":["/tov2ray"]}]}]}],"terminal":true}],"tls_connection_policies":[{"certificate_selection":{"any_tag":["cert0"]},"default_sni":"a.caddy.localhost"}]}}},"pki":{"certificate_authorities":{"local":{"install_trust":false}}},"tls":{"certificates":{"load_files":[{"certificate":"/testbed/caddytest/a.caddy.localhost.crt","key":"/testbed/caddytest/a.caddy.localhost.key","tags":["cert0"]}]}}},"logging":{"logs":{"default":{"level":"DEBUG"}}}}
#9 40.29 {"level":"info","ts":1752538269.1676583,"logger":"admin.api","msg":"received request","method":"POST","host":"localhost:2999","uri":"/load","remote_ip":"127.0.0.1","remote_port":"53088","headers":{"Accept-Encoding":["gzip"],"Content-Length":["785"],"Content-Type":["application/json"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.168244,"logger":"admin","msg":"admin endpoint started","address":"localhost:2999","enforce_origin":false,"origins":["//localhost:2999","//[::1]:2999","//127.0.0.1:2999"]}
#9 40.29 {"level":"warn","ts":1752538269.1684551,"logger":"tls","msg":"stapling OCSP","error":"no OCSP stapling for [a.caddy.localhost]: no OCSP server specified in certificate"}
#9 40.29 {"level":"debug","ts":1752538269.1684678,"logger":"events","msg":"event","name":"cached_unmanaged_cert","id":"99baffd8-a6ec-456d-b4d9-70a2bf88f4b0","origin":"tls","data":{"sans":["a.caddy.localhost"]}}
#9 40.29 {"level":"info","ts":1752538269.1685107,"logger":"http.auto_https","msg":"enabling automatic HTTP->HTTPS redirects","server_name":"srv0"}
#9 40.29 {"level":"debug","ts":1752538269.1685238,"logger":"http.auto_https","msg":"adjusted config","tls":{"automation":{"policies":[{}]}},"http":{"http_port":9080,"https_port":9443,"grace_period":1,"servers":{"remaining_auto_https_redirects":{"listen":[":9080"],"routes":[{},{}]},"srv0":{"listen":[":9443"],"routes":[{"handle":[{"handler":"subroute","routes":[{"handle":[{"encodings":{"gzip":{}},"handler":"encode"}]},{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"localhost:54321"}]}],"match":[{"path":["/tov2ray"]}]}]}],"terminal":true}],"tls_connection_policies":[{"certificate_selection":{"any_tag":["cert0"]},"default_sni":"a.caddy.localhost"}],"automatic_https":{}}}}}
#9 40.29 {"level":"debug","ts":1752538269.1686618,"logger":"http","msg":"starting server loop","address":"[::]:9443","tls":true,"http3":false}
#9 40.29 {"level":"info","ts":1752538269.1686656,"logger":"http","msg":"enabling HTTP/3 listener","addr":":9443"}
#9 40.29 {"level":"warn","ts":1752538269.1686692,"msg":"quic listener tls configs are more than 2","number of configs":17}
#9 40.29 {"level":"info","ts":1752538269.168672,"logger":"http.log","msg":"server running","name":"srv0","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"debug","ts":1752538269.1686866,"logger":"http","msg":"starting server loop","address":"[::]:9080","tls":false,"http3":false}
#9 40.29 {"level":"warn","ts":1752538269.1686895,"logger":"http","msg":"HTTP/2 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"warn","ts":1752538269.168691,"logger":"http","msg":"HTTP/3 skipped because it requires TLS","network":"tcp","addr":":9080"}
#9 40.29 {"level":"info","ts":1752538269.1686919,"logger":"http.log","msg":"server running","name":"remaining_auto_https_redirects","protocols":["h1","h2","h3"]}
#9 40.29 {"level":"info","ts":1752538269.168694,"logger":"pki.ca.local","msg":"root certificate trust store installation disabled; unconfigured clients may show warnings","path":"storage:pki/authorities/local/root.crt"}
#9 40.29 {"level":"debug","ts":1752538269.168702,"logger":"events","msg":"event","name":"started","id":"e1cd1160-a54b-4f58-9e23-19d86c5f3a20","origin":"","data":null}
#9 40.29 {"level":"info","ts":1752538269.1687124,"logger":"http","msg":"servers shutting down; grace period initiated","duration":0.000000001}
#9 40.29 {"level":"error","ts":1752538269.168742,"logger":"http","msg":"server shutdown","error":"context deadline exceeded","addresses":[":9443"]}
#9 40.29 {"level":"info","ts":1752538269.1688182,"msg":"autosaved config (load with --resume flag)","file":"/root/.config/caddy/autosave.json"}
#9 40.29 {"level":"info","ts":1752538269.1688282,"logger":"admin.api","msg":"load complete"}
#9 40.29 {"level":"info","ts":1752538269.168884,"msg":"caddytest: config load time took 1.505339ms"}
#9 40.29 {"level":"info","ts":1752538269.1692429,"logger":"admin.api","msg":"received request","method":"GET","host":"localhost:2999","uri":"/config/","remote_ip":"127.0.0.1","remote_port":"53100","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}}
#9 40.29 {"level":"info","ts":1752538269.1694362,"msg":"caddytest: redirecting the dialer from 127.0.0.1:9443 to 127.0.0.1:9443"}
#9 40.29 {"level":"info","ts":1752538269.1694925,"logger":"admin","msg":"stopped previous server","address":"localhost:2999"}
#9 40.29 {"level":"debug","ts":1752538269.1698916,"logger":"events","msg":"event","name":"tls_get_certificate","id":"296cc29b-10d4-40e4-ad33-f5469681f041","origin":"tls","data":{"client_hello":{"CipherSuites":[49195,49199,49196,49200,52393,52392,49161,49171,49162,49172,4865,4866,4867],"ServerName":"","SupportedCurves":[4588,29,23,24,25],"SupportedPoints":"AA==","SignatureSchemes":[2052,1027,2055,2053,2054,1025,1281,1537,1283,1539,513,515],"SupportedProtos":["h2","http/1.1"],"SupportedVersions":[772,771],"RemoteAddr":{"IP":"127.0.0.1","Port":55442,"Zone":""},"LocalAddr":{"IP":"127.0.0.1","Port":9443,"Zone":""}}}}
#9 40.29 {"level":"debug","ts":1752538269.1699724,"logger":"tls.handshake","msg":"choosing certificate","identifier":"127.0.0.1","num_choices":1}
#9 40.29 {"level":"debug","ts":1752538269.1699784,"logger":"tls.handshake","msg":"custom certificate selection results","error":"no certificates matched custom selection policy","identifier":"127.0.0.1","subjects":[],"managed":false,"issuer_key":"","hash":""}
#9 40.29 {"level":"debug","ts":1752538269.169985,"logger":"tls.handshake","msg":"choosing certificate","identifier":"a.caddy.localhost","num_choices":1}
#9 40.29 {"level":"debug","ts":1752538269.1699882,"logger":"tls.handshake","msg":"custom certificate selection results","identifier":"a.caddy.localhost","subjects":["a.caddy.localhost"],"managed":false,"issuer_key":"","hash":"205fb33c3301100a987798c3f0831eecbecb8143dde9796d253e7a8c23722e67"}
#9 40.29 {"level":"debug","ts":1752538269.1699955,"logger":"tls.handshake","msg":"fell back to default certificate","remote_ip":"127.0.0.1","remote_port":"55442","subjects":["a.caddy.localhost"],"managed":false,"expiration":1899485418,"hash":"205fb33c3301100a987798c3f0831eecbecb8143dde9796d253e7a8c23722e67"}
#9 40.29 {"level":"debug","ts":1752538269.1714094,"logger":"http.handlers.reverse_proxy","msg":"selected upstream","dial":"localhost:54321","total_upstreams":1}
#9 40.29 {"level":"debug","ts":1752538269.1720908,"logger":"http.handlers.reverse_proxy","msg":"upstream roundtrip","upstream":"localhost:54321","duration":0.000660373,"request":{"remote_ip":"127.0.0.1","remote_port":"55442","client_ip":"127.0.0.1","proto":"HTTP/2.0","method":"PUT","host":"127.0.0.1:9443","uri":"/tov2ray","headers":{"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/2.0"],"X-Forwarded-For":["127.0.0.1"],"X-Forwarded-Proto":["https"],"X-Forwarded-Host":["127.0.0.1:9443"],"Via":["2.0 Caddy"]},"tls":{"resumed":false,"version":772,"cipher_suite":4865,"proto":"h2","server_name":""}},"headers":{"Content-Encoding":["gzip"],"Date":["Tue, 15 Jul 2025 00:11:09 GMT"],"Content-Length":["816"]},"status":200}
#9 40.29 --- PASS: TestH2ToH1ChunkedResponse (0.01s)
#9 40.29 FAIL
#9 40.29 FAIL	github.com/caddyserver/caddy/v2/caddytest/integration	8.942s
#9 40.29 === RUN   TestCommandsAreAvailable
#9 40.29 --- PASS: TestCommandsAreAvailable (0.00s)
#9 40.29 === RUN   TestParseEnvFile
#9 40.29 --- PASS: TestParseEnvFile (0.00s)
#9 40.29 === RUN   Test_isCaddyfile
#9 40.29 === RUN   Test_isCaddyfile/bare_Caddyfile_without_adapter
#9 40.29 === RUN   Test_isCaddyfile/local_Caddyfile_without_adapter
#9 40.29 === RUN   Test_isCaddyfile/local_caddyfile_with_adapter
#9 40.29 === RUN   Test_isCaddyfile/ends_with_.caddyfile_with_adapter
#9 40.29 === RUN   Test_isCaddyfile/ends_with_.caddyfile_without_adapter
#9 40.29 === RUN   Test_isCaddyfile/config_is_Caddyfile.yaml_with_adapter
#9 40.29 === RUN   Test_isCaddyfile/json_is_not_caddyfile_but_not_error
#9 40.29 === RUN   Test_isCaddyfile/prefix_of_Caddyfile_and_./_with_any_extension_is_Caddyfile
#9 40.29 === RUN   Test_isCaddyfile/prefix_of_Caddyfile_without_./_with_any_extension_is_Caddyfile
#9 40.29 --- PASS: Test_isCaddyfile (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/bare_Caddyfile_without_adapter (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/local_Caddyfile_without_adapter (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/local_caddyfile_with_adapter (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/ends_with_.caddyfile_with_adapter (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/ends_with_.caddyfile_without_adapter (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/config_is_Caddyfile.yaml_with_adapter (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/json_is_not_caddyfile_but_not_error (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/prefix_of_Caddyfile_and_./_with_any_extension_is_Caddyfile (0.00s)
#9 40.29     --- PASS: Test_isCaddyfile/prefix_of_Caddyfile_without_./_with_any_extension_is_Caddyfile (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/cmd	0.017s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/cmd/caddy	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/internal	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/internal/filesystems	[no test files]
#9 40.29 === RUN   TestSanitizeMethod
#9 40.29 --- PASS: TestSanitizeMethod (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/internal/metrics	0.003s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/internal/testmocks	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyevents	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyevents/eventsconfig	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyfs	[no test files]
#9 40.29 === RUN   TestSanitizedPathJoin
#9 40.29 --- PASS: TestSanitizedPathJoin (0.00s)
#9 40.29 === RUN   TestCleanPath
#9 40.29 --- PASS: TestCleanPath (0.00s)
#9 40.29 === RUN   TestMatchExpressionMatch
#9 40.29 === RUN   TestMatchExpressionMatch/boolean_matches_succeed_for_placeholder_http.request.tls.client.subject
#9 40.29 === RUN   TestMatchExpressionMatch/header_matches_(MatchHeader)
#9 40.29 === RUN   TestMatchExpressionMatch/header_matches_an_escaped_placeholder_value_(MatchHeader)
#9 40.29 === RUN   TestMatchExpressionMatch/header_matches_an_placeholder_replaced_during_the_header_matcher_(MatchHeader)
#9 40.29 === RUN   TestMatchExpressionMatch/header_error,_invalid_escape_sequence_(MatchHeader)
#9 40.29 === RUN   TestMatchExpressionMatch/header_error,_needs_to_be_JSON_syntax_with_field_as_key_(MatchHeader)
#9 40.29 === RUN   TestMatchExpressionMatch/header_regexp_matches_(MatchHeaderRE)
#9 40.29 === RUN   TestMatchExpressionMatch/header_regexp_matches_with_name_(MatchHeaderRE)
#9 40.29 === RUN   TestMatchExpressionMatch/header_regexp_does_not_match_(MatchHeaderRE)
#9 40.29 === RUN   TestMatchExpressionMatch/header_regexp_error_(MatchHeaderRE)
#9 40.29 === RUN   TestMatchExpressionMatch/host_matches_localhost_(MatchHost)
#9 40.29 === RUN   TestMatchExpressionMatch/host_matches_(MatchHost)
#9 40.29 === RUN   TestMatchExpressionMatch/host_does_not_match_(MatchHost)
#9 40.29 === RUN   TestMatchExpressionMatch/host_error_(MatchHost)
#9 40.29 === RUN   TestMatchExpressionMatch/method_does_not_match_(MatchMethod)
#9 40.29 === RUN   TestMatchExpressionMatch/method_matches_(MatchMethod)
#9 40.29 === RUN   TestMatchExpressionMatch/method_error_not_enough_arguments_(MatchMethod)
#9 40.29 === RUN   TestMatchExpressionMatch/path_matches_substring_(MatchPath)
#9 40.29 === RUN   TestMatchExpressionMatch/path_does_not_match_(MatchPath)
#9 40.29 === RUN   TestMatchExpressionMatch/path_matches_end_url_fragment_(MatchPath)
#9 40.29 === RUN   TestMatchExpressionMatch/path_matches_end_fragment_with_substring_prefix_(MatchPath)
#9 40.29 === RUN   TestMatchExpressionMatch/path_matches_one_of_multiple_(MatchPath)
#9 40.29 === RUN   TestMatchExpressionMatch/path_regexp_with_empty_regex_matches_empty_path_(MatchPathRE)
#9 40.29 === RUN   TestMatchExpressionMatch/path_regexp_with_slash_regex_matches_empty_path_(MatchPathRE)
#9 40.29 === RUN   TestMatchExpressionMatch/path_regexp_matches_end_url_fragment_(MatchPathRE)
#9 40.29 === RUN   TestMatchExpressionMatch/path_regexp_does_not_match_fragment_at_end_(MatchPathRE)
#9 40.29 === RUN   TestMatchExpressionMatch/protocol_matches_(MatchProtocol)
#9 40.29 === RUN   TestMatchExpressionMatch/protocol_does_not_match_(MatchProtocol)
#9 40.29 === RUN   TestMatchExpressionMatch/protocol_invocation_error_no_args_(MatchProtocol)
#9 40.29 === RUN   TestMatchExpressionMatch/protocol_invocation_error_too_many_args_(MatchProtocol)
#9 40.29 === RUN   TestMatchExpressionMatch/protocol_invocation_error_wrong_arg_type_(MatchProtocol)
#9 40.29 === RUN   TestMatchExpressionMatch/query_does_not_match_against_a_specific_value_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/query_matches_against_a_specific_value_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/query_matches_against_multiple_values_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/query_matches_against_a_wildcard_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/query_matches_against_a_placeholder_value_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/query_error_bad_map_key_type_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/query_error_typed_struct_instead_of_map_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/query_error_bad_map_value_type_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/query_error_no_args_(MatchQuery)
#9 40.29 === RUN   TestMatchExpressionMatch/remote_ip_error_no_args_(MatchRemoteIP)
#9 40.29 === RUN   TestMatchExpressionMatch/remote_ip_single_IP_match_(MatchRemoteIP)
#9 40.29 === RUN   TestMatchExpressionMatch/vars_value_(VarsMatcher)
#9 40.29 === RUN   TestMatchExpressionMatch/vars_matches_placeholder,_needs_escape_(VarsMatcher)
#9 40.29 === RUN   TestMatchExpressionMatch/vars_error_wrong_syntax_(VarsMatcher)
#9 40.29 === RUN   TestMatchExpressionMatch/vars_error_no_args_(VarsMatcher)
#9 40.29 === RUN   TestMatchExpressionMatch/vars_regexp_value_(MatchVarsRE)
#9 40.29 === RUN   TestMatchExpressionMatch/vars_regexp_value_with_name_(MatchVarsRE)
#9 40.29 === RUN   TestMatchExpressionMatch/vars_regexp_matches_placeholder,_needs_escape_(MatchVarsRE)
#9 40.29 === RUN   TestMatchExpressionMatch/vars_regexp_error_no_args_(MatchVarsRE)
#9 40.29 --- PASS: TestMatchExpressionMatch (0.03s)
#9 40.29     --- PASS: TestMatchExpressionMatch/boolean_matches_succeed_for_placeholder_http.request.tls.client.subject (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_matches_(MatchHeader) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_matches_an_escaped_placeholder_value_(MatchHeader) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_matches_an_placeholder_replaced_during_the_header_matcher_(MatchHeader) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_error,_invalid_escape_sequence_(MatchHeader) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_error,_needs_to_be_JSON_syntax_with_field_as_key_(MatchHeader) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_regexp_matches_(MatchHeaderRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_regexp_matches_with_name_(MatchHeaderRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_regexp_does_not_match_(MatchHeaderRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/header_regexp_error_(MatchHeaderRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/host_matches_localhost_(MatchHost) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/host_matches_(MatchHost) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/host_does_not_match_(MatchHost) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/host_error_(MatchHost) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/method_does_not_match_(MatchMethod) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/method_matches_(MatchMethod) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/method_error_not_enough_arguments_(MatchMethod) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_matches_substring_(MatchPath) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_does_not_match_(MatchPath) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_matches_end_url_fragment_(MatchPath) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_matches_end_fragment_with_substring_prefix_(MatchPath) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_matches_one_of_multiple_(MatchPath) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_regexp_with_empty_regex_matches_empty_path_(MatchPathRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_regexp_with_slash_regex_matches_empty_path_(MatchPathRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_regexp_matches_end_url_fragment_(MatchPathRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/path_regexp_does_not_match_fragment_at_end_(MatchPathRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/protocol_matches_(MatchProtocol) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/protocol_does_not_match_(MatchProtocol) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/protocol_invocation_error_no_args_(MatchProtocol) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/protocol_invocation_error_too_many_args_(MatchProtocol) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/protocol_invocation_error_wrong_arg_type_(MatchProtocol) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_does_not_match_against_a_specific_value_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_matches_against_a_specific_value_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_matches_against_multiple_values_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_matches_against_a_wildcard_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_matches_against_a_placeholder_value_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_error_bad_map_key_type_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_error_typed_struct_instead_of_map_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_error_bad_map_value_type_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/query_error_no_args_(MatchQuery) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/remote_ip_error_no_args_(MatchRemoteIP) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/remote_ip_single_IP_match_(MatchRemoteIP) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/vars_value_(VarsMatcher) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/vars_matches_placeholder,_needs_escape_(VarsMatcher) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/vars_error_wrong_syntax_(VarsMatcher) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/vars_error_no_args_(VarsMatcher) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/vars_regexp_value_(MatchVarsRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/vars_regexp_value_with_name_(MatchVarsRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/vars_regexp_matches_placeholder,_needs_escape_(MatchVarsRE) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/vars_regexp_error_no_args_(MatchVarsRE) (0.00s)
#9 40.29 === RUN   TestMatchExpressionProvision
#9 40.29 === RUN   TestMatchExpressionProvision/boolean_matches_succeed
#9 40.29 === RUN   TestMatchExpressionProvision/reject_expressions_with_non-boolean_results
#9 40.29 --- PASS: TestMatchExpressionProvision (0.00s)
#9 40.29     --- PASS: TestMatchExpressionProvision/boolean_matches_succeed (0.00s)
#9 40.29     --- PASS: TestMatchExpressionProvision/reject_expressions_with_non-boolean_results (0.00s)
#9 40.29 === RUN   TestHostMatcher
#9 40.29 --- PASS: TestHostMatcher (0.00s)
#9 40.29 === RUN   TestPathMatcher
#9 40.29 --- PASS: TestPathMatcher (0.00s)
#9 40.29 === RUN   TestPathMatcherWindows
#9 40.29 --- PASS: TestPathMatcherWindows (0.00s)
#9 40.29 === RUN   TestPathREMatcher
#9 40.29 --- PASS: TestPathREMatcher (0.00s)
#9 40.29 === RUN   TestHeaderMatcher
#9 40.29 --- PASS: TestHeaderMatcher (0.00s)
#9 40.29 === RUN   TestQueryMatcher
#9 40.29 --- PASS: TestQueryMatcher (0.00s)
#9 40.29 === RUN   TestHeaderREMatcher
#9 40.29 --- PASS: TestHeaderREMatcher (0.00s)
#9 40.29 === RUN   TestVarREMatcher
#9 40.29 === RUN   TestVarREMatcher/match_static_value_within_var_set_by_the_VarsMiddleware_succeeds
#9 40.29 === PAUSE TestVarREMatcher/match_static_value_within_var_set_by_the_VarsMiddleware_succeeds
#9 40.29 === RUN   TestVarREMatcher/value_set_by_VarsMiddleware_not_satisfying_regexp_matcher_fails_to_match
#9 40.29 === PAUSE TestVarREMatcher/value_set_by_VarsMiddleware_not_satisfying_regexp_matcher_fails_to_match
#9 40.29 === RUN   TestVarREMatcher/successfully_matched_value_is_captured_and_its_placeholder_is_added_to_replacer
#9 40.29 === PAUSE TestVarREMatcher/successfully_matched_value_is_captured_and_its_placeholder_is_added_to_replacer
#9 40.29 === RUN   TestVarREMatcher/matching_against_a_value_of_standard_variables_succeeds
#9 40.29 === PAUSE TestVarREMatcher/matching_against_a_value_of_standard_variables_succeeds
#9 40.29 === RUN   TestVarREMatcher/matching_against_value_of_var_set_by_the_VarsMiddleware_and_referenced_by_its_placeholder_succeeds
#9 40.29 === PAUSE TestVarREMatcher/matching_against_value_of_var_set_by_the_VarsMiddleware_and_referenced_by_its_placeholder_succeeds
#9 40.29 === CONT  TestVarREMatcher/match_static_value_within_var_set_by_the_VarsMiddleware_succeeds
#9 40.29 === CONT  TestVarREMatcher/matching_against_a_value_of_standard_variables_succeeds
#9 40.29 === CONT  TestVarREMatcher/value_set_by_VarsMiddleware_not_satisfying_regexp_matcher_fails_to_match
#9 40.29 === CONT  TestVarREMatcher/matching_against_value_of_var_set_by_the_VarsMiddleware_and_referenced_by_its_placeholder_succeeds
#9 40.29 === CONT  TestVarREMatcher/successfully_matched_value_is_captured_and_its_placeholder_is_added_to_replacer
#9 40.29 --- PASS: TestVarREMatcher (0.00s)
#9 40.29     --- PASS: TestVarREMatcher/match_static_value_within_var_set_by_the_VarsMiddleware_succeeds (0.00s)
#9 40.29     --- PASS: TestVarREMatcher/matching_against_a_value_of_standard_variables_succeeds (0.00s)
#9 40.29     --- PASS: TestVarREMatcher/value_set_by_VarsMiddleware_not_satisfying_regexp_matcher_fails_to_match (0.00s)
#9 40.29     --- PASS: TestVarREMatcher/matching_against_value_of_var_set_by_the_VarsMiddleware_and_referenced_by_its_placeholder_succeeds (0.00s)
#9 40.29     --- PASS: TestVarREMatcher/successfully_matched_value_is_captured_and_its_placeholder_is_added_to_replacer (0.00s)
#9 40.29 === RUN   TestNotMatcher
#9 40.29 --- PASS: TestNotMatcher (0.00s)
#9 40.29 === RUN   TestServerNameFromContext
#9 40.29 --- PASS: TestServerNameFromContext (0.00s)
#9 40.29 === RUN   TestMetricsInstrumentedHandler
#9 40.29 --- PASS: TestMetricsInstrumentedHandler (0.00s)
#9 40.29 === RUN   TestMetricsInstrumentedHandlerPerHost
#9 40.29 --- PASS: TestMetricsInstrumentedHandlerPerHost (0.00s)
#9 40.29 === RUN   TestHTTPVarReplacement
#9 40.29 --- PASS: TestHTTPVarReplacement (0.00s)
#9 40.29 === RUN   TestResponseMatcher
#9 40.29 --- PASS: TestResponseMatcher (0.00s)
#9 40.29 === RUN   TestResponseWriterWrapperReadFrom
#9 40.29 === RUN   TestResponseWriterWrapperReadFrom/no_ReadFrom
#9 40.29 === RUN   TestResponseWriterWrapperReadFrom/has_ReadFrom
#9 40.29 --- PASS: TestResponseWriterWrapperReadFrom (0.00s)
#9 40.29     --- PASS: TestResponseWriterWrapperReadFrom/no_ReadFrom (0.00s)
#9 40.29     --- PASS: TestResponseWriterWrapperReadFrom/has_ReadFrom (0.00s)
#9 40.29 === RUN   TestResponseWriterWrapperUnwrap
#9 40.29 --- PASS: TestResponseWriterWrapperUnwrap (0.00s)
#9 40.29 === RUN   TestResponseRecorderReadFrom
#9 40.29 === RUN   TestResponseRecorderReadFrom/buffered_plain
#9 40.29 === RUN   TestResponseRecorderReadFrom/streamed_plain
#9 40.29 === RUN   TestResponseRecorderReadFrom/buffered_ReadFrom
#9 40.29 === RUN   TestResponseRecorderReadFrom/streamed_ReadFrom
#9 40.29 --- PASS: TestResponseRecorderReadFrom (0.00s)
#9 40.29     --- PASS: TestResponseRecorderReadFrom/buffered_plain (0.00s)
#9 40.29     --- PASS: TestResponseRecorderReadFrom/streamed_plain (0.00s)
#9 40.29     --- PASS: TestResponseRecorderReadFrom/buffered_ReadFrom (0.00s)
#9 40.29     --- PASS: TestResponseRecorderReadFrom/streamed_ReadFrom (0.00s)
#9 40.29 === RUN   TestServer_LogRequest
#9 40.29 --- PASS: TestServer_LogRequest (0.00s)
#9 40.29 === RUN   TestServer_LogRequest_WithTrace
#9 40.29 --- PASS: TestServer_LogRequest_WithTrace (0.00s)
#9 40.29 === RUN   TestServer_TrustedRealClientIP_NoTrustedHeaders
#9 40.29 --- PASS: TestServer_TrustedRealClientIP_NoTrustedHeaders (0.00s)
#9 40.29 === RUN   TestServer_TrustedRealClientIP_OneTrustedHeaderEmpty
#9 40.29 --- PASS: TestServer_TrustedRealClientIP_OneTrustedHeaderEmpty (0.00s)
#9 40.29 === RUN   TestServer_TrustedRealClientIP_OneTrustedHeaderInvalid
#9 40.29 --- PASS: TestServer_TrustedRealClientIP_OneTrustedHeaderInvalid (0.00s)
#9 40.29 === RUN   TestServer_TrustedRealClientIP_OneTrustedHeaderValid
#9 40.29 --- PASS: TestServer_TrustedRealClientIP_OneTrustedHeaderValid (0.00s)
#9 40.29 === RUN   TestServer_TrustedRealClientIP_OneTrustedHeaderValidArray
#9 40.29 --- PASS: TestServer_TrustedRealClientIP_OneTrustedHeaderValidArray (0.00s)
#9 40.29 === RUN   TestServer_TrustedRealClientIP_IncludesPort
#9 40.29 --- PASS: TestServer_TrustedRealClientIP_IncludesPort (0.00s)
#9 40.29 === RUN   TestServer_TrustedRealClientIP_SkipsInvalidIps
#9 40.29 --- PASS: TestServer_TrustedRealClientIP_SkipsInvalidIps (0.00s)
#9 40.29 === RUN   TestServer_TrustedRealClientIP_MultipleTrustedHeaderValidArray
#9 40.29 --- PASS: TestServer_TrustedRealClientIP_MultipleTrustedHeaderValidArray (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_NoConfig
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_NoConfig (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_NoConfigIpv6
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_NoConfigIpv6 (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_NoConfigIpv6Zones
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_NoConfigIpv6Zones (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_TrustedLoopback
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_TrustedLoopback (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_UntrustedPrefix
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_UntrustedPrefix (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_MultipleTrustedPrefixes
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_MultipleTrustedPrefixes (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_MultipleTrustedClientHeaders
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_MultipleTrustedClientHeaders (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_MatchLeftMostValidIp
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_MatchLeftMostValidIp (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_MatchRightMostUntrusted
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_MatchRightMostUntrusted (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_MatchRightMostUntrustedSkippingEmpty
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_MatchRightMostUntrustedSkippingEmpty (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_MatchRightMostUntrustedSkippingTrusted
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_MatchRightMostUntrustedSkippingTrusted (0.00s)
#9 40.29 === RUN   TestServer_DetermineTrustedProxy_MatchRightMostUntrustedFirst
#9 40.29 --- PASS: TestServer_DetermineTrustedProxy_MatchRightMostUntrustedFirst (0.00s)
#9 40.29 === RUN   TestStaticResponseHandler
#9 40.29 --- PASS: TestStaticResponseHandler (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp	0.064s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/caddyauth	[no test files]
#9 40.29 === RUN   TestPreferOrder
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_4_accept,_3_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_2_accept,_3_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_2_accept_(1_empty),_3_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_1_accept,_2_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_4_accept_(1_duplicate),_1_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_empty_accept,_0_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_empty_accept,_1_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_with_q-factor
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_with_q-factor,_no_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_q-factor=0_filtered_out
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_q-factor=0_filtered_out,_no_prefer
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_with_invalid_q-factor
#9 40.29 === RUN   TestPreferOrder/PreferOrder():_with_invalid_q-factor,_no_prefer
#9 40.29 --- PASS: TestPreferOrder (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_4_accept,_3_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_2_accept,_3_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_2_accept_(1_empty),_3_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_1_accept,_2_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_4_accept_(1_duplicate),_1_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_empty_accept,_0_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_empty_accept,_1_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_with_q-factor (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_with_q-factor,_no_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_q-factor=0_filtered_out (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_q-factor=0_filtered_out,_no_prefer (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_with_invalid_q-factor (0.00s)
#9 40.29     --- PASS: TestPreferOrder/PreferOrder():_with_invalid_q-factor,_no_prefer (0.00s)
#9 40.29 === RUN   TestValidate
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_valid_order_with_all_encoder
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_valid_order_with_2_out_of_3_encoders
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_valid_order_with_1_out_of_3_encoders
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_1_duplicated_(once)_encoder
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_1_not_enabled_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_no_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_not_enabled_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_2_not_enabled_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_only_not_enabled_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_duplicated_(once)_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_duplicated_(twice)_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_duplicated_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_duplicated_not_enabled_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_2_duplicated_not_enabled_encoder_in_prefer_list
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_valid_order_zstd_first
#9 40.29 === RUN   TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_valid_order_gzip_first
#9 40.29 --- PASS: TestValidate (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_valid_order_with_all_encoder (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_valid_order_with_2_out_of_3_encoders (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_valid_order_with_1_out_of_3_encoders (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_1_duplicated_(once)_encoder (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_1_not_enabled_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd,_gzip_&_br_enabled):_no_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_not_enabled_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_2_not_enabled_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_only_not_enabled_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_duplicated_(once)_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_duplicated_(twice)_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_duplicated_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_1_duplicated_not_enabled_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_2_duplicated_not_enabled_encoder_in_prefer_list (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_valid_order_zstd_first (0.00s)
#9 40.29     --- PASS: TestValidate/ValidatePrefer_(zstd_&_gzip_enabled):_valid_order_gzip_first (0.00s)
#9 40.29 === RUN   TestIsEncodeAllowed
#9 40.29 === RUN   TestIsEncodeAllowed/Without_any_headers
#9 40.29 === RUN   TestIsEncodeAllowed/Without_Cache-Control_HTTP_header
#9 40.29 === RUN   TestIsEncodeAllowed/Cache-Control_HTTP_header_ending_with_no-transform_directive
#9 40.29 === RUN   TestIsEncodeAllowed/With_Cache-Control_HTTP_header_no-transform_as_Cache-Extension_value
#9 40.29 --- PASS: TestIsEncodeAllowed (0.00s)
#9 40.29     --- PASS: TestIsEncodeAllowed/Without_any_headers (0.00s)
#9 40.29     --- PASS: TestIsEncodeAllowed/Without_Cache-Control_HTTP_header (0.00s)
#9 40.29     --- PASS: TestIsEncodeAllowed/Cache-Control_HTTP_header_ending_with_no-transform_directive (0.00s)
#9 40.29     --- PASS: TestIsEncodeAllowed/With_Cache-Control_HTTP_header_no-transform_as_Cache-Extension_value (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/encode	0.027s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/encode/brotli	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/encode/gzip	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/encode/zstd	[no test files]
#9 40.29 === RUN   TestBreadcrumbs
#9 40.29 --- PASS: TestBreadcrumbs (0.00s)
#9 40.29 === RUN   TestFileMatcher
#9 40.29 --- PASS: TestFileMatcher (0.04s)
#9 40.29 === RUN   TestPHPFileMatcher
#9 40.29 --- PASS: TestPHPFileMatcher (0.00s)
#9 40.29 === RUN   TestFirstSplit
#9 40.29 --- PASS: TestFirstSplit (0.00s)
#9 40.29 === RUN   TestMatchExpressionMatch
#9 40.29 === RUN   TestMatchExpressionMatch/file_error_no_args_(MatchFile)
#9 40.29 === RUN   TestMatchExpressionMatch/file_error_bad_try_files_(MatchFile)
#9 40.29 === RUN   TestMatchExpressionMatch/file_match_short_pattern_index.php_(MatchFile)
#9 40.29 === RUN   TestMatchExpressionMatch/file_match_short_pattern_foo.txt_(MatchFile)
#9 40.29 === RUN   TestMatchExpressionMatch/file_match_index.php_(MatchFile)
#9 40.29 === RUN   TestMatchExpressionMatch/file_match_long_pattern_foo.txt_(MatchFile)
#9 40.29 === RUN   TestMatchExpressionMatch/file_match_long_pattern_foo.txt_with_concatenation_(MatchFile)
#9 40.29 === RUN   TestMatchExpressionMatch/file_not_match_long_pattern_(MatchFile)
#9 40.29 === RUN   TestMatchExpressionMatch/file_match_long_pattern_foo.txt_with_try_policy_(MatchFile)
#9 40.29 --- PASS: TestMatchExpressionMatch (0.01s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_error_no_args_(MatchFile) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_error_bad_try_files_(MatchFile) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_match_short_pattern_index.php_(MatchFile) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_match_short_pattern_foo.txt_(MatchFile) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_match_index.php_(MatchFile) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_match_long_pattern_foo.txt_(MatchFile) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_match_long_pattern_foo.txt_with_concatenation_(MatchFile) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_not_match_long_pattern_(MatchFile) (0.00s)
#9 40.29     --- PASS: TestMatchExpressionMatch/file_match_long_pattern_foo.txt_with_try_policy_(MatchFile) (0.00s)
#9 40.29 === RUN   TestFileHidden
#9 40.29 --- PASS: TestFileHidden (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/fileserver	0.100s
#9 40.29 === RUN   TestHandler
#9 40.29 --- PASS: TestHandler (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/headers	0.042s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/intercept	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/logging	[no test files]
#9 40.29 === RUN   TestHandler
#9 40.29 --- PASS: TestHandler (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/map	0.039s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/proxyprotocol	[no test files]
#9 40.29 === RUN   TestParseLinkHeader
#9 40.29 --- PASS: TestParseLinkHeader (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/push	0.024s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/requestbody	[no test files]
#9 40.29 === RUN   TestParseUpstreamDialAddress
#9 40.29 --- PASS: TestParseUpstreamDialAddress (0.00s)
#9 40.29 === RUN   TestEqualFold
#9 40.29 === RUN   TestEqualFold/empty
#9 40.29 === RUN   TestEqualFold/simple_match
#9 40.29 === RUN   TestEqualFold/same_string
#9 40.29 === RUN   TestEqualFold/Unicode_Kelvin_symbol
#9 40.29 --- PASS: TestEqualFold (0.00s)
#9 40.29     --- PASS: TestEqualFold/empty (0.00s)
#9 40.29     --- PASS: TestEqualFold/simple_match (0.00s)
#9 40.29     --- PASS: TestEqualFold/same_string (0.00s)
#9 40.29     --- PASS: TestEqualFold/Unicode_Kelvin_symbol (0.00s)
#9 40.29 === RUN   TestIsPrint
#9 40.29 === RUN   TestIsPrint/empty
#9 40.29 === RUN   TestIsPrint/ASCII_low
#9 40.29 === RUN   TestIsPrint/ASCII_high
#9 40.29 === RUN   TestIsPrint/ASCII_low_non-print
#9 40.29 === RUN   TestIsPrint/Ascii_high_non-print
#9 40.29 === RUN   TestIsPrint/Unicode_letter
#9 40.29 === RUN   TestIsPrint/Unicode_emoji
#9 40.29 --- PASS: TestIsPrint (0.00s)
#9 40.29     --- PASS: TestIsPrint/empty (0.00s)
#9 40.29     --- PASS: TestIsPrint/ASCII_low (0.00s)
#9 40.29     --- PASS: TestIsPrint/ASCII_high (0.00s)
#9 40.29     --- PASS: TestIsPrint/ASCII_low_non-print (0.00s)
#9 40.29     --- PASS: TestIsPrint/Ascii_high_non-print (0.00s)
#9 40.29     --- PASS: TestIsPrint/Unicode_letter (0.00s)
#9 40.29     --- PASS: TestIsPrint/Unicode_emoji (0.00s)
#9 40.29 === RUN   TestBuffering
#9 40.29 === RUN   TestBuffering/0_limit,_body_is_returned_as_is
#9 40.29 === RUN   TestBuffering/negative_limit,_body_is_read_completely
#9 40.29 === RUN   TestBuffering/positive_limit,_body_is_read_partially
#9 40.29 === RUN   TestBuffering/positive_limit,_body_is_read_completely
#9 40.29 --- PASS: TestBuffering (0.00s)
#9 40.29     --- PASS: TestBuffering/0_limit,_body_is_returned_as_is (0.00s)
#9 40.29     --- PASS: TestBuffering/negative_limit,_body_is_read_completely (0.00s)
#9 40.29     --- PASS: TestBuffering/positive_limit,_body_is_read_partially (0.00s)
#9 40.29     --- PASS: TestBuffering/positive_limit,_body_is_read_completely (0.00s)
#9 40.29 === RUN   TestHTTPTransportUnmarshalCaddyFileWithCaPools
#9 40.29 === RUN   TestHTTPTransportUnmarshalCaddyFileWithCaPools/tls_trust_pool_without_a_module_argument_returns_an_error
#9 40.29 === RUN   TestHTTPTransportUnmarshalCaddyFileWithCaPools/providing_both_'tls_trust_pool'_and_'tls_trusted_ca_certs'_returns_an_error
#9 40.29 === RUN   TestHTTPTransportUnmarshalCaddyFileWithCaPools/setting_'tls_trust_pool'_and_'tls_trusted_ca_certs'_produces_an_error
#9 40.29 {"level":"warn","ts":1752538265.6633346,"msg":"The 'tls_trusted_ca_certs' field is deprecated. Use the 'tls_trust_pool' field instead."}
#9 40.29 === RUN   TestHTTPTransportUnmarshalCaddyFileWithCaPools/using_'inline'_tls_trust_pool_loads_the_module_successfully
#9 40.29 === RUN   TestHTTPTransportUnmarshalCaddyFileWithCaPools/setting_'tls_trusted_ca_certs'_and_'tls_trust_pool'_produces_an_error
#9 40.29 {"level":"warn","ts":1752538265.6634424,"msg":"The 'tls_trusted_ca_certs' field is deprecated. Use the 'tls_trust_pool' field instead."}
#9 40.29 --- PASS: TestHTTPTransportUnmarshalCaddyFileWithCaPools (0.00s)
#9 40.29     --- PASS: TestHTTPTransportUnmarshalCaddyFileWithCaPools/tls_trust_pool_without_a_module_argument_returns_an_error (0.00s)
#9 40.29     --- PASS: TestHTTPTransportUnmarshalCaddyFileWithCaPools/providing_both_'tls_trust_pool'_and_'tls_trusted_ca_certs'_returns_an_error (0.00s)
#9 40.29     --- PASS: TestHTTPTransportUnmarshalCaddyFileWithCaPools/setting_'tls_trust_pool'_and_'tls_trusted_ca_certs'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestHTTPTransportUnmarshalCaddyFileWithCaPools/using_'inline'_tls_trust_pool_loads_the_module_successfully (0.00s)
#9 40.29     --- PASS: TestHTTPTransportUnmarshalCaddyFileWithCaPools/setting_'tls_trusted_ca_certs'_and_'tls_trust_pool'_produces_an_error (0.00s)
#9 40.29 === RUN   TestRoundRobinPolicy
#9 40.29 --- PASS: TestRoundRobinPolicy (0.00s)
#9 40.29 === RUN   TestWeightedRoundRobinPolicy
#9 40.29 --- PASS: TestWeightedRoundRobinPolicy (0.00s)
#9 40.29 === RUN   TestWeightedRoundRobinPolicyWithZeroWeight
#9 40.29 --- PASS: TestWeightedRoundRobinPolicyWithZeroWeight (0.00s)
#9 40.29 === RUN   TestLeastConnPolicy
#9 40.29 --- PASS: TestLeastConnPolicy (0.00s)
#9 40.29 === RUN   TestIPHashPolicy
#9 40.29 --- PASS: TestIPHashPolicy (0.00s)
#9 40.29 === RUN   TestClientIPHashPolicy
#9 40.29 --- PASS: TestClientIPHashPolicy (0.00s)
#9 40.29 === RUN   TestFirstPolicy
#9 40.29 --- PASS: TestFirstPolicy (0.00s)
#9 40.29 === RUN   TestQueryHashPolicy
#9 40.29 --- PASS: TestQueryHashPolicy (0.00s)
#9 40.29 === RUN   TestURIHashPolicy
#9 40.29 --- PASS: TestURIHashPolicy (0.00s)
#9 40.29 === RUN   TestLeastRequests
#9 40.29 --- PASS: TestLeastRequests (0.00s)
#9 40.29 === RUN   TestRandomChoicePolicy
#9 40.29 --- PASS: TestRandomChoicePolicy (0.00s)
#9 40.29 === RUN   TestCookieHashPolicy
#9 40.29 --- PASS: TestCookieHashPolicy (0.00s)
#9 40.29 === RUN   TestCookieHashPolicyWithSecureRequest
#9 40.29 --- PASS: TestCookieHashPolicyWithSecureRequest (0.00s)
#9 40.29 === RUN   TestCookieHashPolicyWithFirstFallback
#9 40.29 --- PASS: TestCookieHashPolicyWithFirstFallback (0.00s)
#9 40.29 === RUN   TestHandlerCopyResponse
#9 40.29 --- PASS: TestHandlerCopyResponse (0.00s)
#9 40.29 === RUN   TestResolveIpVersion
#9 40.29 --- PASS: TestResolveIpVersion (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/reverseproxy	0.037s
#9 40.29 testing: warning: no tests to run
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/reverseproxy/fastcgi	0.050s [no tests to run]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/reverseproxy/forwardauth	[no test files]
#9 40.29 === RUN   TestRewrite
#9 40.29 --- PASS: TestRewrite (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/rewrite	0.032s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddyhttp/standard	[no test files]
#9 40.29 === RUN   TestHTTPInclude
#9 40.29 --- PASS: TestHTTPInclude (0.00s)
#9 40.29 === RUN   TestMarkdown
#9 40.29 --- PASS: TestMarkdown (0.00s)
#9 40.29 === RUN   TestCookie
#9 40.29 --- PASS: TestCookie (0.00s)
#9 40.29 === RUN   TestImport
#9 40.29 --- PASS: TestImport (0.00s)
#9 40.29 === RUN   TestNestedInclude
#9 40.29 --- PASS: TestNestedInclude (0.03s)
#9 40.29 === RUN   TestInclude
#9 40.29 --- PASS: TestInclude (0.00s)
#9 40.29 === RUN   TestCookieMultipleCookies
#9 40.29 --- PASS: TestCookieMultipleCookies (0.00s)
#9 40.29 === RUN   TestIP
#9 40.29 --- PASS: TestIP (0.00s)
#9 40.29 === RUN   TestStripHTML
#9 40.29 --- PASS: TestStripHTML (0.00s)
#9 40.29 === RUN   TestFileListing
#9 40.29 --- PASS: TestFileListing (0.00s)
#9 40.29 === RUN   TestSplitFrontMatter
#9 40.29 --- PASS: TestSplitFrontMatter (0.00s)
#9 40.29 === RUN   TestHumanize
#9 40.29 --- PASS: TestHumanize (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/templates	0.078s
#9 40.29 === RUN   TestTracing_UnmarshalCaddyfile
#9 40.29 === RUN   TestTracing_UnmarshalCaddyfile/Full_config
#9 40.29 === RUN   TestTracing_UnmarshalCaddyfile/Only_span_name_in_the_config
#9 40.29 === RUN   TestTracing_UnmarshalCaddyfile/Empty_config
#9 40.29 --- PASS: TestTracing_UnmarshalCaddyfile (0.00s)
#9 40.29     --- PASS: TestTracing_UnmarshalCaddyfile/Full_config (0.00s)
#9 40.29     --- PASS: TestTracing_UnmarshalCaddyfile/Only_span_name_in_the_config (0.00s)
#9 40.29     --- PASS: TestTracing_UnmarshalCaddyfile/Empty_config (0.00s)
#9 40.29 === RUN   TestTracing_UnmarshalCaddyfile_Error
#9 40.29 === RUN   TestTracing_UnmarshalCaddyfile_Error/Unknown_parameter
#9 40.29 === RUN   TestTracing_UnmarshalCaddyfile_Error/Missed_argument
#9 40.29 --- PASS: TestTracing_UnmarshalCaddyfile_Error (0.00s)
#9 40.29     --- PASS: TestTracing_UnmarshalCaddyfile_Error/Unknown_parameter (0.00s)
#9 40.29     --- PASS: TestTracing_UnmarshalCaddyfile_Error/Missed_argument (0.00s)
#9 40.29 === RUN   TestTracing_ServeHTTP_Propagation_Without_Initial_Headers
#9 40.29 --- PASS: TestTracing_ServeHTTP_Propagation_Without_Initial_Headers (0.00s)
#9 40.29 === RUN   TestTracing_ServeHTTP_Propagation_With_Initial_Headers
#9 40.29 --- PASS: TestTracing_ServeHTTP_Propagation_With_Initial_Headers (0.00s)
#9 40.29 === RUN   TestTracing_ServeHTTP_Next_Error
#9 40.29 --- PASS: TestTracing_ServeHTTP_Next_Error (0.00s)
#9 40.29 === RUN   TestOpenTelemetryWrapper_newOpenTelemetryWrapper
#9 40.29 --- PASS: TestOpenTelemetryWrapper_newOpenTelemetryWrapper (0.00s)
#9 40.29 === RUN   Test_tracersProvider_getTracerProvider
#9 40.29 --- PASS: Test_tracersProvider_getTracerProvider (0.00s)
#9 40.29 === RUN   Test_tracersProvider_cleanupTracerProvider
#9 40.29 --- PASS: Test_tracersProvider_cleanupTracerProvider (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddyhttp/tracing	0.026s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddypki	[no test files]
#9 40.29 === RUN   TestPolicyNormalizeAllowRules
#9 40.29 === RUN   TestPolicyNormalizeAllowRules/providing_no_rules_results_in_'nil'
#9 40.29 === RUN   TestPolicyNormalizeAllowRules/providing_'nil'_Allow_rules_results_in_'nil',_regardless_of_Deny_rules
#9 40.29 === RUN   TestPolicyNormalizeAllowRules/providing_empty_Allow_rules_results_in_'nil',_regardless_of_Deny_rules
#9 40.29 === RUN   TestPolicyNormalizeAllowRules/rules_configured_in_Allow_are_returned_in_X509NameOptions
#9 40.29 --- PASS: TestPolicyNormalizeAllowRules (0.00s)
#9 40.29     --- PASS: TestPolicyNormalizeAllowRules/providing_no_rules_results_in_'nil' (0.00s)
#9 40.29     --- PASS: TestPolicyNormalizeAllowRules/providing_'nil'_Allow_rules_results_in_'nil',_regardless_of_Deny_rules (0.00s)
#9 40.29     --- PASS: TestPolicyNormalizeAllowRules/providing_empty_Allow_rules_results_in_'nil',_regardless_of_Deny_rules (0.00s)
#9 40.29     --- PASS: TestPolicyNormalizeAllowRules/rules_configured_in_Allow_are_returned_in_X509NameOptions (0.00s)
#9 40.29 === RUN   TestPolicy_normalizeDenyRules
#9 40.29 === RUN   TestPolicy_normalizeDenyRules/providing_no_rules_results_in_'nil'
#9 40.29 === RUN   TestPolicy_normalizeDenyRules/providing_'nil'_Deny_rules_results_in_'nil',_regardless_of_Allow_rules
#9 40.29 === RUN   TestPolicy_normalizeDenyRules/providing_empty_Deny_rules_results_in_'nil',_regardless_of_Allow_rules
#9 40.29 === RUN   TestPolicy_normalizeDenyRules/rules_configured_in_Deny_are_returned_in_X509NameOptions
#9 40.29 --- PASS: TestPolicy_normalizeDenyRules (0.00s)
#9 40.29     --- PASS: TestPolicy_normalizeDenyRules/providing_no_rules_results_in_'nil' (0.00s)
#9 40.29     --- PASS: TestPolicy_normalizeDenyRules/providing_'nil'_Deny_rules_results_in_'nil',_regardless_of_Allow_rules (0.00s)
#9 40.29     --- PASS: TestPolicy_normalizeDenyRules/providing_empty_Deny_rules_results_in_'nil',_regardless_of_Allow_rules (0.00s)
#9 40.29     --- PASS: TestPolicy_normalizeDenyRules/rules_configured_in_Deny_are_returned_in_X509NameOptions (0.00s)
#9 40.29 === RUN   TestPolicy_normalizeRules
#9 40.29 === RUN   TestPolicy_normalizeRules/'nil'_policy_results_in_'nil'_options
#9 40.29 === RUN   TestPolicy_normalizeRules/'nil'_Allow/Deny_rules_and_disallowing_wildcard_names_result_in_'nil'_X509Options
#9 40.29 === RUN   TestPolicy_normalizeRules/'nil'_Allow/Deny_rules_and_allowing_wildcard_names_result_in_'nil'_Allow/Deny_rules_in_X509Options_but_allowing_wildcard_names_in_X509Options
#9 40.29 --- PASS: TestPolicy_normalizeRules (0.00s)
#9 40.29     --- PASS: TestPolicy_normalizeRules/'nil'_policy_results_in_'nil'_options (0.00s)
#9 40.29     --- PASS: TestPolicy_normalizeRules/'nil'_Allow/Deny_rules_and_disallowing_wildcard_names_result_in_'nil'_X509Options (0.00s)
#9 40.29     --- PASS: TestPolicy_normalizeRules/'nil'_Allow/Deny_rules_and_allowing_wildcard_names_result_in_'nil'_Allow/Deny_rules_in_X509Options_but_allowing_wildcard_names_in_X509Options (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddypki/acmeserver	0.024s
#9 40.29 === RUN   TestInlineCAPoolUnmarshalCaddyfile
#9 40.29 === RUN   TestInlineCAPoolUnmarshalCaddyfile/configuring_no_certificatest_produces_an_error
#9 40.29 === RUN   TestInlineCAPoolUnmarshalCaddyfile/configuring_certificates_as_arguments_in-line_produces_an_error
#9 40.29 === RUN   TestInlineCAPoolUnmarshalCaddyfile/single_cert
#9 40.29 === RUN   TestInlineCAPoolUnmarshalCaddyfile/multiple_certs_in_one_line
#9 40.29 === RUN   TestInlineCAPoolUnmarshalCaddyfile/multiple_certs_in_multiple_lines
#9 40.29 --- PASS: TestInlineCAPoolUnmarshalCaddyfile (0.00s)
#9 40.29     --- PASS: TestInlineCAPoolUnmarshalCaddyfile/configuring_no_certificatest_produces_an_error (0.00s)
#9 40.29     --- PASS: TestInlineCAPoolUnmarshalCaddyfile/configuring_certificates_as_arguments_in-line_produces_an_error (0.00s)
#9 40.29     --- PASS: TestInlineCAPoolUnmarshalCaddyfile/single_cert (0.00s)
#9 40.29     --- PASS: TestInlineCAPoolUnmarshalCaddyfile/multiple_certs_in_one_line (0.00s)
#9 40.29     --- PASS: TestInlineCAPoolUnmarshalCaddyfile/multiple_certs_in_multiple_lines (0.00s)
#9 40.29 === RUN   TestFileCAPoolUnmarshalCaddyfile
#9 40.29 === RUN   TestFileCAPoolUnmarshalCaddyfile/configuring_no_certificatest_produces_an_error
#9 40.29 === RUN   TestFileCAPoolUnmarshalCaddyfile/configuring_certificates_as_arguments_in-line_produces_an_error
#9 40.29 === RUN   TestFileCAPoolUnmarshalCaddyfile/single_cert
#9 40.29 === RUN   TestFileCAPoolUnmarshalCaddyfile/multiple_certs_inline_and_in-block_are_merged
#9 40.29 === RUN   TestFileCAPoolUnmarshalCaddyfile/multiple_certs_in_one_line
#9 40.29 === RUN   TestFileCAPoolUnmarshalCaddyfile/multiple_certs_in_multiple_lines
#9 40.29 --- PASS: TestFileCAPoolUnmarshalCaddyfile (0.00s)
#9 40.29     --- PASS: TestFileCAPoolUnmarshalCaddyfile/configuring_no_certificatest_produces_an_error (0.00s)
#9 40.29     --- PASS: TestFileCAPoolUnmarshalCaddyfile/configuring_certificates_as_arguments_in-line_produces_an_error (0.00s)
#9 40.29     --- PASS: TestFileCAPoolUnmarshalCaddyfile/single_cert (0.00s)
#9 40.29     --- PASS: TestFileCAPoolUnmarshalCaddyfile/multiple_certs_inline_and_in-block_are_merged (0.00s)
#9 40.29     --- PASS: TestFileCAPoolUnmarshalCaddyfile/multiple_certs_in_one_line (0.00s)
#9 40.29     --- PASS: TestFileCAPoolUnmarshalCaddyfile/multiple_certs_in_multiple_lines (0.00s)
#9 40.29 === RUN   TestPKIRootCAPoolUnmarshalCaddyfile
#9 40.29 === RUN   TestPKIRootCAPoolUnmarshalCaddyfile/configuring_no_certificatest_produces_an_error
#9 40.29 === RUN   TestPKIRootCAPoolUnmarshalCaddyfile/single_authority_as_arguments_in-line
#9 40.29 === RUN   TestPKIRootCAPoolUnmarshalCaddyfile/multiple_authorities_as_arguments_in-line
#9 40.29 === RUN   TestPKIRootCAPoolUnmarshalCaddyfile/single_authority_in_block
#9 40.29 === RUN   TestPKIRootCAPoolUnmarshalCaddyfile/multiple_authorities_in_one_line
#9 40.29 === RUN   TestPKIRootCAPoolUnmarshalCaddyfile/multiple_authorities_in_multiple_lines
#9 40.29 --- PASS: TestPKIRootCAPoolUnmarshalCaddyfile (0.00s)
#9 40.29     --- PASS: TestPKIRootCAPoolUnmarshalCaddyfile/configuring_no_certificatest_produces_an_error (0.00s)
#9 40.29     --- PASS: TestPKIRootCAPoolUnmarshalCaddyfile/single_authority_as_arguments_in-line (0.00s)
#9 40.29     --- PASS: TestPKIRootCAPoolUnmarshalCaddyfile/multiple_authorities_as_arguments_in-line (0.00s)
#9 40.29     --- PASS: TestPKIRootCAPoolUnmarshalCaddyfile/single_authority_in_block (0.00s)
#9 40.29     --- PASS: TestPKIRootCAPoolUnmarshalCaddyfile/multiple_authorities_in_one_line (0.00s)
#9 40.29     --- PASS: TestPKIRootCAPoolUnmarshalCaddyfile/multiple_authorities_in_multiple_lines (0.00s)
#9 40.29 === RUN   TestPKIIntermediateCAPoolUnmarshalCaddyfile
#9 40.29 === RUN   TestPKIIntermediateCAPoolUnmarshalCaddyfile/configuring_no_certificatest_produces_an_error
#9 40.29 === RUN   TestPKIIntermediateCAPoolUnmarshalCaddyfile/single_authority_as_arguments_in-line
#9 40.29 === RUN   TestPKIIntermediateCAPoolUnmarshalCaddyfile/multiple_authorities_as_arguments_in-line
#9 40.29 === RUN   TestPKIIntermediateCAPoolUnmarshalCaddyfile/single_authority_in_block
#9 40.29 === RUN   TestPKIIntermediateCAPoolUnmarshalCaddyfile/multiple_authorities_in_one_line
#9 40.29 === RUN   TestPKIIntermediateCAPoolUnmarshalCaddyfile/multiple_authorities_in_multiple_lines
#9 40.29 --- PASS: TestPKIIntermediateCAPoolUnmarshalCaddyfile (0.00s)
#9 40.29     --- PASS: TestPKIIntermediateCAPoolUnmarshalCaddyfile/configuring_no_certificatest_produces_an_error (0.00s)
#9 40.29     --- PASS: TestPKIIntermediateCAPoolUnmarshalCaddyfile/single_authority_as_arguments_in-line (0.00s)
#9 40.29     --- PASS: TestPKIIntermediateCAPoolUnmarshalCaddyfile/multiple_authorities_as_arguments_in-line (0.00s)
#9 40.29     --- PASS: TestPKIIntermediateCAPoolUnmarshalCaddyfile/single_authority_in_block (0.00s)
#9 40.29     --- PASS: TestPKIIntermediateCAPoolUnmarshalCaddyfile/multiple_authorities_in_one_line (0.00s)
#9 40.29     --- PASS: TestPKIIntermediateCAPoolUnmarshalCaddyfile/multiple_authorities_in_multiple_lines (0.00s)
#9 40.29 === RUN   TestStoragePoolUnmarshalCaddyfile
#9 40.29 === RUN   TestStoragePoolUnmarshalCaddyfile/empty_block
#9 40.29 === RUN   TestStoragePoolUnmarshalCaddyfile/providing_single_storage_key_inline
#9 40.29 === RUN   TestStoragePoolUnmarshalCaddyfile/providing_multiple_storage_keys_inline
#9 40.29 === RUN   TestStoragePoolUnmarshalCaddyfile/providing_keys_inside_block_without_specifying_storage_type
#9 40.29 === RUN   TestStoragePoolUnmarshalCaddyfile/providing_keys_in-line_and_inside_block_merges_them
#9 40.29 === RUN   TestStoragePoolUnmarshalCaddyfile/specifying_storage_type_in_block
#9 40.29 --- PASS: TestStoragePoolUnmarshalCaddyfile (0.00s)
#9 40.29     --- PASS: TestStoragePoolUnmarshalCaddyfile/empty_block (0.00s)
#9 40.29     --- PASS: TestStoragePoolUnmarshalCaddyfile/providing_single_storage_key_inline (0.00s)
#9 40.29     --- PASS: TestStoragePoolUnmarshalCaddyfile/providing_multiple_storage_keys_inline (0.00s)
#9 40.29     --- PASS: TestStoragePoolUnmarshalCaddyfile/providing_keys_inside_block_without_specifying_storage_type (0.00s)
#9 40.29     --- PASS: TestStoragePoolUnmarshalCaddyfile/providing_keys_in-line_and_inside_block_merges_them (0.00s)
#9 40.29     --- PASS: TestStoragePoolUnmarshalCaddyfile/specifying_storage_type_in_block (0.00s)
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/no_arguments_is_valid
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_to_'never'_is_valid
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_to_'once'_is_valid
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_to_'freely'_is_valid
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_to_other_than_'none',_'once,_or_'freely'_is_invalid
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_without_argument_is_invalid
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'ca'_without_argument_is_an_error
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'ca'_to_'file'_with_in-line_cert_is_valid
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'ca'_to_'file'_with_appropriate_block_is_valid
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'ca'_multiple_times_is_an_error
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'handshake_timeout'_without_value_is_an_error
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'handshake_timeout'_properly_is_successful
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'server_name'_without_value_is_an_error
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/setting_'server_name'_properly_is_successful
#9 40.29 === RUN   TestTLSConfig_unmarshalCaddyfile/unsupported_directives_are_errors
#9 40.29 --- PASS: TestTLSConfig_unmarshalCaddyfile (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/no_arguments_is_valid (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_to_'never'_is_valid (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_to_'once'_is_valid (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_to_'freely'_is_valid (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_to_other_than_'none',_'once,_or_'freely'_is_invalid (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'renegotiation'_without_argument_is_invalid (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'ca'_without_argument_is_an_error (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'ca'_to_'file'_with_in-line_cert_is_valid (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'ca'_to_'file'_with_appropriate_block_is_valid (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'ca'_multiple_times_is_an_error (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'handshake_timeout'_without_value_is_an_error (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'handshake_timeout'_properly_is_successful (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'server_name'_without_value_is_an_error (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/setting_'server_name'_properly_is_successful (0.00s)
#9 40.29     --- PASS: TestTLSConfig_unmarshalCaddyfile/unsupported_directives_are_errors (0.00s)
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile/no_block,_inline_http_endpoint
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile/no_block,_inline_https_endpoint
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile/no_block,_mixed_http_and_https_endpoints_inline
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile/multiple_endpoints_in_separate_lines_in_block
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile/endpoints_defined_inline_and_in_block_are_merged
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile/multiple_endpoints_defined_in_block_on_the_same_line
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile/declaring_'endpoints'_in_block_without_argument_is_an_error
#9 40.29 === RUN   TestHTTPCertPoolUnmarshalCaddyfile/multiple_endpoints_in_separate_lines_in_block#01
#9 40.29 --- PASS: TestHTTPCertPoolUnmarshalCaddyfile (0.00s)
#9 40.29     --- PASS: TestHTTPCertPoolUnmarshalCaddyfile/no_block,_inline_http_endpoint (0.00s)
#9 40.29     --- PASS: TestHTTPCertPoolUnmarshalCaddyfile/no_block,_inline_https_endpoint (0.00s)
#9 40.29     --- PASS: TestHTTPCertPoolUnmarshalCaddyfile/no_block,_mixed_http_and_https_endpoints_inline (0.00s)
#9 40.29     --- PASS: TestHTTPCertPoolUnmarshalCaddyfile/multiple_endpoints_in_separate_lines_in_block (0.00s)
#9 40.29     --- PASS: TestHTTPCertPoolUnmarshalCaddyfile/endpoints_defined_inline_and_in_block_are_merged (0.00s)
#9 40.29     --- PASS: TestHTTPCertPoolUnmarshalCaddyfile/multiple_endpoints_defined_in_block_on_the_same_line (0.00s)
#9 40.29     --- PASS: TestHTTPCertPoolUnmarshalCaddyfile/declaring_'endpoints'_in_block_without_argument_is_an_error (0.00s)
#9 40.29     --- PASS: TestHTTPCertPoolUnmarshalCaddyfile/multiple_endpoints_in_separate_lines_in_block#01 (0.00s)
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/empty_client_auth_block_does_not_error
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/providing_both_'trust_pool'_and_'trusted_ca_cert'_returns_an_error
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/trust_pool_without_a_module_argument_returns_an_error
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/providing_more_than_1_mode_produces_an_error
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_'mode'_argument_produces_an_error
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/providing_a_single_'mode'_argument_sets_the_mode
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_an_argument_to_'trusted_ca_cert'_produces_an_error
#9 40.29 {"level":"warn","ts":1752538267.2580192,"msg":"The 'trusted_ca_cert' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_an_argument_to_'trusted_leaf_cert'_produces_an_error
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_an_argument_to_'trusted_ca_cert_file'_produces_an_error
#9 40.29 {"level":"warn","ts":1752538267.258064,"msg":"The 'trusted_ca_cert_file' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_an_argument_to_'trusted_leaf_cert_file'_produces_an_error
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/using_'trusted_ca_cert'_adapts_successfully
#9 40.29 {"level":"warn","ts":1752538267.2580898,"msg":"The 'trusted_ca_cert' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/using_'inline'_trust_pool_loads_the_module_successfully
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/setting_'trusted_ca_cert'_and_'trust_pool'_produces_an_error
#9 40.29 {"level":"warn","ts":1752538267.2582166,"msg":"The 'trusted_ca_cert' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/setting_'trust_pool'_and_'trusted_ca_cert'_produces_an_error
#9 40.29 {"level":"warn","ts":1752538267.2582638,"msg":"The 'trusted_ca_cert' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/setting_'trust_pool'_and_'trusted_ca_cert'_produces_an_error#01
#9 40.29 {"level":"warn","ts":1752538267.2583034,"msg":"The 'trusted_ca_cert_file' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/configuring_'trusted_ca_cert_file'_without_an_argument_is_an_error
#9 40.29 {"level":"warn","ts":1752538267.2583241,"msg":"The 'trusted_ca_cert_file' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/configuring_'trusted_ca_cert_file'_produces_config_with_'inline'_provider
#9 40.29 {"level":"warn","ts":1752538267.2583458,"msg":"The 'trusted_ca_cert_file' field is deprecated. Use the 'trust_pool' field instead."}
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/configuring_leaf_certs_does_not_conflict_with_'trust_pool'
#9 40.29 === RUN   TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/providing_trusted_leaf_certificate_file_loads_the_cert_successfully
#9 40.29 --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/empty_client_auth_block_does_not_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/providing_both_'trust_pool'_and_'trusted_ca_cert'_returns_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/trust_pool_without_a_module_argument_returns_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/providing_more_than_1_mode_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_'mode'_argument_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/providing_a_single_'mode'_argument_sets_the_mode (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_an_argument_to_'trusted_ca_cert'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_an_argument_to_'trusted_leaf_cert'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_an_argument_to_'trusted_ca_cert_file'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/not_providing_an_argument_to_'trusted_leaf_cert_file'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/using_'trusted_ca_cert'_adapts_successfully (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/using_'inline'_trust_pool_loads_the_module_successfully (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/setting_'trusted_ca_cert'_and_'trust_pool'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/setting_'trust_pool'_and_'trusted_ca_cert'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/setting_'trust_pool'_and_'trusted_ca_cert'_produces_an_error#01 (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/configuring_'trusted_ca_cert_file'_without_an_argument_is_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/configuring_'trusted_ca_cert_file'_produces_config_with_'inline'_provider (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/configuring_leaf_certs_does_not_conflict_with_'trust_pool' (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationUnmarshalCaddyfileWithDirectiveName/providing_trusted_leaf_certificate_file_loads_the_cert_successfully (0.00s)
#9 40.29 === RUN   TestClientAuthenticationProvision
#9 40.29 === RUN   TestClientAuthenticationProvision/specifying_both_'CARaw'_and_'TrustedCACerts'_produces_an_error
#9 40.29 === RUN   TestClientAuthenticationProvision/specifying_both_'CARaw'_and_'TrustedCACertPEMFiles'_produces_an_error
#9 40.29 === RUN   TestClientAuthenticationProvision/setting_'TrustedCACerts'_provisions_the_cert_pool
#9 40.29 --- PASS: TestClientAuthenticationProvision (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationProvision/specifying_both_'CARaw'_and_'TrustedCACerts'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationProvision/specifying_both_'CARaw'_and_'TrustedCACertPEMFiles'_produces_an_error (0.00s)
#9 40.29     --- PASS: TestClientAuthenticationProvision/setting_'TrustedCACerts'_provisions_the_cert_pool (0.00s)
#9 40.29 === RUN   TestLeafFileLoader
#9 40.29 --- PASS: TestLeafFileLoader (0.00s)
#9 40.29 === RUN   TestLeafFolderLoader
#9 40.29 --- PASS: TestLeafFolderLoader (0.00s)
#9 40.29 === RUN   TestLeafPEMLoader
#9 40.29 --- PASS: TestLeafPEMLoader (0.00s)
#9 40.29 === RUN   TestServerNameMatcher
#9 40.29 --- PASS: TestServerNameMatcher (0.00s)
#9 40.29 === RUN   TestServerNameREMatcher
#9 40.29 --- PASS: TestServerNameREMatcher (0.00s)
#9 40.29 === RUN   TestRemoteIPMatcher
#9 40.29 --- PASS: TestRemoteIPMatcher (0.00s)
#9 40.29 === RUN   TestLocalIPMatcher
#9 40.29 2025-07-15T00:11:07.261Z	ERROR	caddytls/matchers.go:430	invalid local IP address	{"ip": "127.0.0.300"}
#9 40.29 github.com/caddyserver/caddy/v2/modules/caddytls.MatchLocalIP.Match
#9 40.29 	/testbed/modules/caddytls/matchers.go:430
#9 40.29 github.com/caddyserver/caddy/v2/modules/caddytls.TestLocalIPMatcher
#9 40.29 	/testbed/modules/caddytls/matchers_test.go:277
#9 40.29 testing.tRunner
#9 40.29 	/usr/local/go/src/testing/testing.go:1792
#9 40.29 --- PASS: TestLocalIPMatcher (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/caddytls	0.033s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddytls/distributedstek	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/caddytls/standardstek	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/filestorage	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/internal/network	[no test files]
#9 40.29 === RUN   TestFileCreationMode
#9 40.29 === RUN   TestFileCreationMode/default_mode_no_roll
#9 40.29 === RUN   TestFileCreationMode/default_mode_roll
#9 40.29 === RUN   TestFileCreationMode/custom_mode_no_roll
#9 40.29 === RUN   TestFileCreationMode/custom_mode_roll
#9 40.29 --- PASS: TestFileCreationMode (0.00s)
#9 40.29     --- PASS: TestFileCreationMode/default_mode_no_roll (0.00s)
#9 40.29     --- PASS: TestFileCreationMode/default_mode_roll (0.00s)
#9 40.29     --- PASS: TestFileCreationMode/custom_mode_no_roll (0.00s)
#9 40.29     --- PASS: TestFileCreationMode/custom_mode_roll (0.00s)
#9 40.29 === RUN   TestFileRotationPreserveMode
#9 40.29 --- PASS: TestFileRotationPreserveMode (0.00s)
#9 40.29 === RUN   TestFileModeConfig
#9 40.29 === RUN   TestFileModeConfig/set_mode
#9 40.29 === RUN   TestFileModeConfig/set_mode_3_digits
#9 40.29 === RUN   TestFileModeConfig/set_mode_2_digits
#9 40.29 === RUN   TestFileModeConfig/set_mode_1_digits
#9 40.29 === RUN   TestFileModeConfig/invalid_mode
#9 40.29 --- PASS: TestFileModeConfig (0.00s)
#9 40.29     --- PASS: TestFileModeConfig/set_mode (0.00s)
#9 40.29     --- PASS: TestFileModeConfig/set_mode_3_digits (0.00s)
#9 40.29     --- PASS: TestFileModeConfig/set_mode_2_digits (0.00s)
#9 40.29     --- PASS: TestFileModeConfig/set_mode_1_digits (0.00s)
#9 40.29     --- PASS: TestFileModeConfig/invalid_mode (0.00s)
#9 40.29 === RUN   TestFileModeJSON
#9 40.29 === RUN   TestFileModeJSON/set_mode
#9 40.29 === RUN   TestFileModeJSON/set_mode_invalid_value
#9 40.29 === RUN   TestFileModeJSON/set_mode_invalid_string
#9 40.29 --- PASS: TestFileModeJSON (0.00s)
#9 40.29     --- PASS: TestFileModeJSON/set_mode (0.00s)
#9 40.29     --- PASS: TestFileModeJSON/set_mode_invalid_value (0.00s)
#9 40.29     --- PASS: TestFileModeJSON/set_mode_invalid_string (0.00s)
#9 40.29 === RUN   TestFileModeToJSON
#9 40.29 === RUN   TestFileModeToJSON/none_zero
#9 40.29 === RUN   TestFileModeToJSON/zero_mode
#9 40.29 --- PASS: TestFileModeToJSON (0.00s)
#9 40.29     --- PASS: TestFileModeToJSON/none_zero (0.00s)
#9 40.29     --- PASS: TestFileModeToJSON/zero_mode (0.00s)
#9 40.29 === RUN   TestFileModeModification
#9 40.29 --- PASS: TestFileModeModification (0.00s)
#9 40.29 === RUN   TestIPMaskSingleValue
#9 40.29 --- PASS: TestIPMaskSingleValue (0.00s)
#9 40.29 === RUN   TestIPMaskCommaValue
#9 40.29 --- PASS: TestIPMaskCommaValue (0.00s)
#9 40.29 === RUN   TestIPMaskMultiValue
#9 40.29 --- PASS: TestIPMaskMultiValue (0.00s)
#9 40.29 === RUN   TestQueryFilterSingleValue
#9 40.29 --- PASS: TestQueryFilterSingleValue (0.00s)
#9 40.29 === RUN   TestQueryFilterMultiValue
#9 40.29 --- PASS: TestQueryFilterMultiValue (0.00s)
#9 40.29 === RUN   TestValidateQueryFilter
#9 40.29 --- PASS: TestValidateQueryFilter (0.00s)
#9 40.29 === RUN   TestCookieFilter
#9 40.29 --- PASS: TestCookieFilter (0.00s)
#9 40.29 === RUN   TestValidateCookieFilter
#9 40.29 --- PASS: TestValidateCookieFilter (0.00s)
#9 40.29 === RUN   TestRegexpFilterSingleValue
#9 40.29 --- PASS: TestRegexpFilterSingleValue (0.00s)
#9 40.29 === RUN   TestRegexpFilterMultiValue
#9 40.29 --- PASS: TestRegexpFilterMultiValue (0.00s)
#9 40.29 === RUN   TestHashFilterSingleValue
#9 40.29 --- PASS: TestHashFilterSingleValue (0.00s)
#9 40.29 === RUN   TestHashFilterMultiValue
#9 40.29 --- PASS: TestHashFilterMultiValue (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/logging	0.035s
#9 40.29 === RUN   TestMetricsUnmarshalCaddyfile
#9 40.29 --- PASS: TestMetricsUnmarshalCaddyfile (0.00s)
#9 40.29 PASS
#9 40.29 ok  	github.com/caddyserver/caddy/v2/modules/metrics	0.020s
#9 40.29 ?   	github.com/caddyserver/caddy/v2/modules/standard	[no test files]
#9 40.29 ?   	github.com/caddyserver/caddy/v2/notify	[no test files]
#9 40.29 FAIL
#9 DONE 40.6s

#10 exporting to image
#10 exporting layers
#10 exporting layers 19.8s done
#10 writing image sha256:a4bce74ad64bfea8f5bd22117af4db32dd818f73e6efe62d84fc14fec833da18 done
#10 naming to docker.io/jyangballin/swesmith.x86_64.caddyserver_1776_caddy.77dd12cc 0.0s done
#10 DONE 19.8s
